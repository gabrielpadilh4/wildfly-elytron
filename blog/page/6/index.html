<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Elytron: Blog - page 6</title>
    <script src="/wildfly-elytron/assets/javascript/highlight.pack.js" type="text/javascript"></script>

    <link rel="shortcut icon" type="image/png" href="/wildfly-elytron/favicon.ico">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- We override the colours from this theme manually -->
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="/wildfly-elytron/assets/css/styles.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <script src="/wildfly-elytron/assets/javascript/hl.js" type="text/javascript"></script>
    <link rel="alternate" type="application/rss+xml"  href="/wildfly-elytron/feed.xml" title="WildFly Elytron">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135301155-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-135301155-1');
    </script>
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Page 6 of 12 for Blog - page 6 | WildFly Elytron</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Blog - page 6" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://wildfly-security.github.io/wildfly-elytron/blog/page/6/" />
<meta property="og:url" content="https://wildfly-security.github.io/wildfly-elytron/blog/page/6/" />
<meta property="og:site_name" content="WildFly Elytron" />
<meta property="og:type" content="website" />
<link rel="prev" href="https://wildfly-security.github.io/wildfly-elytron/blog/page/5/" />
<link rel="next" href="https://wildfly-security.github.io/wildfly-elytron/blog/page/7/" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Blog - page 6" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Blog - page 6","url":"https://wildfly-security.github.io/wildfly-elytron/blog/page/6/"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>


<!-- Always shows a header, even in smaller screens. -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header mdl-layout__header--scroll">
        <div class="mdl-layout__header-row ">
            <!-- Title -->
            <span class="mdl-layout-title"><h3>Wild<strong>Fly</strong>  Elytron</h3></span>
            <!-- Add spacer, to align navigation to the right -->
            <div class="mdl-layout-spacer"></div>
            <nav class="mdl-navigation mdl-layout--large-screen-only">
                
                    
                    
                    
                         <a class="mdl-navigation__link Hacktoberfest-menuitem" href="/wildfly-elytron/hacktoberfest/">Hacktoberfest</a>
                    
                
                    
                    
                    
                         <a class="mdl-navigation__link Home-menuitem" href="/wildfly-elytron/">Home</a>
                    
                
                    
                    
                    
                         <a class="mdl-navigation__link Guides-menuitem" href="/wildfly-elytron/guides/">Guides</a>
                    
                
                    
                    
                    
                         <a class="mdl-navigation__link Docs-menuitem" href="/wildfly-elytron/docs/">Docs</a>
                    
                
                    
                    
                    
                         <a class="mdl-navigation__link Community-menuitem" href="/wildfly-elytron/community/">Community</a>
                    
                
                    
                    
                    
                         <a class="mdl-navigation__link mdl-navigation__link--current Blog-menuitem" href="/wildfly-elytron/blog/">Blog</a>
                    
                
                    
                    
                    
                         <a class="mdl-navigation__link GitHub-menuitem" href="https://github.com/wildfly-security/wildfly-elytron">GitHub</a>
                    
                
            </nav>
        </div>
    </header>
    <div class="mdl-layout__drawer">
        <div class="side-drawer-logo-container"><h3>Wild<strong>Fly</strong>  Elytron</h3></div>
        <nav class="mdl-navigation">
            
            
            
            
                <a class="mdl-navigation__link highlight-sidebar Hacktoberfest-menuitem" href="/wildfly-elytron/hacktoberfest/">Hacktoberfest</a>
            
            
            
            
            
                <a class="mdl-navigation__link Home-menuitem" href="/wildfly-elytron/">Home</a>
            
            
            
            
            
                <a class="mdl-navigation__link Guides-menuitem" href="/wildfly-elytron/guides/">Guides</a>
            
            
            
            
            
                <a class="mdl-navigation__link Docs-menuitem" href="/wildfly-elytron/docs/">Docs</a>
            
            
            
            
            
                <a class="mdl-navigation__link Community-menuitem" href="/wildfly-elytron/community/">Community</a>
            
            
            
            
            
                <a class="mdl-navigation__link mdl-navigation__link--current Blog-menuitem" href="/wildfly-elytron/blog/">Blog</a>
            
            
            
            
            
                <a class="mdl-navigation__link GitHub-menuitem" href="https://github.com/wildfly-security/wildfly-elytron">GitHub</a>
            
            
            <!-- mdl-navigation__link--current -->
        </nav>
    </div>
    <main class="mdl-layout__content">
        <div class="page-content">
            
            <div class="content">
                <div class="blog-page grid-wrapper">

  <div class="grid__item width-12-12"></div>

  <div class="grid__item width-1-12 align-self-center"></div>

  <div class="grid__item width-8-12 width-12-12-m">

    <script src="/wildfly-elytron/assets/javascript/lunr.js"></script>

<script>
    

    var documents = [{
        "id": 0,
        "url": "/wildfly-elytron/blog/ghc23-osd-recap/",
        "link": "",
        "title": "Open Source Day 2023 Recap",
        "author": "dvilkola",
        "postDate": "October 19, 2023",
        "body": "Last month, the WildFly Elytron team had the great pleasure of participating in Open Source Day, an all-day hackathon that took place as part of the 2023 Grace Hopper Celebration. This was the fourth time that the WildFly Elytron team has participated in this event. It is always an exciting opportunity for us to meet and help others get started with their open source contributions. Preparation: Prior to the day of the event, we created many jira issues and triaged existing ones that would be suitable for new contributors to our project. We tried to make sure that the descriptions of these issues contained a lot of detail and helpful pointers for getting started. We added the label  good-first-issue  to the appropriate ones. We also created a landing page for attendees where they could find all the important resources they needed. We made sure that our setup guides for different environments were still up to date. We added YouTube videos to the WildFly channel to let people know that we were participating in this event and to invite them to join our WildFly Elytron session. We actively promoted this on social media such as LinkedIn and Twitter. Many of the attendees contacted us before the event with their questions about the development environment and about the Jira issues. The Day Overall: After the motivational opening speeches by the Grace Hopper Conference speakers, the participants chose the Zoom Room of the project they wanted to participate in. At the beginning of the session, I gave a presentation about the Elytron project and we introduced ourselves. This year we were very happy to have our former interns, Sonia Zaldana Calles and Ashley Abdel-Sayed, join our project as mentors. The presentation also covered some general information on how to contribute to our project. Then it was time to start coding! During the hackathon, WildFly Elytron team and mentors helped participants set up their development environment, answered questions about git and the process of submitting and updating pull requests, helped participants choose and work on their problems, and gave feedback on their pull requests. The hackathon was split into 2 parts, before and after lunch. Many of the OSD attendees switched projects for the afternoon session, so we got some new attendees. The opening speeches and the presentation about our project were part of the afternoon session as well. In total, we received pull requests for 20 of our good first issues from first time contributors that day! Our First Time Contributors' Experience: Ensuring that our first time contributors have a good experience is the most important part of Open Source Day. Here&#8217;s what some of them had to say about the day: It was an immensely enjoyable experience contributing to the WildFly project on Open Source Day. The team and the environment were incredibly warm and welcoming, and I felt genuinely valued for every code commit I made. It was a fantastic learning opportunity, and I remained energetic and enthusiastic throughout the GHC Open Source Day while contributing to the WildFly project. I&#8217;m eager to continue contributing and be an integral part of this wonderful community. -Nidhi Azad One of the standout moments during my time at the Grace Hopper Celebration (GHC) was definitely the Open Source Day event. I had the pleasure of attending the  Open Source Day Project: WildFly Elytron  session, which was a first for me in the world of open source. To be honest, I&#8217;d always wondered how to dive into open source, and the biggest hurdle was figuring out where to start. Thankfully, the community had put together a list of beginner-friendly tasks, which turned out to be a fantastic way to dip my toes into the contribution process. The hosts of the session were fantastic. They created a friendly, welcoming atmosphere where we could ask questions and learn the ropes. We were actively encouraged to return to the project and make further contributions. I want to express my heartfelt thanks to everyone in that session who helped me take that first, albeit modest, step into the world of open source. -Srishti Hegde The team was friendly and generally helpful. The task of contributing to open source code seemed much easier after attending the session. -Brinda P What&#8217;s Next?: The WildFly Elytron project is currently participating in Hacktoberfest this month and welcomes your contributions! Check out this page for all the details on how to get involved with our project. " 
        
    } ,  {
        "id": 1,
        "url": "/wildfly-elytron/blog/make-meaningful-contribution-at-osd/",
        "link": "https://www.youtube.com/watch?v=nevZyt2TkzI",
        "title": "Vlog: Join us at Open Source Day on September 22, 2023 and Make Meaningful Contributions",
        "author": "szaldana",
        "postDate": "September 13, 2023",
        "body": "" 
        
    } ,  {
        "id": 2,
        "url": "/wildfly-elytron/blog/level-up-your-skills-OSD-vlog/",
        "link": "https://www.youtube.com/watch?v=9i_MiK0W2n4",
        "title": "Vlog: Join us at Open Source Day and Level Up Your Skills",
        "author": "prarthonapaul",
        "postDate": "September 07, 2023",
        "body": "" 
        
    } ,  {
        "id": 3,
        "url": "/wildfly-elytron/blog/securing-wildfly-apps-saml-openshift/",
        "link": "",
        "title": "Securing WildFly Apps with SAML on OpenShift",
        "author": "fjuma",
        "postDate": "September 06, 2023",
        "body": "Starting with WildFly 29, you can use Galleon to add Keycloak&#8217;s SAML adapter to your WildFlyinstallation using the new Keycloak SAML Adapter feature pack. In this guide, we&#8217;ll show howto secure an application deployed to WildFly on OpenShift with SAML. PrerequisitesExample ApplicationLog Into the OpenShift ClusterStart KeycloakOpenShift CLIOpenShift Web ConsoleConfigure KeycloakDownload the SAML KeysDownload and Edit the Keycloak Adapter Configuration FileAdd Helm ConfigurationDeploy the Example Application to WildFly on OpenShiftBehind the ScenesGet the Application URLFinish Configuring KeycloakAccess the ApplicationSummaryResourcesPrerequisites: To follow along with this guide, you will need: Roughly 15 minutes An IDE Access to an OpenShift cluster (try the Red Hat Developer Sandbox for free) OpenShift CLI WildFly Helm Chart Example Application: We will be using a simple web application in this guide that consists of a single servlet. We will securethis servlet using SAML. You&#8217;ll need to fork and then clone this Git repository: https://github. com/wildfly-security-incubator/elytron-examples. git We will be using the example in the simple-webapp-saml directory in this repo. Log Into the OpenShift Cluster: Before we can deploy our application, we need to log into an OpenShift cluster. You can log in via the OpenShift CLI: oc login -u myUserNameAlternatively, you can log in using an API token: oc login --token=myToken --server=myServerUrlYou can request the token via the Copy Login Command link in the OpenShift web console. If you don&#8217;t already have a project created, you can create one using: oc new-project myProjectNameStart Keycloak: We will be using Keycloak for our SAML identity provider. To start a Keycloak server in your project on OpenShift, use the following command: oc process -f https://raw. githubusercontent. com/keycloak/keycloak-quickstarts/latest/openshift/keycloak. yaml \  -p KEYCLOAK_ADMIN=admin \         (1)  -p KEYCLOAK_ADMIN_PASSWORD=admin \    (2)  -p NAMESPACE=myNameSpace \        (3)| oc create -f -1Replace admin with the user name you would like to use when accessing the Keycloak Administration Console. 2Replace admin with the password you would like to use when accessing the Keycloak Administration Console. 3Replace myNameSpace with your project name. After running the above command, you should see the following output: service/keycloak createdroute. route. openshift. io/keycloak createddeploymentconfig. apps. openshift. io/keycloak created. It will take a few minutes for OpenShift to provision the Keycloak pod and its related resources. You can use the OpenShift CLI or the OpenShift web console, depending on your preference,to check if your Keycloak server has been provisioned. OpenShift CLI: To make sure your Keycloak server has been provisioned using the OpenShift CLI, run: oc get podsAfter a little while, check for a message similar to the following message that indicates the pod is ready: NAME        READY   STATUS   RESTARTS  AGEkeycloak-1-deploy  0/1    Completed  0     1hkeycloak-1-l9kdx  1/1    Running   0     1hOnce the Keycloak server has been provisioned, use the following command to find the URL for your Keycloak instance&#8217;sAdmin Console: KEYCLOAK_URL=https://$(oc get route keycloak --template='{{ . spec. host }}') &amp;&amp;echo    &amp;&amp;echo  Keycloak Admin Console:  $KEYCLOAK_URL/admin  &amp;&amp;echo   OpenShift Web Console: To make sure your Keycloak server has been provisioned using the OpenShift web console,navigate to the Topology view in the Developer perspective. You can click on your keycloak appto check its status. Once it is running, you can click on Open URL and then access Keycloak&#8217;s Administration Console. Configure Keycloak: Log into the Keycloak Admin Console using the username and password you specified earlier. Create a new realm called myrealm. For more information, see the Keycloak documentation on how to create a realm. Add a role called user. This role will be required to access our simple web application. For more information, see the Keycloak documentation on how to create a role. Add a new user named alice. Set an email address for this new user, we&#8217;ll use alice@example. org. For more information, see the Keycloak documentation on how to create a user. Once the new user has been created, set a password for this new user from the Credentials tab. From the Role Mapping tab, assign alice the user role. For more information, see the Keycloak documentation on how to assign a role to a user. Create a new client as follows: Client type (or Client Protocol, depending on your Keycloak version): saml Client ID: simple-webapp-saml For more information, see the Keycloak documentation on how to create a SAML client. Once the new client has been created, in the Settings tab, scroll down to the SAML capabilities section andset the Name ID format to email. When accessingour servlet later on, we will see that this results in HttpServletRequest. getUserPrincipal(). getName() returningthe logged in user&#8217;s email address. Then set Force name ID format to On. Then click on Save. Download the SAML Keys: From your simple-webapp-saml client in the Keycloak Admin Console, click on the Keys tab. Click on the Export button in the Signing keys config to export the SAML keys to a keystore. Set the Key alias to simple-webapp-saml, the Key password to password,the Realm certificate alias to myrealm, and the Store password to password. Take note of the aliases and passwords that you specify here since these will be usedwhen updating the keycloak-saml. xml file. Click on Export to download the corresponding keystore. jks file. Create an OpenShift secret using this keystore by running the following command: oc create secret generic simple-webapp-saml-secret --from-file=/PATH/TO/keystore. jksDownload and Edit the Keycloak Adapter Configuration File: From your simple-webapp-saml client in the Keycloak Admin Console, click on the Action dropdown in the top right cornerand select Download Adapter Config. For the Format option, select the Keycloak SAML Adapter keycloak-saml. xml, and download the file and place it in the exampleapplication&#8217;s WEB-INF directory, i. e. , place the keycloak-saml. xml file in/PATH/TO/ELYTRON/EXAMPLES/simple-webapp-saml/src/main/webapp/WEB-INF. Update the keycloak-saml. xml file as follows: Set the SP entityID to  simple-webapp-saml  Set the SP logoutPage to  /simple-webapp-saml  Replace the SP Keys configuration with the following configuration, being sure to use the aliasesand passwords you specified when exporting the SAML keys to the keystore. jks file: &lt;Keys&gt;  &lt;Key signing= true &gt;    &lt;KeyStore password= password  file= /etc/keycloak-saml-secret-volume/keystore. jks &gt;      &lt;PrivateKey alias= simple-webapp-saml  password= password /&gt;      &lt;Certificate alias= myrealm /&gt;    &lt;/KeyStore&gt;  &lt;/Key&gt;&lt;/Keys&gt;Push this new file to the simple-webapp-saml directory in your elytron-examples fork, makingsure to push the changes to your fork&#8217;s default branch. cd /PATH/TO/ELYTRON/EXAMPLES/simple-webapp-samlgit add src/main/webapp/WEB-INF/keycloak-saml. xmlgit commit -m  Added Keycloak adapter deployment descriptor file git push origin mainAdd Helm Configuration: Let&#8217;s switch to the charts directory in our simple-webapp-saml example: cd /PATH/TO/ELYTRON/EXAMPLES/simple-webapp-saml/chartsNotice there&#8217;s a helm. yaml file in this directory with the following content: build: uri: https://github. com/YOUR_GITHUB_USERNAME/elytron-examples contextDir: simple-webapp-samldeploy: volumes:  - name: saml-keystore-volume   secret:    secretName: simple-webapp-saml-secret volumeMounts:  - name: saml-keystore-volume   mountPath: /etc/keycloak-saml-secret-volume   readOnly: trueReplace YOUR_GITHUB_USERNAME in the build uri with your own GitHub username. The helm. yaml file specifies the Git repository that contains our application&#8217;s source code. Because we have modified the application&#8217;s source code by adding a keycloak-saml. xml file, you needto set the build uri in the helm. yaml file to point to your own fork. Notice that our helm. yaml file also refers to the OpenShift secret, simple-webapp-saml-secret wecreated earlier. This will be used to mount the keystore. jks file on our WildFly server pod. Deploy the Example Application to WildFly on OpenShift: We can deploy our example application to WildFly on OpenShift using the WildFly Helm Chart: helm install saml-app -f /PATH/TO/ELYTRON/EXAMPLES/simple-webapp-saml/charts/helm. yaml wildfly/wildflyNotice that this command specifies the file we updated, helm. yaml, that contains the valuesneeded to build and deploy our application. The application will now begin to build. This will take a couple of minutes. The build can be observed using: oc get build -wOnce complete, you can follow the deployment of the application using: oc get deployment saml-app -wAlternatively, you can check status directly from the OpenShift web console. Behind the Scenes: While our application is building, let&#8217;s take a closer look at our application&#8217;s pom. xml file. Notice that it contains the following wildfly-maven-plugin configuration: &lt;plugin&gt;  &lt;groupId&gt;org. wildfly. plugins&lt;/groupId&gt;  &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;  &lt;version&gt;${version. wildfly. plugin}&lt;/version&gt;  &lt;configuration&gt;    &lt;feature-packs&gt;      &lt;feature-pack&gt;        &lt;location&gt;org. wildfly:wildfly-galleon-pack:${version. wildfly}&lt;/location&gt;      &lt;/feature-pack&gt;      &lt;feature-pack&gt;        &lt;location&gt;org. wildfly. cloud:wildfly-cloud-galleon-pack:${version. wildfly. cloud. galleon. pack}&lt;/location&gt;      &lt;/feature-pack&gt;      &lt;feature-pack&gt;        &lt;location&gt;org. keycloak:keycloak-saml-adapter-galleon-pack:${version. keycloak}&lt;/location&gt;      &lt;/feature-pack&gt;    &lt;/feature-packs&gt;    &lt;layers&gt;      &lt;layer&gt;cloud-server&lt;/layer&gt;      &lt;layer&gt;keycloak-client-saml&lt;/layer&gt;    &lt;/layers&gt;  &lt;/configuration&gt;  &lt;executions&gt;    &lt;execution&gt;      &lt;goals&gt;        &lt;goal&gt;package&lt;/goal&gt;      &lt;/goals&gt;    &lt;/execution&gt;  &lt;/executions&gt; &lt;/plugin&gt;This configuration is used to provision a WildFly server with the specified layers and with our application deployed. The keycloak-client-saml layer automatically adds the Keycloak SAML adapter to our WildFly installation. Get the Application URL: Once the WildFly server has been provisioned, use the following command to find the URL for your exampleapplication: SIMPLE_WEBAPP_SAML_URL=https://$(oc get route saml-app --template='{{ . spec. host }}') &amp;&amp;echo    &amp;&amp;echo  Application URL:       $SIMPLE_WEBAPP_SAML_URL/simple-webapp-saml  &amp;&amp;echo  Master SAML Processing URL:  $SIMPLE_WEBAPP_SAML_URL/simple-webapp-saml/saml  &amp;&amp;echo   We&#8217;ll make use of these URLs in the next two sections. Finish Configuring Keycloak: From your simple-webapp-saml client in the Keycloak Administration Console,In the client settings, set Master SAML Processing URL to the Master SAML Processing URL that was outputin the previous section and then click Save. Access the Application: From your browser, navigate to the Application URL. Click on Access Secured Servlet. You will be redirected to Keycloak to log in. Log in using the alice user we created earlier. Upon successful authentication, you will be redirected back to the example application. The example application simply outputs the email address associated with our logged in user. You should see the following output: Current Principal 'alice@example. org'This indicates that we have successfully logged into our application! Summary: This guide has shown how to secure an application deployed to WildFly on OpenShift with SAML. For additionalinformation, feel free to check out the resources linked below. Resources: Getting Started with WildFly on OpenShift OpenShift CLI WildFly Helm Chart Getting started with Keycloak on OpenShift Keycloak Server Administration Guide Using SAML to secure applications and services " 
        
    } ,  {
        "id": 4,
        "url": "/wildfly-elytron/blog/no-prior-experience-needed-at-wildfly-elytron-open-source-day/",
        "link": "https://www.youtube.com/watch?v=PAcqCa8u0Z8",
        "title": "Vlog: Join us at Open Source Day, No Prior Experience Needed",
        "author": "dvilkola",
        "postDate": "September 06, 2023",
        "body": "" 
        
    } ,  {
        "id": 5,
        "url": "/wildfly-elytron/blog/join-wildfly-elytron-at-open-source-day/",
        "link": "https://www.youtube.com/watch?v=vUWGPTCNl4I",
        "title": "Vlog: Begin your Open Source Journey with the WildFly Elytron Project at Open Source Day",
        "author": "fjuma",
        "postDate": "August 29, 2023",
        "body": "" 
        
    } ,  {
        "id": 6,
        "url": "/wildfly-elytron/blog/securing-management-console-oidc/",
        "link": "",
        "title": "Securing the WildFly Management Console with OpenID Connect",
        "author": "fjuma",
        "postDate": "July 24, 2023",
        "body": "WildFly 29 Final, which was just released last week, includes the ability to secure the WildFly Management Consolewith OpenID Connect using the Keycloak OpenID provider. This blog post gives an overview of how to configure this. OpenID ConnectSecuring the WildFly Management Console with the Keycloak OpenID ProviderKeycloak ConfigurationElytron OIDC Client Subsystem ConfigurationAccessing the WildFly Management ConsoleSummaryOpenID Connect: OpenID Connect (OIDC) is an identity layer on top of the OAuth 2. 0 protocol. OpenID Connect makes it possible for a client to verify a user&#8217;s identity based on authenticationthat&#8217;s performed by an OpenID provider. Securing the WildFly Management Console with the Keycloak OpenID Provider: When the WildFly Management Console is secured using OIDC, this means that when a user attempts toaccess the console, they will be redirected to the Keycloak OpenID provider&#8217;s login page. Upon successfulauthentication, the user will then be redirected back to the WildFly Management Console. To secure the WildFly Management Console with OIDC, there is configuration that needs to be addedon the Keycloak side and in the elytron-oidc-client subsystem configuration. Keycloak Configuration: Set up: It&#8217;s easy to set up Keycloak using Docker. Follow the steps in Keycloak&#8217;s getting started guideto start Keycloak and create a realm called wildfly-infra. Now, we&#8217;re going to create a client called wildfly-console. Set the Valid Redirect URIs using the URI used to accessthe WildFly Management Console. Since we will use a port offset of 10 when starting WildFly in this post, we willset the Valid Redirect URIs to http://localhost:10000/console/*. Similarly, we can also set Web Originsusing the management port for our WildFly instance, e. g. , http://localhost:10000. Next, create a second client called wildfly-management. This will be a bearer-only client so in the Capability configuration,be sure to uncheck the Standard flow and Direct access grants. Finally, create a user called alice. Optional Role Configuration: If you want to configure WildFly to use Role Based Access Control (RBAC),you can create a new Realm role (e. g. , Administrator) and assign this role to alice. Steps for assigning roles can be found in the Keycloak documentation. Elytron OIDC Client Subsystem Configuration: Now that we&#8217;ve configured our OpenID provider, there are a couple things that need to be configured in theelytron-oidc-client subsystem to secure the WildFly Management Console with OIDC. First, we need to add a secure-deployment resource that references the wildfly-management client that was created in the previous section. A secure-server that references the wildfly-console client is also needed. We can use the following commands to add the required configuration: First, we need to start our WildFly server instance. Notice that we&#8217;re specifying a port offset heresince our Keycloak instance is already exposed on port 8080: . /bin/standalone. sh -Djboss. socket. binding. port-offset=10Next, we can connect to the WildFly CLI and then execute the commands below: . /bin/jboss-cli. sh --connect --controller=localhost:10000# Configure the Keycloak provider/subsystem=elytron-oidc-client/provider=keycloak:add(provider-url=http://localhost:8080/realms/wildfly-infra)# Create a secure-deployment in order to secure the management interface with bearer token authentication/subsystem=elytron-oidc-client/secure-deployment=wildfly-management:add(provider=keycloak,client-id=wildfly-management,principal-attribute=preferred_username,bearer-only=true,ssl-required=EXTERNAL)# (Optional) Enable RBAC where roles are obtained from the identity/core-service=management/access=authorization:write-attribute(name=provider,value=rbac)/core-service=management/access=authorization:write-attribute(name=use-identity-roles,value=true)# Create a secure-server to ensure that the WildFly Management Console will redirect to the Keycloak OpenID provider for log in/subsystem=elytron-oidc-client/secure-server=wildfly-console:add(provider=keycloak,client-id=wildfly-console,public-client=true)# reloadreloadAccessing the WildFly Management Console: With the above configuration now in place, let&#8217;s access http://localhost:10000/console. We will be redirected tothe Keycloak login page. We can log in using the alice user that we created earlier. Upon successful authentication,we will be redirected back to the WildFlyManagement Console. Summary: This blog post has given an overview of how to secure the WildFly Management Console with OIDC using theElytron OIDC Client subsystem. " 
        
    } ,  {
        "id": 7,
        "url": "/wildfly-elytron/blog/Client-cert-auth-without-roles/",
        "link": "",
        "title": "Using Certificate Based Authentication with Mutual TLS without Roles",
        "author": "prarthonapaul",
        "postDate": "June 26, 2023",
        "body": "Mutual TLS with client certificates is essentialfor secure and encrypted communication betweenclients and servers in various applications and systems. It involves a handshake process during which both the clientand the server must present their certificate to each otherin order to establish a secure connection. This ensures thatboth parties are authenticated before establishing the connection. This example will walk you through how to secure a web application deployed to WildFly with mutual TLS and the CLIENT_CERT HTTP authentication mechanism. In this example we will be using certificatessigned by an example CA. We will be making use of thedynamic-certificates project. Certification GenerationServer ConfigurationDeploying the applicationImport the Certificate into Your BrowserImport the Certificate into Google ChromeImport the Certificate into Mozilla FirefoxAccessing the applicationCertification Generation: First, clone the elytron-examples repo locally: git clone https://github. com/wildfly-security-incubator/elytron-examplescd elytron-examplesNext, let&#8217;s generate some client and server certificates that will be used in this example to set up two-way SSL between a server and two clients: cd dynamic-certificatesmvn clean install exec:java -Dexec. mainClass= org. wildfly. security. examples. CertificateGenerationExample  -Dexec. args= CN=Bob. Smith. 123456 CN=Alice. Smith. 456789 The above command generates the following keystores and truststores in the dynamic-certificates/target directory: client1. keystoreclient1. truststoreclient2. keystoreclient2. truststoreserver. keystoreserver. truststoreclient1. keystore contains a certificate with distinguished name: CN=Bob. Smith. 123456 client2. keystore contains a certificate with distinguished name: CN=Alice. Smith. 456789 Both client certificates are issued by an example certificate authority with distinguished name: CN=Elytron CA, ST=Elytron, C=UK, EMAILADDRESS=elytron@wildfly. org, O=Root Certificate Authority server. truststore contains this certificate authority&#8217;s certificate Next, convert the client keystores into PKCS12 format and import them into your browser so you can pick which one topresent to the server later on: keytool -importkeystore -srckeystore client1. keystore -srcstoretype jks -destkeystore client1. keystore. pkcs12 -deststoretype pkcs12 -srcstorepass keystorepass -deststorepass keystorepasskeytool -importkeystore -srckeystore client2. keystore -srcstoretype jks -destkeystore client2. keystore. pkcs12 -deststoretype pkcs12 -srcstorepass keystorepass -deststorepass keystorepassFinally, copy the server. keystore and server. truststore files to your WildFly server instance: cp $PATH_TO_ELYTRON_EXAMPLES/dynamic-certificates/target/server. * $WILDFLY_HOME/standalone/configurationServer Configuration: The following set of instructions are going to be used to configure the WildFly server in order toestablish the mutual TLS connection. We will be deploying a simple web application inside theelytron-examples/client-cert-auth-without-roles/simple-webapp project. Please navigate to the elytron server home directory and enter the following command. $SERVER_HOME/bin/jboss-cli. sh --connectThis will connect you to the server, after which you may proceed to configuring the server. First we need to create two keystores inside the elytron subsystem: /subsystem=elytron/key-store=twoWayKS:add(path=/path/to/server. keystore, relative-to=jboss. server. config. dir, credential-reference={clear-text=keystorepass}, type=JKS)/subsystem=elytron/key-store=twoWayTS:add(path=/path/to/server. truststore,relative-to=jboss. server. config. dir, credential-reference={clear-text=truststorepass}, type=JKS)The relative-to option specifies that the path that you have entered is relative to the /standalone/configuration folderinside your WILDFLY_HOME directory. Next, we need to create a key-manager and a trust manager to point to twoWayKS and twoWayTS, the previouslycreated keystores using the following commands: /subsystem=elytron/key-manager=twoWayKM:add(key-store=twoWayKS,credential-reference={clear-text=keystorepass})/subsystem=elytron/trust-manager=twoWayTM:add(key-store=twoWayTS)Next, we need to configure our server-ssl-context. Since the applicationSSC server-SSL-context already exists in the default configuration,we will not be adding one. Instead, we will be editing its properties using the write-attribute command: /subsystem=elytron/server-ssl-context=applicationSSC:write-attribute(name=key-manager, value=twoWayKM)/subsystem=elytron/server-ssl-context=applicationSSC:write-attribute(name=trust-manager, value=twoWayTM)/subsystem=elytron/server-ssl-context=applicationSSC:write-attribute(name=need-client-auth, value=true)Now, when WildFly receives an HTTPS request, elytron will make use of this SSL context when handling the request. Setting need-client-auth to true indicates that a client needs to be authenticated in order to establish a connection. Next, we will configure a principal transformer that will map an X. 509 certificate to a generic user name. To do this,we will make use of a chained-principal-transformer that consists of an x500-attribute-principal-decoder and a regex-principal-transformer. The x500-attribute-principal-decoder is used to obtain the first segment from the CN value from an X. 509 certificate. The regex-principal-transformer checks if the CN value matches a specific pattern and if so maps the principal to client-cert-user. client-cert-user is a user without any roles. /subsystem=elytron/x500-attribute-principal-decoder=cnDecoder:add(attribute-name=CN, maximum-segments=1)/subsystem=elytron/regex-principal-transformer=myRegexTransformer:add(pattern= [a-zA-Z]+\\. [a-zA-Z]+\\. [0-9]+ , replacement= client-cert-user )/subsystem=elytron/chained-principal-transformer=myChainedTransformer:add(principal-transformers=[cnDecoder, myRegexTransformer])Next, we&#8217;ll create a security domain that references a filesystem realm containing out client-cert-user identity. The filesystem realm would help us map our user to client-cert-user. /subsystem=elytron/filesystem-realm=idsRealm:add(path=ids, relative-to=jboss. server. config. dir)/subsystem=elytron/filesystem-realm=idsRealm:add-identity(identity=client-cert-user)/subsystem=elytron/security-domain=clientCertDomain:add(realms=[{realm=idsRealm}], default-realm=idsRealm, pre-realm-principal-transformer=myChainedTransformer, permission-mapper=default-permission-mapper)Afterwards, use the following commands to configure the CLIENT_CERT HTTP mechanism: /subsystem=elytron/configurable-http-server-mechanism-factory=configuredCert:add(http-server-mechanism-factory=global, properties={org. wildfly. security. http. skip-certificate-verification=true})/subsystem=elytron/http-authentication-factory=clientCertAuth:add(http-server-mechanism-factory=configuredCert, security-domain=clientCertDomain , mechanism-configurations=[{mechanism-name=CLIENT_CERT}])And finally, we need to configure the undertow subsystem to make use of our http-authentication-factory. Please run the following commandsin a batch as specified below to avoid unnecessary warnings: batch#configure the undertow subsystem/subsystem=undertow/application-security-domain=other:undefine-attribute(name=security-domain)/subsystem=undertow/application-security-domain=other:write-attribute(name=http-authentication-factory,value=clientCertAuth)/subsystem=undertow/application-security-domain=other:write-attribute(name=override-deployment-config,value=true)run-batchAnd to apply all these changes, please type in reload into the same terminal. Now that we have configured the server, we are ready to deploy and test our application. Deploying the application: We’re going to make use of the simple-webapp project. It can be deployed using the following commands: cd $PATH_TO_ELYTRON_EXAMPLES/client-cert-auth-without-roles/simple-webappmvn clean install wildfly:deployNote: There is also a repository called elytron-examples/simple-webapp. But we will not be using that. Instead, we will be deploying a slightly modified version of that web application located inside this repository. Import the Certificate into Your Browser: Before you access the application, you must import the client1. keystore. pkcs12, which holds the client certificate, into your browser. Import the Certificate into Google Chrome: Click the Chrome menu icon (3 dots) in the upper right on the browser toolbar and choose Settings. This takes you to link:`chrome://settings/. Click on Privacy and security and then on Security. Scroll down to the Advanced section and on the Manage certificates screen, select the Your Certificates tab and click on the Import button. Select the client1. keystore. pkcs12 file. You will be prompted to enter the password: keystorepass. The client certificate is now installed in the Google Chrome browser. You can follow the same instructions to import client2. keystore. pkcs12 into your browser. Import the Certificate into Mozilla Firefox: Click the Edit menu item on the browser menu and choose Settings. A new window will open. Click on Privacy &amp; Security and scroll down to the Certificates section. Click the View Certificates button. A new window will open. Select the Your Certificates tab and click the Import button. Select the client1. keystore. pkcs12 file. You will be prompted to enter the password: keystorepass. The certificate is now installed in the Mozilla Firefox browser. You can follow the same instructions to import client2. keystore. pkcs12 into your browser. Accessing the application: Try accessing the application using https://localhost:8443/simple-webapp. Note that since the server&#8217;s certificate won&#8217;t be trusted by your browser, you&#8217;ll need to manually confirm thatthis certificate is trusted or configure your browser to trust it. Select the certificate for Bob. Smith. 123456 and then click on“Access Secured Servlet”. This will authenticate the client and will recognize that Bob accessed the web application and print  Login Successful . If you imported client2. keystore. pkcs12, you will be able to access the web app with Alice&#8217;s certificate as well. Once you are ready to restore your server back to what it was, please enter the following on you terminal: $SERVER_HOME/bin/jboss-cli. sh --connect --file=$PATH_TO_ELYTRON_EXAMPLES/client-cert-auth-without-roles/restore-elytron-configuration. cliAlteratively, you can keep a backup of your standalone. sh file and replace it with the backup once you want to go back. This example has demonstrated how to secure a web application deployed to WildFly using the CLIENT_CERT HTTP authenticationmechanism with two-way SSL. It has also demonstrated that individual client certificates do not needto be stored in either the server’s truststore or in its security realm. " 
        
    } ,  {
        "id": 8,
        "url": "/wildfly-elytron/blog/specify-http-digest-algorithms/",
        "link": "",
        "title": "Configuring the Digest mechanism to make use of additional algorithms",
        "author": "dvilkola",
        "postDate": "May 15, 2023",
        "body": "The default algorithm used for the digest authentication mechanism is MD5. You can configure the WildFly server to also require or accept the SHA-256 and SHA-512-256 algorithms. This configuration can be specified in the mechanism-configuration attribute of both the http-authentication-factory and the sasl-authentication-factory: &lt;http-authentication-factory name= exampleHttpAuthFactory  security-domain= exampleSD  http-server-mechanism-factory= global &gt;  &lt;mechanism-configuration&gt;    &lt;mechanism mechanism-name= DIGEST-SHA-256 &gt;      &lt;mechanism-realm realm-name= exampleDomain /&gt;    &lt;/mechanism&gt;    &lt;mechanism mechanism-name= DIGEST-SHA-512-256 &gt;      &lt;mechanism-realm realm-name= exampleDomain /&gt;    &lt;/mechanism&gt;  &lt;/mechanism-configuration&gt;&lt;/http-authentication-factory&gt;. . . &lt;sasl-authentication-factory name= exampleSaslAuthentication  security-domain= exampleSD  sasl-server-factory= configured &gt;  &lt;mechanism-configuration&gt;    &lt;mechanism mechanism-name= DIGEST-SHA-256 &gt;      &lt;mechanism-realm realm-name= exampleDomain /&gt;    &lt;/mechanism&gt;    &lt;mechanism mechanism-name= DIGEST-SHA-512-256 &gt;      &lt;mechanism-realm realm-name= exampleDomain /&gt;    &lt;/mechanism&gt;  &lt;/mechanism-configuration&gt;&lt;/sasl-authentication-factory&gt;Note Make sure that your security realm can provide credentials in the format required by the DIGEST mechanism. The server must be able to calculate the response and verify it against the provided response. Example: You can see an example of securing a web application with DIGEST-SHA-256 and DIGEST-SHA-512-256 here. Summary: You can configure DIGEST-SHA-256 and DIGEST-SHA-512-256 mechanisms in the WildFly server. " 
        
    } ,  {
        "id": 9,
        "url": "/wildfly-elytron/blog/using-custom-principals-with-elytron/",
        "link": "",
        "title": "Using Custom Principals with Elytron",
        "author": "cam-rod",
        "postDate": "April 25, 2023",
        "body": "Sometimes, you need to access additional information about anauthenticated user. As an example, you may want to know when they loggedin, or what information they have on file. Traditionally, this type ofinformation needed to be stored using security realm attributesassociated with an identity. Now in WildFly 28, it is possible to use acustom Principal instance instead. Custom principals allow you to add fields and methods to a Principal. Byconfiguring a custom PrincipalTransformer, you can modify the principalduring the authentication process. You can then retrieve this principal,and its functionality, from your application. Let&#8217;s take a look at howthis works. Create a custom principalCreate a custom principal transformerConfigure the custom componentsAccessing the custom principalJakarta SecurityUsing SecurityContext with ElytronJakarta Enterprise Beans (EJBs)Flexible principals for real-time functionalityCreate a custom principal: First, you&#8217;ll need to create a custom implementation of the Principalclass. The custom principal will be created at the pre-realm stage ofauthentication, which you can learn more about inthisblog post. Let&#8217;s create a class called CustomPrincipal that implements thePrincipal class. This class will record the time a user logged in. We&#8217;llstart with a basic definition of the class, introduce a name field, andoverride equals() to compare against the name as well: A basic Principal implementationpackage com. company. components;import java. io. Serializable;import java. security. Principal;import java. time. LocalDateTime;public class CustomPrincipal implements Principal, Serializable {  private static final long serialVersionUID = 3384494813486178989L;  private final String name;  @Override  public String getName() {    return this. name;  }  @Override  public boolean equals(final Object object) {    if (object instanceof CustomPrincipal) {      return this. name. equals( ((CustomPrincipal) object). getName() );    }    return false;  }}Then, let&#8217;s introduce a field to store the login time, a getter, and aconstructor to set the time: Adding login timestamps to the principal// [. . . ]public class CustomPrincipal implements Principal, Serializable {  // [. . . ]  private final LocalDateTime loginTime;  public CustomPrincipal(Principal principal, LocalDateTime loginTime) {    this. name = principal. getName();    this. loginTime = loginTime;  }  /** @return The time at which the user attempted authentication. */  public LocalDateTime getloginTime() {    return this. loginTime;  }  // [. . . ]}And that&#8217;s it! Our custom principal can now provide the time of login. Create a custom principal transformer: Elytron uses implementations of the PrincipalTransformer interface tomodify principals during the authentication. For example,regex-principal-transformer will apply a regular expression to modifythe name of a principal. In the same way, we can use acustom-principal-transformer to convert into our CustomPrincipal. To do this, we&#8217;ll implement the PrincipalTransformer interface. In theapply() method, we&#8217;ll record the current time and return a new instance ofour custom principal: A custom PrincipalTransformer implementationpackage com. company. components;import java. security. Principal;import java. time. LocalDateTime;import org. wildfly. extension. elytron. capabilities. PrincipalTransformer;public class CustomPrincipalTransformer implements PrincipalTransformer {  @Override  public Principal apply(Principal principal) {    LocalDateTime loginTime = LocalDateTime. now();    return new CustomPrincipal(principal, loginTime);  }}If we needed to pass variables from the server configuration to thetransformer, we could also override the initialize() method. You canlearn more about custom components in theElytrondocumentation. Configure the custom components: Now, we can configure WildFly to use our custom components. First,package the custom principal and transformer into a JAR. Then, withWildFly running, open the WildFly CLI in a terminal session, and add anew module that contains our archive: [standalone@localhost:9990 /] module add --name=custom-principal-components \--resources=/PATH/TO/custom-principal-components. jar \--dependencies=org. wildfly. security. elytron,org. wildfly. extension. elytronWe can configure a custom principal transformer that references thisnew module. For example, let&#8217;s say we wanted to use our custom principalwith the ApplicationDomain security domain. We can add our transformeras a pre-realm-principal-transformer. Here are the CLI commands neededto achieve that: [standalone@localhost:9990 /] /subsystem=elytron/custom-principal-transformer=customPrincipalTransformer:add(module=custom-principal-components,\class-name=com. company. components. CustomPrincipalTransformer){ outcome  =&gt;  success }[standalone@localhost:9990 /] /subsystem=elytron/security-domain=ApplicationDomain:write-attribute(name=pre-realm-principal-transformer,\value=customPrincipalTransformer){   outcome  =&gt;  success ,   response-headers  =&gt; {     operation-requires-reload  =&gt; true,     process-state  =&gt;  reload-required   }}[standalone@localhost:9990 /] reloadNow, whenever a user is authenticated via the ApplicationDomain, ourCustomPrincipal will be associated with that user. Accessing the custom principal: There are many ways you can retrieve a principal from within anapplication. A few methods are listed below, with links to exampleapplications you can try yourself. Jakarta Security: With Jakarta Security, you can access the current user via theSecurityContext object. Inject the SecurityContext into your JakartaServlet, and use the standard methods getCallerPrincipal() orgetPrincipalsByType() to retrieve the custom principal: Accessing a custom principal with Jakarta Securitypackage com. company. servlet;// [. . . ]@WebServletpublic class MyServlet extends HttpServlet {  @Inject  private SecurityContext securityContext;  private CustomPrincipal getCustomPrincipal() {    Principal custPrincipal = securityContext. getCallerPrincipal();    return (CustomPrincipal) custPrincipal;  }  private CustomPrincipal getCustomPrincipalByType() {    Set&lt;CustomPrincipal&gt; principals = securityContext. getPrincipalsByType(CustomPrincipal. class);    return principals. iterator(). next();  }  // [. . . ]}To use this functionality, simply enable a default JakartaAuthorization (JACC) policy in Elytron: [standalone@localhost:9990 /] /subsystem=elytron/policy=jacc:add(jacc-policy={})The custom-principal-eeexample is a full Jakarta Security implementation. It demonstrates howboth of these methods return the same class, making the custom principalavailable to the Servlet. Using SecurityContext with Elytron: When securing an application using an Elytron HTTP authenticationmechanism instead of Jakarta Security, it’s still possible to use theSecurityContext to retrieve the custom principal from within anapplication. By creating the default JACC policy and injecting aSecurityContext into an application, WildFly will automatically allowthe application to use the interface to access the authorized identity. Thecustom-principal-elytronexample is similar to thecustom-principal-eedemo, but unlike the Jakarta Security application, it uses one of Elytron&#8217;sbuilt-in authentication mechanisms. Jakarta Enterprise Beans (EJBs): The custom principal can be retrieved by any class implementingEJBContext. For example, a stateless EJB can inject SessionContext, andcall getCallerPrincipal() to retrieve the custom principal: Accessing a custom principal from an EJBpackage com. company. beans;// [. . . ]@Stateless@Remote(MyBeanInterface. class)public class MyBean implements MyBeanInterface {  @Resource  private SessionContext ejbContext;  @Override  public CustomPrincipal getCustomPrincipal() {    Principal custPrincipal = ejbContext. getCallerPrincipal();    return (CustomPrincipal) custPrincipal;  }  // [. . . ]}The custom-principal-ejbexample demonstrates a pair of EJBs and a remote client using methodsfrom a custom principal. Flexible principals for real-time functionality: With WildFly 28, it’s now possible to associate a custom Principal classwith authenticated users. This means it’s now easier to accessadditional information and methods for a user, without needing to storeit in a security realm or elsewhere. " 
        
    } ,  {
        "id": 10,
        "url": "/wildfly-elytron/blog/ask-me-anything-recap/",
        "link": "",
        "title": "AMA Recap",
        "author": "fjuma",
        "postDate": "December 22, 2022",
        "body": "The WildFly Elytron team had our very first Ask Me Anything (AMA) session on chat this week. Thanks very much to those who joined! This blog post gives a recap of the session in caseyou missed it. Q: How can I contribute to Elytron as a person who has almost no security knowledge and might not be the best at documentation?: Prior security knowledge isn&#8217;t required to contribute to the Elytron project. A great starting point for codecontributions is to take a look at our good-first-issues. These are a good way to get started with the project without requiring prior security experience and can help you get more familiar with the different parts of the project. In addition to code contributions, other ways to get involved could be by asking questions on the WildFly user forum, raising bug reports, creating feature requests, writing blog posts about a cool Elytron feature you&#8217;ve tried out, etc. Lots of ways to contribute! Q: What have been the wins and challenges for Elytron for 2022?: Towards the end of last year, support for legacy security was removed from WildFly and we moved to Elytron-based security only. In 2022, we finally got to remove the final pieces of legacy security code from WildFly! That was certainly a big win for us. On the feature side, we released a bunch of interesting new features in 2022 including support for encryption and integrity verification for filesystem realms, OIDC enhancements, and SSLContext configuration enhancements. On the community side, we really enjoyed participating in events like Open Source Day and Hacktoberfest. We also got involved in vlogging for the WildFlyAS YouTube channel which was something new for us. We have a lot of new things we&#8217;d like to work on and areas that we&#8217;d like to explore further. One of our biggest challenges has been finding the time to get to everything! Perspective from a current intern on the WildFly Elytron team: Our intern, Cameron Rodriguez, also chimed in with his own perspective on some of his personal wins andchallenges during his first 8 months on the WildFly Elytron team. Coming on, it was my first time contributing to a project of this size, so learning how to not only work on the codebase, but also with the community around the WildFly project was a new experience for me. Although it was a bit confusing at times, I feel like I&#8217;ve really learned a lot about working with an open source community and all the cool things that come out of it. Like Farah said, community events like Open Source Day are a lot of fun! On the technical side, getting familiar with the project and seeing my changes go into action is a lot of fun. One challenge would be relearning Java; it had been a while since I had last used the language so it took a bit to get used to it again. On the community side, being able to help people out in Zulip, on Stack Overflow, and elsewhere has been really cool. I don&#8217;t think I would get the chance to meet the users in a closed-source project, so it&#8217;s a huge plus. I&#8217;m about halfway through my co-op, so looking forward to more fun stuff next year! Q: Is there a tool to automatically convert old PicketBox configuration in standalone. xml to Elytron configuration?: There isn&#8217;t a tool for this but we do have a couple of migration guides that should assist with the manual steps that are needed to convert your configuration: Migrate Legacy Security to Elytron Security WildFly Migration Guide Feel free to let us know if you have any questions or run into any issues with migrating, we&#8217;re happy to help! Q: Which SSL context will be used by an SSL client in a servlet if Elytron&#8217;s SSL configuration and the java SL properties of WildFly are different?: If Elytron client configuration is being used and a client ssl context has been configured, then that will take precedence. It&#8217;s also possible to register a client side default SSL context as described here: Client side default SSL context provider Feel free to let us know if you have more questions about this. Q: Is it possible to somehow read Elytron configuration in runtime? I am writing a PrincipalTransformer and it would be useful to get information about configured realms in a transformer&#8217;s initialize method. : A PrincipalTransformer is used during the authentication process to optionally transform the principal before selecting the realm to use to load the identity and to optionally transform the principal after the realm has been selected. Different realms can have different principal transformers configured. A principal-transformer can be referenced from the realm configuration for a security-domain. There&#8217;s an example here. More details about principal transformers can also be found in this blog post in case it helps. Come Join Us: We hope to have more Ask Me Anything sessions in 2023 so stay tuned for those! Want to learn more about WildFly Elytron? Come join our community, there are so many waysto contribute! Happy Holidays from the WildFly Elytron team! " 
        
    } ,  {
        "id": 11,
        "url": "/wildfly-elytron/blog/ask-me-anything/",
        "link": "",
        "title": "Ask Me Anything with the WildFly Elytron Team",
        "author": "fjuma",
        "postDate": "December 14, 2022",
        "body": "The WildFly Elytron team will be having an Ask Me Anything (AMA) session on Monday Dec. 19th on chat. This is your chance to ask any questions about: Contributing to the WildFly Elytron project How to use WildFly Elytron General questions about contributing to open source projects The AMA session will take place on Zulip Chat. Feel free to drop your questions on chat anytime between now and Monday. The WildFly Elytron team will respond to questions throughout the day on Monday. We&#8217;re looking forward to chatting! " 
        
    } ,  {
        "id": 12,
        "url": "/wildfly-elytron/blog/filesystem-realm-integrity-vlog/",
        "link": "https://www.youtube.com/watch?v=Tzd9GTr8kwE",
        "title": "Vlog: Filesystem Realm Integrity",
        "author": "araskar",
        "postDate": "December 07, 2022",
        "body": "" 
        
    } ,  {
        "id": 13,
        "url": "/wildfly-elytron/blog/git-tips-upstream-repositories-merge-conflicts-vlog/",
        "link": "https://www.youtube.com/watch?v=v5d6x3kT7lU",
        "title": "Vlog: Git Tips on Upstream Repositories and Merge Conflicts",
        "author": "cam-rod",
        "postDate": "November 10, 2022",
        "body": "" 
        
    } ,  {
        "id": 14,
        "url": "/wildfly-elytron/blog/filesystem-integrity/",
        "link": "",
        "title": "Enabling Integrity on Filesystem realms",
        "author": "araskar",
        "postDate": "November 10, 2022",
        "body": "Previously, any data in the filesystem realm was not verified, this meant that anyone with access to the identity files, could tamper with the data without any way of knowing. WildFly 27 adds support for filesystem integrity checking by adding signatures to identity files. This is done using a public-private key pair. An overview of the new attributes: The filesystem realm now supports the following attributes key-store: This attribute specifies the key store where the key pair is stored if the integrity is to be enabled on the filesystem realm. This attribute is optional. key-store-alias: This attribute specifies the alias of the key pair that is stored in the previously specified key store. This attribute is optional. A Complete Example: In this post we go through an example of setting up a filesystem realm with integrity enabled and then we&#8217;ll try accessing a web application that&#8217;s secured with the filesystem realm. Example Project: Clone the elytron-examples repo locally: git clone https://github. com/wildfly-security-incubator/elytron-examplescd elytron-examplesWe&#8217;ll be looking at the integrity-filesystem-realm Server Configuration: In the following section, we will review the configuration available in the script for the quickstartconfigure-elytron. cli. We start our configuration by connecting to the server using the following command: $ WILDFLY_HOME/bin/jboss-cli. sh --connectNote: Use of WILDFLY_HOME: In the following post, replace WILDFLY_HOME with the actual path to your WildFly installation. We first create a keystore and keypair under the Elytron subsystem, with the name keystore, and alias user. /subsystem=elytron/key-store=keystore:add(path=keystore, relative-to=jboss. server. config. dir, type=JKS, credential-reference={clear-text=secret})/subsystem=elytron/key-store=keystore:generate-key-pair(alias=user,algorithm=RSA,key-size=1024,validity=365,distinguished-name= CN=localhost )/subsystem=elytron/key-store=keystore:store()Then we create a filesystem realm under the Elytron subsystem using the key-store and key-store-alias specified above. We then add an identity quickstartUser, setting a digest password and adding theattributes Guest and Admin as follows: /subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-realm,relative-to=jboss. server. config. dir, key-store=keystore, key-store-alias=user)/subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:set-password(digest={algorithm=digest-md5, realm=fsRealm, password=password123!}, identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[ Admin ,  Guest ])For more information about creating FileSystem realms along with all of its possible configurations,please refer to the Elytron documentation. We then create a new security domain which will make use of ourfilesystem realm as follows: /subsystem=elytron/security-domain=fsDomain:add(realms=[{realm=fsRealm}], default-realm=fsRealm,permission-mapper=default-permission-mapper)NOTE: Creating an additional security domain (fsDomainin this case) is not necessary. We could alternatively take the default ApplicationDomain and add the FileSystem realm to it. We then update our security domain mapping in the Undertow subsystem: /subsystem=undertow/application-security-domain=other:write-attribute(name=security-domain, value=fsDomain)Deploying the app to WildFly: From the root directory of the quickstart example run the following command the deploy the web application to wildfly mvn clean install wildfly:deployVerifying Integrity: Now you may navigate to http://localhost:8080/integrity-filesystem, and when it prompts you to enter a username and password, put in the credentials we specified earlier, quickstartUser, and password123!. This should authenticate you to a page that shows you the principal you&#8217;re logged in with. The successful login indicates that integrity has been configured correctly. In order to further verify that these features are being used correctly we can navigate to the identity file and check the contents. The file should be located at WILDFLY_HOME/standalone/configuration/fs-realm/q/u/quickstartuser-OF2WSY3LON2GC4TUKVZWK4Q. xml if the same filesystem realm and identity configuration was used. In the identity we can see there is now a &lt;principal /&gt; tag specifying the principal name, to ensure it matches with the file name, as well as a &lt;Signature&gt; tag. The format for the signature tag should look like the following &lt;Signature xmlns= http://www. w3. org/2000/09/xmldsig# &gt;&lt;SignedInfo&gt;&lt;CanonicalizationMethod Algorithm= http://www. w3. org/TR/2001/REC-xml-c14n-20010315 /&gt;&lt;SignatureMethod Algorithm= http://www. w3. org/2001/04/xmldsig-more#rsa-sha256 /&gt;&lt;Reference URI=  &gt;&lt;Transforms&gt;&lt;Transform Algorithm= http://www. w3. org/2000/09/xmldsig#enveloped-signature /&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm= http://www. w3. org/2001/04/xmlenc#sha256 /&gt;&lt;DigestValue&gt;ArpOOvSwrygVhHqyHYZb/y8R5Hn8CFRfpTliiHQEyA=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;&lt;SignatureValue&gt;RWl3Tt1iYuJD1Sj8MeCIYkB3W1j+gNzMoHZ1nAMZaDtWIf9pJApf84L0bihM9+cUeHaNnJjjic8T&amp;#13;tx+EwwYKF2liZXbOlM8QBV6H2ODX1pYHjFfVDEoqI8oY8egP2nPNLxREp/kmNiWJGeLnHibYapZ7&amp;#13;RjJG7r21+yeCvni4rLc=&lt;/SignatureValue&gt;&lt;KeyInfo&gt;&lt;KeyValue&gt;&lt;RSAKeyValue&gt;&lt;Modulus&gt;jKCHruUkqzCrXhvKBPGv98I5zZsWxcWE+1gz4EqIv5EHlKv8rvfaLnhlQIxwIe0uB6Tfa2M3NKjE&amp;#13;RBsL7AH5R3T4h9ht8rdRcZfVZlq55d/dqvZv+QHDwzy2bMY2s/+1E3nF95CmGTa4uf0zm3WYOs1K&amp;#13;0iLzGzkyPT1JZSa0gRU=&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;/RSAKeyValue&gt;&lt;/KeyValue&gt;&lt;/KeyInfo&gt;&lt;/Signature&gt;Additional Operations: Verifying Integrity of the Whole Realm: If at any point you want to verify that the whole realm is intact, you can use the following command: /subsystem=elytron/filesystem-realm=fsRealm:verify-integrity()This command iterates over every identity in the filesystem realm and verifies that the signature is valid. Update Key Pair: If you want to update the key pair in the filesystem realm, you can use the following commands: /subsystem=elytron/filesystem-realm=keystore:write-attribute(name=key-store, value=newKeystore)/subsystem=elytron/filesystem-realm=keystore:write-attribute(name=key-store-alias, value=newKeystoreAlias)/subsystem=elytron/filesystem-realm=fsRealm:update-key-pair()The first command changes the key-store that is associated with the filesystem realm. You can either pick to only change the key-store, the key-store-alias, or change both. Then the second command uses the new key pair assigned to the filesystem realm to update all the signatures of each identity. Summary: This blog post has given an overview on how to configure a filesystem realm to enable integrity support, as well as 2 operations useful for managing filesystem realms that have enabled integrity support. " 
        
    } ,  {
        "id": 15,
        "url": "/wildfly-elytron/blog/ghc22-recap/",
        "link": "",
        "title": "Grace Hopper Celebration Recap",
        "author": "fjuma",
        "postDate": "October 31, 2022",
        "body": "Last month, I had the opportunity to attend and speak at the 2022 Grace Hopper Celebration. This was my very first time attending this conference in person after attending virtually last year. Thiswas the largest conference I have ever been to and it definitely had a lasting impact on me. About GHC: The Grace Hopper Celebration (GHC) is a conference for women in computing. Notably, it is the largest gatheringof women technologists in the world! This was the first in-person GHC since 2019 due to the pandemic. For thefirst time ever, GHC was a hybrid conference this year with both virtual and in-person attendees. The totalnumber of in-person attendees hasn&#8217;t been officially published yet but it was roughly thought to be at least15,000 people from 80+ countries. The conference took place in Orlando, Florida. Opening Plenary Session: The conference started out with an opening plenary session that featured a few keynotes. First up was AnitaB. orgPresident and CEO Brenda Darden Wilkerson who kicked things off, talked about some of the challenges that havebeen faced over the past few years, and discussed the importance of the theme of this year&#8217;s conference, Next is Now . This was a very inspiring keynote that encouraged us all to be change makers and really thinkabout how we can all contribute to technology to serve society with the highest good in mind. She emphasizedthe need for technology that is inclusive, ethical, and safe for all. This was a theme that came up duringquite a few of the conference sessions as well. The next keynote speaker of the morning wasthe CEO and Founder of Insitro, Daphne Koller. She delivered a very interesting keynote about leveragingmachine learning to make better predictions for both discovering and developing new pharmaceutical drugs. The last keynote of the opening session was delivered by Frances Haugen, a data scientist, engineer, andadvocate for accountability and transparency in social media. This was a great, thought-provoking keynote inwhich Frances identified why there is an urgency for accountability in Big Tech and talked about herbrave decision to blow the whistle on Facebook. Conference Sessions: GHC is a very large conference and there were so many interesting sessions to choose from, it was definitelyhard to pick what to attend at times! The thing I liked the most was the variety of the sessions available. In particular, there was a good mix of technical presentations and panels, hands-on technical labs, andsessions and panels that focussed on relevant topics for women in tech. As an example, some of the sessionsI attended ranged from topics like cloud security and machine learning to the importance of building diversity,equity, and inclusion from the product up, creating products with social responsibility, and how to be asuccessful leader. My First Time Speaking At GHC: Not only was this the first time that I&#8217;ve attended GHC in person but this was also my very first time speakingat GHC! I had the opportunity to be a panelist at the  Maintainers' Guide to Open Source  along with LucianaAbud from Microsoft and Kavitha Srinivasan from Netflix. The three of us were also project representativesat Open Source Day, a pre-event thattook place the week before GHC. The panel was moderated by Anna Jung from VMWare who was also one of the amazingco-chairs for Open Source Day. I really enjoyed getting to be part of this panel where we talked about whatbeing a maintainer for an open source project entails, the steps we&#8217;re taking to make our projects more inclusive,what it&#8217;s like working with the community, and so much more. Tips For Future Attendees: As I mentioned before, GHC is a very large conference! To get the most out of it, there are a couple thingsyou could do to prepare in advance. First, the venue is quite large so come prepared to do a lot of walking. This is also something that was mentioned by the event organizers in the emails leading up to the conference. It&#8217;s also good to take a look at the venue maps in advance to get a sense of where things are. I found ituseful to pick the sessions I wanted to attend the night before each day of the conference so I could figureout if it was possible to make it from one session to the next one on time or if I needed to pick a differentsession instead. For example, getting from the Orange County Convention Center to the Hyatt Regency ballroomswasn&#8217;t fast so it was better not to try to attend back to back sessions that were split between these two locationsunless there was enough of a gap to make it on time. Finally, it&#8217;s common for attendees to start lining up for sessions about half an hour before they begin. Thiswasn&#8217;t something that I realized ahead of time and there were a couple sessions on the first day that I wasn&#8217;table to get into because they reached capacity. Being aware of this helped me get into most of the sessionsI wanted to attend during the rest of the conference. Final Thoughts: I thoroughly enjoyed attending GHC. I learned so much and it was definitely inspiring being at an eventwith so many fellow women technologists. I hope I can attend this conference again in the future! " 
        
    } ,  {
        "id": 16,
        "url": "/wildfly-elytron/blog/ghc22-open-source-day-recap/",
        "link": "",
        "title": "Open Source Day 2022 Recap",
        "author": "fjuma",
        "postDate": "October 14, 2022",
        "body": "Last month, the WildFly Elytron team had the great pleasureof participating in Open Source Day,an all-day hackathon that took place as a pre-event before the 2022 Grace Hopper Celebration. This wasthe WildFly Elytron team&#8217;s third time participating in this event, after having participated in the Summer Open Source Day and theGrace Hopper Open Source Day last year. It&#8217;s always exciting participating in events like this because it givesus the opportunity to help others get started on their own open source journeys. Preparation: Prior to the day of the event, we created lots of issues and triaged existing ones that would be suitablefor new contributors to our project. We tried to make sure that the descriptions of these issues had lots ofdetails and helpful pointers for getting started. We identified these issues using the  good-first-issue label in our issue tracker. We also created detailed set up guides for different operating systems to helpparticipants set up their developer environments quickly. Inspired by questions received during past events, we started a playlist ofvideos on the WildFly YouTube channel with answers to frequently asked questionson topics like picking an issue to work on, importing a project into an IDE, and how to work with git. We hopeto continue adding more tips for contributing to open source projects to this playlist over time. The Day Overall: The day began with a powerful opening ceremony that featured Anne Neuberger (Deputy Assistant to the President&amp; Deputy National Security Advisor for Cyber &amp; Emerging Technologies at the White House), Nithya Ruff (Head of theOpen Source Program Office at Amazon), and Mishi Choudhary (SVP and General Counsel at Virtru). Hearing fromthese amazing women was very inspiring and it was definitely a great way to start the day! After the opening ceremony, it was time for us to introduce ourselves and give an overview of the WildFlyElytron project. We then covered some general information on how to make contributions to our project. After that, it was time to officially start the hackathon! During the hackathon, the WildFly Elytron team members and mentors helped participants set up their development environment,answered questions about git and the process of submitting and updating pull requests, helped participants pick and work on theirissues, and provided feedback on their pull requests. We ended the day with 30 pull requests submitted from firsttime contributors! Our First Time Contributors' Experience: Wondering what the day was like for our first time contributors? After all, our participants are the most importantpart of Open Source Day! Here&#8217;s what some of our first time contributors had to say about the day: It was an amazing experience to work with the WildFly Elytron team during OSD. The team was very easy to work with,answered all questions and solved everyone’s problems with patience. Contributing to open source could be anerve-racking experience but this team definitely knows the magic to make it fun and enjoyable -Anupama Bhardwaj Let me begin by saying it was my first Open Source Contribution. The GHC 22 Open Source Day environment was verypositive. The mentors from RedHat Inc. were very calm and friendly. They supported us with the issues we wanted topick up, explained to us the concept of why the given ticket is a problem, and what can be changed to correct the bug. They clarified our doubts in that short period. Whenever we made a mistake, they took the time to explain to us where we went wrong and how can we improve on it. They explained to us GIT concepts too. The best part of the session was we felt heard. Our opinions were taken into account and for each PR merge, they celebratedit as our accomplishment. It was a great learning experience and kudos to the mentors to make us learn and grow in just a few hours. I will actively participate in other Open Source Days as the thrill and learning experience graph is exponential. -Monika Bhardwaj WildFly Elytron is my first contribution to an Open Source project. I am grateful to Farah and team for helping me toget over my fear of open source and guiding me. Apart from working on issues, I learned GIT rebase, squash and mavencommands. If someone is looking to contribute to an Open source Java project, then add WildFly Elytron in your list. -Laxmi Vaka For the very first time, I participated in the GHC Open Source Day Contribution Track: WildFly Elytron where I got thechance to interact with an amazing bunch of people. I learnt about various new things like git commands which can bereally helpful in our day-to-day task, how one should approach Jira issues while contributing to open source community etc. Most importantly, it’s an awesome experience to code at midnight and overcame my fear of “my first” commit to the open source community. I started from minor good first issue and then moved to medium range issue. Overall, it was an amazing learning experience. Thank you WildFly Elytron team. -Aishwarya Mittal It was a great experience attending GHC'22 OSD. I learned about some amazing projects, creators and maintainers ofdifferent projects. I worked with the WildFly Elytron team on GHC'22 OSD. It was great to learn about the WildFlyElytron project and the team was super helpful, and I even merged my PRs to WildFly Elytron. It was exciting to workwith the WildFly Elytron project. Hope to work with them in the future as well. -Tanya Gupta I was late to join the party and was skeptical I might not have enough context to meaningfully contribute but theteam got me set very quickly. This was also my first experience contributing to open source ever so I was glad tosee the well categorized tickets and system in place to get started. In no time I was able to knock off a few andcame out with confidence to try this again. Cheers to the WildFly Elytron team!! -Keya Sarkar What&#8217;s Next?: The WildFly Elytron project is currently participating in Hacktoberfest this monthand welcomes your contributions! Check out this pagefor all the details on how to get started with our project. " 
        
    } ,  {
        "id": 17,
        "url": "/wildfly-elytron/blog/hacktoberfest-has-started/",
        "link": "https://wildfly-security.github.io/wildfly-elytron/hacktoberfest/",
        "title": "Hacktoberfest Has Started",
        "author": "fjuma",
        "postDate": "October 07, 2022",
        "body": "" 
        
    } ,  {
        "id": 18,
        "url": "/wildfly-elytron/blog/frequently-asked-questions-new-contributors/",
        "link": "",
        "title": "FAQ for New Contributors",
        "author": "fjuma",
        "postDate": "September 01, 2022",
        "body": "It&#8217;s very common for new contributors to any project to have questions on how to get started. In this post,we thought we&#8217;d capture some frequently asked questions we&#8217;ve received from new contributors to the WildFlyElytron project. How do I find an issue to work on?How do I import a project into an IDE?How do I get started with git?How do I squash commits in my PR?SummaryHow do I find an issue to work on?: This video shows how to find a project&#8217;s contribution guide and how to identify good first issues to work on. It also shows how to navigate JIRA, create a JIRA account, and assign an issue to yourself. How do I import a project into an IDE?: This video shows how to fork a project&#8217;s repo and how to clone your fork onto your machine. It also shows how to import the project into IntelliJ IDEA. How do I get started with git?: This video has lots of tips for getting started with git! Learn how to create a new branch, make a change, amend a commit,push a change to the remote repo, submit a PR, work on another issue, and update a PR. How do I squash commits in my PR?: This video walks you through squashing commits and pushing the changes to your remote repo. Summary: We hope these answers are useful! If you think of a question that you would like to see covered in a short video, let us know. Happy contributing! " 
        
    } ,  {
        "id": 19,
        "url": "/wildfly-elytron/blog/bearer-only-support-openid-connect/",
        "link": "",
        "title": "Bearer Token Support for the Elytron OIDC Client Subsystem",
        "author": "fjuma",
        "postDate": "September 01, 2022",
        "body": "WildFly 26. 1. 2. Final, which was just released, includes the ability to secure applications with bearertokens when using the Elytron OpenID Connect (OIDC) Client subsystem. This blog post gives an overviewof how to configure applications deployed to WildFly so they can support Bearer Token Authentication. Bearer Token AuthenticationSecuring an Application Using Bearer Token AuthenticationDeployment ConfigurationSubsystem ConfigurationA Complete Example with Bearer Token AuthenticationExample ProjectSetting up your Keycloak OpenID providerJAX-RS ServiceOIDC ApplicationDeploying the JAX-RS Service and the OIDC ApplicationAccessing the appSummaryBearer Token Authentication: Bearer Token Authentication involves authenticating HTTP requests that include a security tokencalled a  bearer token . A bearer token is used to determine whether or not to provide accessto an HTTP resource. As an example, a bearer token could be used to invoke a web service. Youmight be wondering, where does the bearer token that&#8217;s used in the HTTP request come from?The token can be obtained from any OAuth2 compliant authorization server. For instance,after logging in to an application that&#8217;s secured using OpenID Connect, we receive an access token. This token is a bearer token and it can be used to invoke something else that&#8217;s secured usingBearer Token Authentication. The elytron-oidc-client subsystem now allows applications to be secured using Bearer TokenAuthentication. Securing an Application Using Bearer Token Authentication: The configuration that indicates that an application should be secured using BearerToken Authentication with the elytron-oidc-client subsystem can either be providedwithin the application itself or within the elytron-oidc-client subsystem. Deployment Configuration: The bearer-only option can now be specified in an application&#8217;s WEB-INF/oidc. json file. Setting this to true indicates that an application should be secured using Bearer TokenAuthentication. In other words, when a user attempts to access this application,they won&#8217;t be redirected to an OpenID provider to log in. Instead, the elytron-oidc-clientsubsystem will attempt to verify the user&#8217;s bearer token. Like with the Keycloak clientadapter, the default value for bearer-only is false. For more details on how to configure an oidc. json file and how to specify OIDC in anapplication&#8217;s web. xml file, check out the documentation here. Subsystem Configuration: Instead of including OIDC configuration directly in a deployment, it&#8217;s also possible to configurethis via the elytron-oidc-client subsystem instead. For a secure-deployment in the elytron-oidc-client subsystem, it&#8217;s now possible to specifythe bearer-only option. More details on how to configure a secure-deployment can also be found in the documentation. A Complete Example with Bearer Token Authentication: In the rest of this post, we&#8217;ll go through an example to see how to secure a JAX-RS service deployed to WildFlywith Bearer Token Authentication. To invoke our JAX-RS service, we&#8217;re going to use another application that will be secured using OpenID Connect. This application will include the access token obtained from the Keycloak OpenID provider when invoking the service. Example Project: First, clone the elytron-examples repo locally: git clone https://github. com/wildfly-security-incubator/elytron-examplescd elytron-examplesWe’re going to be looking at the oidc-with-bearer project. Setting up your Keycloak OpenID provider: It&#8217;s easy to set up Keycloak using Docker. Follow the steps in Keycloak&#8217;s getting started guideto start Keycloak and create a realm called myrealm. Next, create a client called service. If you&#8217;re using Keycloak 19. 0. 0 or later, in the Capability config, be sure to uncheck Standard flowand Direct access grants (when no authentication flows are specified, this indicates that the client is a bearer only client). For olderversions of Keycloak, change the Access Type to bearer-only. Now, we&#8217;re going to create a second client called app. If you&#8217;re using Keycloak 19. 0. 0 or later, in the Capability config,turn on Client authentication. For older versions of Keycloak, change the Access Type to confidential. For the app client, we also need to set the valid redirect URIs to http://localhost:8090/oidc-app/* and set theWeb origins to + to permit all origins of Valid Redirect URIs. Now, click on Realm roles and create two roles, user and admin. Finally, create a user called alice and assign her the user and admin roles. Then, create a user called boband assign him only the user role. Steps for assigning roles can be found in the Keycloak documentation. JAX-RS Service: Take a look at the 3 endpoints that are provided by our JAX-RS service: public - This endpoint requires no authentication. secured - This endpoint can be invoked by users with the user role. admin - This endpoint can be invoked by users with the admin role. Each endpoint just returns a message that contains the name of the endpoint, e. g. , {  message : public  }. OIDC Application: The OIDC application providesa Login button that allows users to log in using the Keycloak OpenID provider and also provides 3 buttonsfor invoking each of the endpoints described in the previous section. Deploying the JAX-RS Service and the OIDC Application: Now let&#8217;s deploy our service and application to WildFly. When starting our WildFly instance, we&#8217;re going to specify the oidc. client. secret systemproperty. Notice that this is specified in the OIDC application&#8217;s oidc. json fileand is used to specify the secret that should be used when communicating with the Keycloak OpenID provider. From the Keycloak AdminConsole, navigate to the app client that we created earlier, then click on Credentials, and copythe value for the Client secret. We&#8217;re going to start our WildFly instance using this copied value. Notice that we&#8217;respecifying a port offset here since our Keycloak instance is already exposed on port 8080: . /bin/standalone. sh -Djboss. socket. binding. port-offset=10 -Doidc. client. secret=COPIED_VALUENext, we&#8217;re going to build and deploy our service. From the elytron-examples directory, run thefollowing commands: cd oidc-with-bearer/servicemvn wildfly:deploy -Dwildfly. port=10000Now let&#8217;s deploy our OIDC application. From the elytron-examples directory, run thefollowing commands: cd oidc-with-bearer/appmvn wildfly:deploy -Dwildfly. port=10000Accessing the app: Now, let&#8217;s try accessing our application using http://localhost:8090/oidc-app. Try invoking the different endpoints without logging in. You&#8217;ll only be able to successfully invokethe public endpoint. Now try logging in as alice. You&#8217;ll be redirected to Keycloak to log in. Then try invokingthe different endpoints again. This time, you&#8217;ll be able to successfully invoke all three endpointsbecause alice has both user and admin roles. Finally, try accessing the application again but this time, log in as bob. When you try invokingthe endpoints this time, you&#8217;ll see that you can only invoke the public and secured endpointssince bob does not have the admin role. Summary: This blog post has given an overview of how to secure an application with Bearer Token Authenticationwhen using the Elytron OIDC Client subsystem. " 
        
    } ,  {
        "id": 20,
        "url": "/wildfly-elytron/blog/top-five-reasons-to-join-elytron-open-source-day/",
        "link": "",
        "title": "Top 5 Reasons To Join Us At Open Source Day",
        "author": "fjuma",
        "postDate": "August 09, 2022",
        "body": "Last month, we were thrilled to announce that the WildFly Elytron projectwas selected for Open Source Day, an all-day hackathon hostedby AnitaB. org as part of the Grace Hopper Celebration. This is our thirdtime taking part in this event, after having participated in the Summer Open Source Day and the Grace Hopper Open Source Day last year. As a female project maintainer myself, it&#8217;s very inspiring to be part of the largest female-led movement in open source!With a little over a month left before the big day, we wanted to let you know our top 5 reasons for joining us on theWildFly Elytron project at Open Source Day in September. 1. Guided Introduction To Open Source: Have you ever wanted to contribute to an open source project but weren&#8217;t quite sure where to start? This is finallyyour chance to have a guided introduction to open source. We will have a wide variety of good first issues to choose fromand we will help you pick and work on issues. Have a question on how to solve an issue? Don&#8217;t worry! We&#8217;ll be there to helpanswer your questions, help with setting up your developer environment, and help you submit your pull requests all day. 2. Hone Your Skills: Want to learn more about Java? Have questions about Git or Maven? Want to learn how to create a nicely formattedpull request that&#8217;s easy to review? We will have WildFly Elytron project maintainers and mentors available todiscuss these concepts and help answer any questions you might have. 3. No Prior Experience Needed: Not familiar with security yet? Are you new to Java? That&#8217;s totally fine! We will have lots of different issues tochoose from and will be happy to help you work on them. No prior experience is needed. A lot of contributors tothe WildFly Elytron project are brand new to security when they begin. 4. Ask Us Anything: Have general questions about contributing to open source projects or wonder what it&#8217;s like having a full-time jobin open source? Want to get a maintainer&#8217;s perspective on the pull request review process? This is your chance to askabsolutely anything you&#8217;d like to! Take advantage of this time. 5. Have An Impact: WildFly Elytron is the security framework that&#8217;s used by the WildFly application server. It&#8217;s used to secureapps that are deployed to the server and to secure access to the server itself. Banks, retail stores, andgovernments are just some examples of end-users of the enterprise version of WildFly. Your contributionsto the WildFly Elytron project will have an impact for these end-users! We hope to see you in September!: We hope you enjoyed checking out our top 5 reasons to join the WildFly Elytron project at the GraceHopper Open Source Day on September 16th! We hope to see you there! In the meantime, if you have anyquestions or want to learn more, feel free to reach out to us on theWildFly Elytron channel onZulip chat. " 
        
    } ,  {
        "id": 21,
        "url": "/wildfly-elytron/blog/wildfly-elytron-filesystem-encryption-vlog/",
        "link": "https://www.youtube.com/watch?v=1K92tit2uCk",
        "title": "Vlog: Encrypting a Filesystem Realm",
        "author": "araskar",
        "postDate": "July 07, 2022",
        "body": "" 
        
    } ,  {
        "id": 22,
        "url": "/wildfly-elytron/blog/ejb-over-tls/",
        "link": "",
        "title": "Securing Jakarta Enterprise Beans with mutual TLS authentication",
        "author": "cam-rod",
        "postDate": "June 21, 2022",
        "body": "The ejb-mutual-tls exampledemonstrates how to use Elytron to secure EJBs with mutual TLSauthentication. It also shows how to restrict access to EJBs, configuring a FileSystem realm protected by SASLauthentication, and accessed using a credential store. This example focuses on the TLS configuration, so if you wish tolearn more you can refer to blog posts onconfiguring the FileSystem realm and SASL mechanism,and on connecting with HTTP. An Overview of Mutual TLS authenticationGenerating the Client CertificateGenerating the Server CertificateImporting the CertificatesConfiguring the Credential StoreConfiguring the WildFly ClientConfiguring the ServerConfiguring the Security DomainEnabling SCRAM-SHA-512-PLUSConfiguring the Remote ConnectorSummaryAn Overview of Mutual TLS authentication: In a standard TLS handshake, the server presents its certificate to the client, which then inspects the contents andsignature. If the certificate matches one that the client trusts, or is signed by an entity that it trusts, the server&#8217;sidentity is verified and a key exchange is performed to secure the session. In mutual TLS authentication, the client alsopresents its own certificate, which the server will then use to verify the identity of the client. Using the Elytron subsystem, a WildFly server can form a mutual TLS connection with a remote client. To do so, the clientwill generate a certificate, which the server will import into its truststore. The client will be configured to presentthe certificate when performing the TLS handshake, which the server will verify using its truststore. Generating the Client Certificate: In order for the client to use a certificate, it must be signed by a server-trusted entity. For the purposes of thisdemonstration, we will self-sign a certificate and then import it into the server&#8217;s truststore. However, suchcertificates are generally treated as insecure since the identity cannot be externally verified. To use a certificatesigned by a trusted Certificate Authority, take a look at this blog post. We will begin by generating a 2048-bit key pair, and saving it to a local file with the alias client. Using theJava keytool, we store it in a PKCS #12 keystore: $ keytool -genkeypair -alias client -keyalg RSA -keysize 2048 -validity 365 -keystore /PATH/TO/tlsClient. keystore -dname  CN=client  -storepass clientKeySecretNote that we have also set the common name on the key to client (using the option -dname  CN=client ). Once the keypair is created, we export the certificate to a file: $ keytool -exportcert -keystore /PATH/TO/tlsClient. keystore -alias client -storepass clientKeySecret -file /PATH/TO/tlsClient. cerGenerating the Server Certificate: We will now perform a similar configuration for the WildFly server. Start the server, and then in another terminalconnect to it using the management CLI: $ WILDFLY_HOME/bin/jboss-cli. sh --connect(Note: In this post, replace WILDFLY_HOME with the actual path to your WildFly installation. ) We will use the Elytron subsystem to create a keystore to hold the server&#8217;s key pair. The keystore will besaved in the server configuration directory, relative to jboss. server. config. dir: /subsystem=elytron/key-store=tlsKeyStore:add(path=tlsServer. keystore,relative-to=jboss. server. config. dir,credential-reference={clear-text=serverKeySecret})Then, we generate a key pair with alias localhost, and save it to the keystore. Like with the client,we also specify the server&#8217;s common name (distinguished-name= CN=localhost ). /subsystem=elytron/key-store=tlsKeyStore:generate-key-pair(alias=localhost,algorithm=RSA,key-size=2048,validity=365,credential-reference={clear-text=serverKeySecret},distinguished-name= CN=localhost )/subsystem=elytron/key-store=tlsKeyStore:store()The self-signed certificate is exported to a file in the configuration directory: /subsystem=elytron/key-store=tlsKeyStore:export-certificate(alias=localhost,path=tlsServer. cer,relative-to=jboss. server. config. dir)Finally, we create a key manager, which will be used to access the keystore during the TLS handshake: /subsystem=elytron/key-manager=tlsKM:add(key-store=tlsKeyStore,credential-reference={clear-text=serverKeySecret})Importing the Certificates: Since we are already connected to the server, we will import the client certificate first. We configure a new truststore for holding certificates: /subsystem=elytron/key-store=tlsTrustStore:add(path=tlsServer. truststore,relative-to=jboss. server. config. dir,credential-reference={clear-text=serverTrustSecret})We import the client certificate, specifying it with its alias, and then save it to the truststore file. Since this isa self-signed certificate, we will not validate its authenticity. /subsystem=elytron/key-store=tlsTrustStore:import-certificate(alias=client,path=/PATH/TO/tlsClient. cer,credential-reference={clear-text=serverTrustSecret},trust-cacerts=true,validate=false)/subsystem=elytron/key-store=tlsTrustStore:store()We also configure a trust manager, which will verify the certificate during the TLS handshake: /subsystem=elytron/trust-manager=tlsTM:add(key-store=tlsTrustStore)With the server now setup, we return to the client. Open a new terminal and navigate to the root folder of thisexample. We use the keytool once again, identify the server&#8217;s certificate by its alias and importing it into a clienttruststore: $ keytool -importcert -keystore /PATH/TO/tlsClient. truststore -storepass clientTrustSecret -alias localhost -trustcacerts -file /WILDFLY_HOME/standalone/configuration/tlsServer. cer -nopromptAt this point, the client and server both have their corresponding key pairs, and trust the certificates of the other. The TLS configuration is complete. Configuring the Credential Store: We will now setup the client login using the SASL authentication mechanism. First, we use the elytron-tool to generate acredential store to securely store the login details: $ WILDFLY_HOME/bin/elytron-tool. sh credential-store --create --location  /PATH/TO/tlsCredStore. cs  --password clientStorePasswordThen, we add the example_user identity to this credential store: $ WILDFLY_HOME/bin/elytron-tool. sh credential-store --location  /PATH/TO/tlsCredStore. cs  --password clientStorePassword --add example_user --secret examplePwd1!Configuring the WildFly Client: Now that we have our keystore, truststore, and credential store configured, we need to tell the Elytron client how toaccess them. From the root of this example, navigate to the directory at src/main/resources and open thewildfly-config. xml configuration file in a text editor. Upon inspecting the file, we note the credential storeconfiguration, which will be used to access the client&#8217;s credentials when establishing a connection to the server: wildfly-config. xml&lt;credential-stores&gt;  &lt;credential-store name= tlsCredStore &gt;    &lt;attributes&gt;      &lt;attribute name= keyStoreType  value= JCEKS /&gt;      &lt;attribute name= location  value= /PATH/TO/tlsCredStore. cs /&gt;    &lt;/attributes&gt;    &lt;protection-parameter-credentials&gt;      &lt;clear-password password= clientStorePassword /&gt;    &lt;/protection-parameter-credentials&gt;  &lt;/credential-store&gt;&lt;/credential-stores&gt;Similarly, the client also records the location of the PKCS #12 keystore and truststore. This will be used to access the key pair and server certificate during connection establishment: wildfly-config. xml&lt;key-stores&gt;  &lt;key-store name= tlsClientTrustStore  type= PKCS12 &gt;    &lt;file name= /PATH/TO/tlsClient. truststore /&gt;    &lt;key-store-clear-password password= clientTrustSecret /&gt;  &lt;/key-store&gt;  &lt;key-store name= tlsClientKeyStore  type= PKCS12 &gt;    &lt;file name= /PATH/TO/tlsClient. keystore /&gt;    &lt;key-store-clear-password password= clientKeySecret /&gt;  &lt;/key-store&gt;&lt;/key-stores&gt;In all three locations, we will need to replace /PATH/TO with the filepath to the various stores. Looking further into the configuration, we notice the setup for the user authentication under the&lt;authentication-configurations&gt; tag. The client uses the configured username, and then retrieves the password from thecredential store. It also specifies the SASL authentication mechanism to use, in this case SCRAM-SHA-512-PLUS. Finally, note that the &lt;providers&gt; tag configures the client to register the Elytron providers. wildfly-config. xml&lt;authentication-configurations&gt;  &lt;configuration name= example-config &gt;    &lt;set-user-name name= example_user /&gt;    &lt;credentials&gt;      &lt;credential-store-reference store= tlsCredStore  alias= example_user /&gt;    &lt;/credentials&gt;    &lt;sasl-mechanism-selector selector= SCRAM-SHA-512-PLUS /&gt;    &lt;providers&gt;      &lt;use-service-loader/&gt;    &lt;/providers&gt;  &lt;/configuration&gt;&lt;/authentication-configurations&gt;Below this is the configuration for the TLS connection, under the &lt;ssl-contexts&gt; tag. The configuration specifies boththe truststore and keystore to use for the connection. It also specifies the cipher suites and protocols it supports. wildfly-config. xml&lt;ssl-contexts&gt;  &lt;ssl-context name= example-tls &gt;    &lt;key-store-ssl-certificate key-store-name= tlsClientKeyStore  alias= client &gt;      &lt;key-store-clear-password password= clientKeySecret /&gt;    &lt;/key-store-ssl-certificate&gt;    &lt;trust-store key-store-name= tlsClientTrustStore /&gt;    &lt;cipher-suite names= TLS_AES_128_GCM_SHA256  selector= DEFAULT /&gt;    &lt;protocol names= TLSv1. 3 TLSv1. 2 /&gt;  &lt;/ssl-context&gt;&lt;/ssl-contexts&gt;Elytron does not enable TLS 1. 3 by default, so we manually do so using the &lt;cipher-suite names&gt; attribute. For moreinformation on configuring TLS 1. 3, take a look at thisblog post. Finally, under the &lt;jboss-ejb-client&gt; tag, the client will attempt to access the EJB on localhost port 8443, theWildFly server default for HTTP over TLS connections. wildfly-config. xml&lt;jboss-ejb-client xmlns= urn:jboss:wildfly-client-ejb:3. 2 &gt;  &lt;connections&gt;    &lt;connection uri= remote+https://127. 0. 0. 1:8443 /&gt;  &lt;/connections&gt;&lt;/jboss-ejb-client&gt;Configuring the Server: We will now configure the server to require a login. Returning to the terminal with the management CLI. Configuring the Security Domain: We create a FileSystem realm called tlsFsRealm in the server configuration directory: /subsystem=elytron/filesystem-realm=tlsFsRealm:add(path=tlsFsRealmUsers, relative-to=jboss. server. config. dir)Then, we add the example_user identity to the realm, and give it the guest role: /subsystem=elytron/filesystem-realm=tlsFsRealm:add-identity(identity=example_user)/subsystem=elytron/filesystem-realm=tlsFsRealm:set-password(identity=example_user, clear={password=examplePwd1!})/subsystem=elytron/filesystem-realm=tlsFsRealm:add-identity-attribute(identity=example_user, name=Roles, value=[guest])Next, we will configure the security domain to use the filesystem realm: /subsystem=elytron/security-domain=tlsFsSD:add(realms=[{realm=tlsFsRealm}],default-realm=tlsFsRealm,permission-mapper=default-permission-mapper)Afterwards, we add a mapping to the security domain into the ejb3 subsystem, for securing the EJB: /subsystem=ejb3/application-security-domain=tlsApp:add(security-domain=tlsFsSD)Enabling SCRAM-SHA-512-PLUS: Elytron supports two types of authentication: HTTP authentication and SASL authentication. We will use the SASLauthentication mechanism SCRAM-SHA-512-PLUS, which performs channel binding with the TLS session. We create asasl-authentication-factory that uses the security domain we configured previously: /subsystem=elytron/sasl-authentication-factory=tlsSASLFactory:add(sasl-server-factory=configured,security-domain=tlsFsSD,mechanism-configurations=[{mechanism-name=SCRAM-SHA-512-PLUS}])Configuring the Remote Connector: The final step is to configure a remote connector that makes use of both an HTTPS listener and the SASLauthentication factory. We add a server-ssl-context that references both the keystore and truststore used bythe server, and manually enable TLS 1. 3 support: /subsystem=elytron/server-ssl-context=tlsSSC:add(key-manager=tlsKM,protocols=[ TLSv1. 3 , TLSv1. 2 ],cipher-suite-names=TLS_AES_128_GCM_SHA256,trust-manager=tlsTM,need-client-auth=true)We then configure the https-listener in the undertow subsystem to use this SSL context: /subsystem=undertow/server=default-server/https-listener=https:write-attribute(name=ssl-context,value=tlsSSC)Now, we configure a new http-connector called tlsConnector, which references both the https-listener and thesasl-authentication-factory: /subsystem=remoting/http-connector=tlsConnector:add(connector-ref=https,sasl-authentication-factory=tlsSASLFactory)Lastly, we add the connector to the ejb3 subsystem to be used when the remote client attempts to connect: /subsystem=ejb3/service=remote:write-attribute(name=connectors,value=[tlsConnector])Summary: This blog post has demonstrated how to configure the WildFly server and client to perform mutual TLS authentication forforming connections, and how to use SASL authentication and a credential store to securely invoke an EJB with privilegedidentities. Although this post focused on mutual TLS authentication, similar steps can be followed for traditionalconnections. For example, if only the server will present a certificate, then we do not need to export a client certificate,and then import it into the server truststore. " 
        
    } ,  {
        "id": 23,
        "url": "/wildfly-elytron/blog/new-security-features-wildfly-26-1/",
        "link": "",
        "title": "New Security Features in WildFly 26.1",
        "author": "fjuma",
        "postDate": "April 19, 2022",
        "body": "Since WildFly 26. 1 was just released, we wanted to highlight some new security features includedin this release. New Features: Automatic Registration of a Client Side Default SSLContext: The Elytron authentication client now provides a Java security provider that can be usedto register a JVM wide default SSLContext. When this provider is registered with high enoughpriority, all client libraries that use SSLContext. getDefault() will obtain an SSLContext instanceusing the configuration from your Elytron client configuration file. For more details about this new featureand an example of how to use it, check out thisblog post. Support for Encrypting Filesystem Security Realms: It&#8217;s now possible to encrypt the identity files that back filesystem security realms using a secret key. For all the details about this new feature and a complete guide on how to configure a filesystem-realmwith encryption enabled, take a look at this blog post. Encrypting an Existing Realm: If you already have a filesystem-realm configured, it&#8217;s possible to encrypt it using a new Elytron Toolcommand. Check out this blog postfor all the details on how to do this. Enhancements for Keystore CLI Operations: The read-alias and read-aliases operations for key stores in the Elytron subsystem have been updatedto improve usability. Check out this blog post to learn more. Securing WildFly Applications with OpenID Connect on OpenShift: Since WildFly 25, applications deployed to WildFly can be secured with OpenID Connect, without needing to usethe Keycloak client adapter. In a recent vlog, we show how to use this feature with WildFly on OpenShift. Contributing to Elytron: As always, the WildFly Elytron project welcomes your contributions! How to get started?: Our contribution guide helps guide you through the steps for getting started on the WildFly Elytron project and goes through how to format and submit your first PR. How to pick an issue?: We have created a list of good first issues to help you get started. How to reach us?: If you’d like some help or have questions about making contributions to our project, feel free to reach us on chat or add questions directly on your PR. Where to Find More Information: This blog post has given an overview of some new security features in WildFly. Be sure to check out ourblog posts page, where we have all ourblog posts on Elytron features. If there is an Elytron topic you’d like to see a blog post on, feel free tolet us know on WildFly’s user forum. To learn more about Elytron, check out our site. " 
        
    } ,  {
        "id": 24,
        "url": "/wildfly-elytron/blog/improving-readability-of-alias-commands/",
        "link": "",
        "title": "Improving readability of certificate read commands",
        "author": "baranowb",
        "postDate": "April 19, 2022",
        "body": "Any one who has experience with network hardware or console administration knows the Achilles' heel of CLI - limited visualization capability. This can be somewhat mitigated by setting large horizontal buffer and simple scrolling. However not all devices support scrolling and output still can be loitered with wrapped lines. This limits usability of console with conjunction with such commands. Furthermore, often this wrapped data has very little use except specific cases and is irrelevant in most. Above can be often observed with tools that deal with SSL/certificates. Elytron is not an exception. Since I often dabble in elytron CLI and found this problem slightly annoying, I decided it is time to improve it a bit. GoalsReducing hex footprintMaking 'read-aliases' even betterDrawbacksSummaryGoals: There are two connected goals that I sought to achieve. First one is to add ability to omit HEX based fields from certificate read operations. Those are simply not needed to check metadata of certificate. Second was slightly connected, namely read-aliases command indiscrepancy had to go - this command read names, not content. Reducing hex footprint: The culprit: read-alias. read-alias dumps content of certificate, this includes all metadata and public-key/encoded field. This is somewhat annoying, but not a huge deal when key for instance is short, but when its 4Kb ?Example: [standalone@localhost:9990 key-store=serverKS] :read-alias(alias= server1 ){   outcome  =&gt;  success ,   result  =&gt; {     alias  =&gt;  server1 ,     entry-type  =&gt;  PrivateKeyEntry ,     creation-date  =&gt;  2022-03-28T10:21:44. 568+0200 ,     certificate-chain  =&gt; [{       type  =&gt;  X. 509 ,       algorithm  =&gt;  DSA ,       format  =&gt;  X. 509 ,       public-key  =&gt;  30:82:03:42:30:82:02:35:06:07:2a:86:48:ce:38:04:01:30:82:02:28:02:82:01:01:00:8f:79:35:d9:b9:aa:e9:bf:ab:ed:88:7a:cf:49:51:b6:f3:2e:c5:9e:3b:af:37:18:e8:ea:c4:96:1f:3e:fd:36:06:e7:43:51:a9:c4:18:33:39:b8:09:e7:c2:ae:1c:53:9b:a7:47:5b:85:d0:11:ad:b8:b4:79:87:75:49:84:69:5c:ac:0e:8f:14:b3:36:08:28:a2:2f:fa:27:11:0a:3d:62:a9:93:45:34:09:a0:fe:69:6c:46:58:f8:4b:dd:20:81:9c:37:09:a0:10:57:b1:95:ad:cd:00:23:3d:ba:54:84:b6:29:1f:9d:64:8e:f8:83:44:86:77:97:9c:ec:04:b4:34:a6:ac:2e:75:e9:98:5d:e2:3d:b0:29:2f:c1:11:8c:9f:fa:9d:81:81:e7:33:8d:b7:92:b7:30:d7:b9:e3:49:59:2f:68:09:98:72:15:39:15:ea:3d:6b:8b:46:53:c6:33:45:8f:80:3b:32:a4:c2:e0:f2:72:90:25:6e:4e:3f:8a:3b:08:38:a1:c4:50:e4:e1:8c:1a:29:a3:7d:df:5e:a1:43:de:4b:66:ff:04:90:3e:d5:cf:16:23:e1:58:d4:87:c6:08:e9:7f:21:1c:d8:1d:ca:23:cb:6e:38:07:65:f8:22:e3:42:be:48:4c:05:76:39:39:60:1c:d6:67:02:1d:00:ba:f6:96:a6:85:78:f7:df:de:e7:fa:67:c9:77:c7:85:ef:32:b2:33:ba:e5:80:c0:bc:d5:69:5d:02:82:01:00:16:a6:5c:58:20:48:50:70:4e:75:02:a3:97:57:04:0d:34:da:3a:34:78:c1:54:d4:e4:a5:c0:2d:24:2e:e0:4f:96:e6:1e:4b:d0:90:4a:bd:ac:8f:37:ee:b1:e0:9f:31:82:d2:3c:90:43:cb:64:2f:88:00:41:60:ed:f9:ca:09:b3:20:76:a7:9c:32:a6:27:f2:47:3e:91:87:9b:a2:c4:e7:44:bd:20:81:54:4c:b5:5b:80:2c:36:8d:1f:a8:3e:d4:89:e9:4e:0f:a0:68:8e:32:42:8a:5c:78:c4:78:c6:8d:05:27:b7:1c:9a:3a:bb:0b:0b:e1:2c:44:68:96:39:e7:d3:ce:74:db:10:1a:65:aa:2b:87:f6:4c:68:26:db:3e:c7:2f:4b:55:99:83:4b:b4:ed:b0:2f:7c:90:e9:a4:96:d3:a5:5d:53:5b:eb:fc:45:d4:f6:19:f6:3f:3d:ed:bb:87:39:25:c2:f2:24:e0:77:31:29:6d:a8:87:ec:1e:47:48:f8:7e:fb:5f:de:b7:54:84:31:6b:22:32:de:e5:53:dd:af:02:11:2b:0d:1f:02:da:30:97:32:24:fe:27:ae:da:8b:9d:4b:29:22:d9:ba:8b:e3:9e:d9:e1:03:a6:3c:52:81:0b:c6:88:b7:e2:ed:43:16:e1:ef:17:db:de:03:82:01:05:00:02:82:01:00:44:9a:19:f7:20:16:ab:f3:74:d9:17:93:b6:48:d0:53:f6:e9:b7:b5:82:64:17:f9:de:e6:ab:5d:80:d7:ef:52:a1:b1:3e:f3:35:f2:31:7c:82:dd:57:78:30:b6:ae:2b:6c:ab:01:57:eb:2e:25:c3:69:2a:91:f8:67:fc:49:e2:31:7a:06:8f:ed:9f:58:d3:8a:75:3c:f2:9d:70:b1:4c:2f:3a:71:b4:e4:01:22:be:16:1a:f3:14:40:12:22:f1:82:94:da:fd:bf:b8:9c:c7:af:92:bc:24:ca:ae:32:03:9b:5f:8d:0e:5f:56:71:b4:39:6d:27:d0:68:19:dd:42:d4:d3:0f:61:76:39:f6:ad:f3:95:e5:30:0e:70:6e:ce:7c:aa:49:4d:24:4d:ad:4e:5f:a8:e7:42:bc:67:ba:8f:df:90:5f:6a:6c:f8:75:c5:31:b3:67:f9:b9:e7:6a:fa:44:35:85:d1:36:46:db:0b:51:58:6a:ae:f5:4d:ad:d8:65:8a:e1:68:04:34:bf:1b:d2:f2:60:f5:4f:33:df:c5:a1:7a:de:8e:54:7b:e5:20:29:eb:e9:40:11:15:07:aa:0c:f7:ba:69:00:60:98:44:73:e0:92:7f:a3:42:32:0c:a9:91:d6:7d:06:04:54:5c:21:dd:1d:f6:f4:96:3a:65 ,       sha-1-digest  =&gt;  c5:cb:aa:b8:f9:4b:b0:44:59:ed:76:cd:ca:03:7d:df:d5:f6:ef:41 ,       sha-256-digest  =&gt;  de:ef:8e:51:07:9e:f7:3a:aa:59:c5:13:3f:33:4d:bd:1b:8e:8c:34:50:36:89:2a:53:96:eb:7a:f9:ba:9e:ca ,       encoded  =&gt;  30:82:04:33:30:82:03:e1:a0:03:02:01:02:02:08:08:f6:f0:9b:2c:35:23:9d:30:0b:06:09:60:86:48:01:65:03:04:03:02:30:1a:31:18:30:16:06:03:55:04:03:13:0f:77:77:77:2e:65:78:61:6d:70:6c:65:2e:63:6f:6d:30:22:18:0f:32:30:32:32:30:33:32:38:30:38:32:31:34:34:5a:18:0f:32:30:32:32:30:36:32:36:30:38:32:31:34:34:5a:30:1a:31:18:30:16:06:03:55:04:03:13:0f:77:77:77:2e:65:78:61:6d:70:6c:65:2e:63:6f:6d:30:82:03:42:30:82:02:35:06:07:2a:86:48:ce:38:04:01:30:82:02:28:02:82:01:01:00:8f:79:35:d9:b9:aa:e9:bf:ab:ed:88:7a:cf:49:51:b6:f3:2e:c5:9e:3b:af:37:18:e8:ea:c4:96:1f:3e:fd:36:06:e7:43:51:a9:c4:18:33:39:b8:09:e7:c2:ae:1c:53:9b:a7:47:5b:85:d0:11:ad:b8:b4:79:87:75:49:84:69:5c:ac:0e:8f:14:b3:36:08:28:a2:2f:fa:27:11:0a:3d:62:a9:93:45:34:09:a0:fe:69:6c:46:58:f8:4b:dd:20:81:9c:37:09:a0:10:57:b1:95:ad:cd:00:23:3d:ba:54:84:b6:29:1f:9d:64:8e:f8:83:44:86:77:97:9c:ec:04:b4:34:a6:ac:2e:75:e9:98:5d:e2:3d:b0:29:2f:c1:11:8c:9f:fa:9d:81:81:e7:33:8d:b7:92:b7:30:d7:b9:e3:49:59:2f:68:09:98:72:15:39:15:ea:3d:6b:8b:46:53:c6:33:45:8f:80:3b:32:a4:c2:e0:f2:72:90:25:6e:4e:3f:8a:3b:08:38:a1:c4:50:e4:e1:8c:1a:29:a3:7d:df:5e:a1:43:de:4b:66:ff:04:90:3e:d5:cf:16:23:e1:58:d4:87:c6:08:e9:7f:21:1c:d8:1d:ca:23:cb:6e:38:07:65:f8:22:e3:42:be:48:4c:05:76:39:39:60:1c:d6:67:02:1d:00:ba:f6:96:a6:85:78:f7:df:de:e7:fa:67:c9:77:c7:85:ef:32:b2:33:ba:e5:80:c0:bc:d5:69:5d:02:82:01:00:16:a6:5c:58:20:48:50:70:4e:75:02:a3:97:57:04:0d:34:da:3a:34:78:c1:54:d4:e4:a5:c0:2d:24:2e:e0:4f:96:e6:1e:4b:d0:90:4a:bd:ac:8f:37:ee:b1:e0:9f:31:82:d2:3c:90:43:cb:64:2f:88:00:41:60:ed:f9:ca:09:b3:20:76:a7:9c:32:a6:27:f2:47:3e:91:87:9b:a2:c4:e7:44:bd:20:81:54:4c:b5:5b:80:2c:36:8d:1f:a8:3e:d4:89:e9:4e:0f:a0:68:8e:32:42:8a:5c:78:c4:78:c6:8d:05:27:b7:1c:9a:3a:bb:0b:0b:e1:2c:44:68:96:39:e7:d3:ce:74:db:10:1a:65:aa:2b:87:f6:4c:68:26:db:3e:c7:2f:4b:55:99:83:4b:b4:ed:b0:2f:7c:90:e9:a4:96:d3:a5:5d:53:5b:eb:fc:45:d4:f6:19:f6:3f:3d:ed:bb:87:39:25:c2:f2:24:e0:77:31:29:6d:a8:87:ec:1e:47:48:f8:7e:fb:5f:de:b7:54:84:31:6b:22:32:de:e5:53:dd:af:02:11:2b:0d:1f:02:da:30:97:32:24:fe:27:ae:da:8b:9d:4b:29:22:d9:ba:8b:e3:9e:d9:e1:03:a6:3c:52:81:0b:c6:88:b7:e2:ed:43:16:e1:ef:17:db:de:03:82:01:05:00:02:82:01:00:44:9a:19:f7:20:16:ab:f3:74:d9:17:93:b6:48:d0:53:f6:e9:b7:b5:82:64:17:f9:de:e6:ab:5d:80:d7:ef:52:a1:b1:3e:f3:35:f2:31:7c:82:dd:57:78:30:b6:ae:2b:6c:ab:01:57:eb:2e:25:c3:69:2a:91:f8:67:fc:49:e2:31:7a:06:8f:ed:9f:58:d3:8a:75:3c:f2:9d:70:b1:4c:2f:3a:71:b4:e4:01:22:be:16:1a:f3:14:40:12:22:f1:82:94:da:fd:bf:b8:9c:c7:af:92:bc:24:ca:ae:32:03:9b:5f:8d:0e:5f:56:71:b4:39:6d:27:d0:68:19:dd:42:d4:d3:0f:61:76:39:f6:ad:f3:95:e5:30:0e:70:6e:ce:7c:aa:49:4d:24:4d:ad:4e:5f:a8:e7:42:bc:67:ba:8f:df:90:5f:6a:6c:f8:75:c5:31:b3:67:f9:b9:e7:6a:fa:44:35:85:d1:36:46:db:0b:51:58:6a:ae:f5:4d:ad:d8:65:8a:e1:68:04:34:bf:1b:d2:f2:60:f5:4f:33:df:c5:a1:7a:de:8e:54:7b:e5:20:29:eb:e9:40:11:15:07:aa:0c:f7:ba:69:00:60:98:44:73:e0:92:7f:a3:42:32:0c:a9:91:d6:7d:06:04:54:5c:21:dd:1d:f6:f4:96:3a:65:a3:21:30:1f:30:1d:06:03:55:1d:0e:04:16:04:14:9c:85:1e:20:7f:82:fb:34:09:b2:8e:ad:30:9b:5d:60:e9:0c:13:2c:30:0b:06:09:60:86:48:01:65:03:04:03:02:03:3f:00:30:3c:02:1c:56:d1:21:21:47:29:76:15:88:c2:7f:d8:2e:0c:82:d3:fb:40:39:d8:f9:9a:2a:f7:87:1f:5b:ab:02:1c:54:66:42:6e:55:08:d5:4e:85:e3:e7:66:9f:8b:d8:ad:11:5e:63:91:60:9d:c2:a7:7b:ed:59:ce ,       subject  =&gt;  CN=www. example. com ,       issuer  =&gt;  CN=www. example. com ,       not-before  =&gt;  2022-03-28T10:21:44. 000+0200 ,       not-after  =&gt;  2022-06-26T10:21:44. 000+0200 ,       serial-number  =&gt;  08:f6:f0:9b:2c:35:23:9d ,       signature-algorithm  =&gt;  SHA256withDSA ,       signature  =&gt;  30:3c:02:1c:56:d1:21:21:47:29:76:15:88:c2:7f:d8:2e:0c:82:d3:fb:40:39:d8:f9:9a:2a:f7:87:1f:5b:ab:02:1c:54:66:42:6e:55:08:d5:4e:85:e3:e7:66:9f:8b:d8:ad:11:5e:63:91:60:9d:c2:a7:7b:ed:59:ce ,       version  =&gt;  v3     }]  }}It is now possible to reduce the verbosity of the output, making this command more user friendly. For instance: [standalone@localhost:9990 key-store=serverKS] :read-alias(alias= server1 , verbose=false){   outcome  =&gt;  success ,   result  =&gt; {     alias  =&gt;  server1 ,     entry-type  =&gt;  PrivateKeyEntry ,     creation-date  =&gt;  2022-03-28T10:21:44. 568+0200 ,     certificate-chain  =&gt; [{       type  =&gt;  X. 509 ,       algorithm  =&gt;  DSA ,       format  =&gt;  X. 509 ,       sha-1-digest  =&gt;  c5:cb:aa:b8:f9:4b:b0:44:59:ed:76:cd:ca:03:7d:df:d5:f6:ef:41 ,       sha-256-digest  =&gt;  de:ef:8e:51:07:9e:f7:3a:aa:59:c5:13:3f:33:4d:bd:1b:8e:8c:34:50:36:89:2a:53:96:eb:7a:f9:ba:9e:ca ,       subject  =&gt;  CN=www. example. com ,       issuer  =&gt;  CN=www. example. com ,       not-before  =&gt;  2022-03-28T10:21:44. 000+0200 ,       not-after  =&gt;  2022-06-26T10:21:44. 000+0200 ,       serial-number  =&gt;  08:f6:f0:9b:2c:35:23:9d ,       signature-algorithm  =&gt;  SHA256withDSA ,       signature  =&gt;  30:3c:02:1c:56:d1:21:21:47:29:76:15:88:c2:7f:d8:2e:0c:82:d3:fb:40:39:d8:f9:9a:2a:f7:87:1f:5b:ab:02:1c:54:66:42:6e:55:08:d5:4e:85:e3:e7:66:9f:8b:d8:ad:11:5e:63:91:60:9d:c2:a7:7b:ed:59:ce ,       version  =&gt;  v3     }]  }}Making 'read-aliases' even better: As mentioned above - the read-aliases command bugged me, its name just does not align with output. So, a new recursive option has now been added to this command to actually display information about the aliases. On top of it, in order to take advantage of first improvement a verbose option has also been added: [standalone@localhost:9990 key-store=serverKS] :read-aliases{   outcome  =&gt;  success ,   result  =&gt; [     backup ,     server2 ,     server1   ]}could expand into: [standalone@localhost:9990 key-store=serverKS] :read-aliases(recursive=true, verbose=false){   outcome  =&gt;  success ,   result  =&gt; {     backup  =&gt; {       alias  =&gt;  backup ,       entry-type  =&gt;  PrivateKeyEntry ,       creation-date  =&gt;  2019-05-27T08:29:42. 093+0200 ,       certificate-chain  =&gt; [{         type  =&gt;  X. 509 ,         algorithm  =&gt;  DSA ,         format  =&gt;  X. 509 ,         sha-1-digest  =&gt;  4d:a9:16:f9:6d:39:da:03:a1:f0:56:bd:58:46:6c:12:16:59:72:f0 ,         sha-256-digest  =&gt;  73:ea:31:e9:9d:de:38:1a:66:06:e7:66:a6:7d:fe:5d:b6:95:02:58:4f:8e:e0:01:19:ee:90:96:e0:18:2d:a1 ,         subject  =&gt;  CN=www. example. com ,         issuer  =&gt;  CN=www. example. com ,         not-before  =&gt;  2019-05-27T08:29:42. 000+0200 ,         not-after  =&gt;  2019-08-25T08:29:42. 000+0200 ,         serial-number  =&gt;  c9:97:3f:38:fe:50:17:2c ,         signature-algorithm  =&gt;  SHA256withDSA ,         signature  =&gt;  30:3c:02:1c:4f:1a:e9:ea:c2:0a:23:21:91:e8:aa:58:ce:df:b8:a1:ff:02:90:cb:33:b1:99:b2:ca:16:f6:5a:02:1c:38:2a:19:17:fa:c3:a1:1a:dd:bb:fe:96:e9:3a:6d:fa:e9:a6:63:4c:9f:fb:db:ec:dc:49:1e:35 ,         version  =&gt;  v3       }]    },     server2  =&gt; {       alias  =&gt;  server2 ,       entry-type  =&gt;  PrivateKeyEntry ,       creation-date  =&gt;  2019-05-27T08:29:35. 118+0200 ,       certificate-chain  =&gt; [{         type  =&gt;  X. 509 ,         algorithm  =&gt;  DSA ,         format  =&gt;  X. 509 ,         sha-1-digest  =&gt;  4e:f9:b4:b4:b3:73:71:36:55:c9:fd:51:d8:62:72:b5:1b:68:00:db ,         sha-256-digest  =&gt;  38:a7:22:39:7f:2a:c2:ff:05:71:07:92:ac:b2:1d:b9:e2:0a:f0:b3:46:bf:f8:98:53:7e:d8:27:2d:61:e0:69 ,         subject  =&gt;  CN=www. example. com ,         issuer  =&gt;  CN=www. example. com ,         not-before  =&gt;  2019-05-27T08:29:35. 000+0200 ,         not-after  =&gt;  2019-08-25T08:29:35. 000+0200 ,         serial-number  =&gt;  f2:b1:8f:7e:b1:e2:81:07 ,         signature-algorithm  =&gt;  SHA256withDSA ,         signature  =&gt;  30:3d:02:1d:00:b8:c5:7e:32:d4:d0:89:da:5d:aa:3a:ad:a7:fd:ea:43:15:7a:97:72:b9:5f:57:cf:9b:87:23:03:02:1c:43:0c:c2:da:ab:20:cb:9f:2b:e5:42:d3:55:ad:b7:38:21:ff:9d:83:4f:c7:20:30:d2:0a:0b:b5 ,         version  =&gt;  v3       }]    },     server1  =&gt; {       alias  =&gt;  server1 ,       entry-type  =&gt;  PrivateKeyEntry ,       creation-date  =&gt;  2019-05-27T08:29:31. 156+0200 ,       certificate-chain  =&gt; [{         type  =&gt;  X. 509 ,         algorithm  =&gt;  DSA ,         format  =&gt;  X. 509 ,         sha-1-digest  =&gt;  5b:dd:a9:06:22:37:03:2e:d0:c8:43:07:38:23:0d:5e:66:cb:a0:a4 ,         sha-256-digest  =&gt;  e7:41:a2:bc:6d:32:50:09:96:24:9f:83:0d:ef:a4:cb:62:de:38:61:0c:28:c0:d7:a1:10:c2:b1:91:66:72:f2 ,         subject  =&gt;  CN=www. example. com ,         issuer  =&gt;  CN=www. example. com ,         not-before  =&gt;  2019-05-27T08:29:31. 000+0200 ,         not-after  =&gt;  2019-08-25T08:29:31. 000+0200 ,         serial-number  =&gt;  f0:2c:f7:ba:47:a2:33:c1 ,         signature-algorithm  =&gt;  SHA256withDSA ,         signature  =&gt;  30:3d:02:1d:00:94:ba:8e:2f:40:34:f6:fe:9f:30:9e:69:36:58:fa:88:bb:f5:78:67:5a:92:cd:89:3e:a9:e1:ba:02:1c:1c:6f:d9:27:db:54:79:2d:76:80:5e:b2:60:0c:60:90:d0:fb:be:cf:03:91:8b:0a:ef:af:58:40 ,         version  =&gt;  v3       }]    }  }}Drawbacks: Only one, but this stems from requirement of backwards compatibility. Commands must behave in consistent manner. So in this case, users have to punch extra characters to get rid of excess of characters - kind of ironic, but it can not be helped. This means that in case of both commands, default value for verbose, is true. Summary: This blog post has given an overview of how read-alias and read-aliases commands were improved to better user experience. " 
        
    } ,  {
        "id": 25,
        "url": "/wildfly-elytron/blog/filesystem-encryption/",
        "link": "",
        "title": "Encrypting Filesystem realms",
        "author": "araskar",
        "postDate": "April 19, 2022",
        "body": "Previously, any data in the filesystem realm was always stored unencrypted, this meant that anyone with access to the filesystem identity files could access the credentials, and attributes (such as assigned roles). Now encryption has been added via a SecretKey. An overview of the new attributes: The filesystem realm now supports the following attributes Encryption: credential-store: This attribute specifies the credential store resource where the secret key resides in. This credential store must be configured prior to creating the filesystem realm. This attribute is optional and if not specified, the filesystem realm will not be encrypted. secret-key: This attribute specifies the alias to the secret key in the credential store to encrypt the realm. The default value is key. A Complete Example: In this post we go through an example of setting up a filesystem realm with encryption enabled on a web application. Example Project: Clone the elytron-examples repo locally: git clone https://github. com/wildfly-security-incubator/elytron-examplescd elytron-examplesWe&#8217;ll be looking at the encryption-filesystem-realm Server Configuration: In the following section, we will review the configuration available in the script for the quickstartconfigure-elytron. cli. We start our configuration by connecting to the server using the following command: $ WILDFLY_HOME/bin/jboss-cli. sh --connectNote: Use of WILDFLY_HOME: In the following post, replace WILDFLY_HOME with the actual path to your WildFly installation. First we create a credential store and secret key under the Elytron subsystem, with the name credstore, and secret key alias key /subsystem=elytron/secret-key-credential-store=credstore:add(path=mycredstore. cs, relative-to=jboss. server. config. dir, create=true, populate=true)Here we specify the create, and populate attributes as true. The create attribute will create the credential store file if it doesn&#8217;t already exist. The populate attribute will add an alias if the default-alias does not already exist. The default alias is set to key. Then we create a filesystem realm under the Elytron subsystem using the credential-store, and secret-key specified above. We then add an identity quickstartUser, setting a digest password and adding theattributes Guest and Admin as follows: /subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-realm,relative-to=jboss. server. config. dir, key-store=keystore, key-store-alias=user, credential-store=credstore, secret-key=key)/subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:set-password(digest={algorithm=digest-md5, realm=fsRealm, password=password123!}, identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[ Admin ,  Guest ])For more information about creating FileSystem realms along with all of its possible configurations,please refer to the Elytron documentation. We then configure a simple role decoder and create a new security domain which will make use of ourfilesystem realm and role decoder as follows: /subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)/subsystem=elytron/security-domain=fsDomain:add(realms=[{realm=fsRealm, role-decoder=from-roles-attribute}], default-realm=fsRealm,permission-mapper=default-permission-mapper)Creating an additional security domain (fsDomainin this case) is not necessary. We could alternatively take the default ApplicationDomain and add theFileSystem realm and role-decoder to it. We then add our security domain mapping to the Undertow subsystem: /subsystem=undertow/application-security-domain=other:write-attribute(name=security-domain, value=fsDomain)Deploying to app to WildFly: From the root directory of the quickstart example run the following command the deploy the web application to wildfly mvn clean install wildfly:deployVerifying Encryption: Now you may navigate to http://localhost:8080/encryption-filesystem, and when it prompt&#8217;s you to enter a username and password, put in the credentials we specified earlier, quickstartUser, and password123!. This should authenticate you to a page that shows you the principal you&#8217;re logged in with. The successful login indicates that encryption has been configured correctly. In order to further verify that these features are being used correctly we can navigate to the identity file and check the contents. The file should be located at WILDFLY_HOME/standalone/configuration/fs-realm/O/F/OF2WSY3LON2GC4TUKVZWK4Q. xml if the same filesystem realm and identity configuration was used. Here we can see the format for the password is enc_base64 specifying that the credentials are encrypted. The attributes should also be stored encrypted instead of plain text. Summary: This blog post has given an overview on how to configure a filesystem realm to enable encryption support. " 
        
    } ,  {
        "id": 26,
        "url": "/wildfly-elytron/blog/filesystem-encryption-tool/",
        "link": "",
        "title": "Encrypting Pre-Existing Filesystem realms",
        "author": "araskar",
        "postDate": "April 19, 2022",
        "body": "Overview: With the addition of the filesystem realm encryption feature outlined here, a feature was added to the Elytron Tool to encrypt a pre-existing filesystem realm. Method to run the tool: There are two methods to run the tool, one is on the command line, that only lets you apply encryption to one filesystem realm at a time, and the other way is to use a descriptor file which allows you to convert multiple filesystem realms at the same time. Regardless of the method you choose, there are certain options that only work on the command line outlined below --help: Get help with usage of this command --debug: Print stack trace when error occurs. --silent: Suppresses all output except errors and prompts. --summary: Provides a detailed summary of all operations performed, once the command finishes. The example command would be run like the following $ WILDFLY_HOME/bin/elytron-tool. sh filesystem-encrypt --helpIn the following post, replace WILDFLY_HOME with the actual path to your WildFly installation. The following options are required for both methods: --input-location: The absolute or relative location of the original filesystem realm. --output-location: The directory where the new filesystem realm resides. --credential-store: The relative or absolute path to the credential store file that contains the secret key (default: OUTPUT_LOCATION/mycredstore. cs). The following options are optional for both methods, and have their defaults listed: --realm-name: The name of the new filesystem-realm (default: encrypted-filesystem-realm). --secret-key: The alias of the secret key stored in the credential store file (default: key). --hash-encoding: The hash encoding used in the original filesystem realm (default: BASE64). --hash-charset: The hash charset used in the original filesystem realm (default: UTF-8). --encoded: If the original realm has encoded set to true (default: true). --levels: The levels used in the original filesystem realm (default: 2). Command Line: To run in command line mode, specify the mandatory options, and any optional ones applicable to your use case. For example: $ WILDFLY_HOME/bin/elytron-tool. sh filesystem-realm-encrypt --input-location fs-unencrypted-realm --output-location fs-encrypted-realm --credential-store myCredStore. cs --realm-name new-realm --encoded false --levels 4 --hash-encoding HEXThis command will encrypt a filesystem Located at . /fs-unencrypted-realm Encrypted to . /fs-encrypted-realm/new-realm encoded in the original realm set to false levels in the original realm set to 4 hash-encoding used in the orignal realm set to HEX Bulk Convert: A descriptor file will allow you to convert multiple realms all at once from unencrypted to encrypted filesystem realms. To do this you will create a file in a specific format. Enter all the filesystem-realm-encrypt options on a line with a : after with the value you want to set it to. To seperate realms, leave a blank line between the blocks. For example, if you wanted to encrypt 4 realms, the below file could be created. Here it shows setting different levels, hash-charsets, and hash-encodings in the realms. This filename is bulk-encryption-conversion-desc. input-location:target/test-classes/filesystem-encrypt/fs-unencrypted-realms/multiple-credential-typesoutput-location:target/test-classes/filesystem-encrypt/fs-encrypted-realmscredential-store:myCredStore. csrealm-name:multiple-credential-typeslevels:1input-location:target/test-classes/filesystem-encrypt/fs-unencrypted-realms/level-4output-location:target/test-classes/filesystem-encrypt/fs-encrypted-realmscredential-store:myCredStore. csrealm-name:level-4levels:4input-location:target/test-classes/filesystem-encrypt/fs-unencrypted-realms/hashcharsetoutput-location:target/test-classes/filesystem-encrypt/fs-encrypted-realmscredential-store:myCredStore. csrealm-name:hash-charsethash-charset:KOI8-Rinput-location:target/test-classes/filesystem-encrypt/fs-unencrypted-realms/hashencodingoutput-location:target/test-classes/filesystem-encrypt/fs-encrypted-realmscredential-store:myCredStore. csrealm-name:hash-encodinghash-encoding:hexTo make use of this descriptor file, the following command would be run: $ WILDFLY_HOME/bin/elytron-tool. sh filesystem-realm-encrypt --bulk-convert . /bulk-encryption-conversion-descSummary: This blog post has given an overview on how to encrypt a filesystem realm that was previously configured without encryption for both command line mode and bulk convert mode. " 
        
    } ,  {
        "id": 27,
        "url": "/wildfly-elytron/blog/client-default-ssl-context/",
        "link": "",
        "title": "Client side default SSL context provider",
        "author": "dvilkola",
        "postDate": "April 19, 2022",
        "body": "Elytron client now provides a java security provider which can be used to register a JVM wide default SSLContext. When this provider is registered with high enough priority and the method SSLContext. getDefault() is called, the provider instantiates and returns an SSLContext based on an Elytron client configuration file. So all client libraries that use SSLContext. getDefault() will use the Elytron client configuration without having to use Elytron client APIs in their code. To register this org. wildfly. security. auth. client. WildFlyElytronClientDefaultSSLContextProvider provider, a runtime dependency on wildfly-elytron-client and wildfly-client-config is needed. Then it can be registered the usual way, either statically or dynamically. The provider loads the SSL context from either the current authentication context obtained from the classpath, or from the authentication context obtained from the file whose path is passed into the security provider either programmatically or as an argument in the java. security file. Configuration file passed to the provider directly has precedence over the authentication context from the classpath. The SSL context configured to match all rules is the one that will be initialized and returned by this provider, see below example: &lt;rule use-ssl-context= ssl-context-for-client-provider  /&gt;Or: myAuthenticationContext. withSsl(MatchRule. ALL, myDefaultSslContext);To register the provider programmatically and optionally specify the path to an Elytron client configuration file, the following code can be used: Security. insertProviderAt(new WildFlyElytronClientDefaultSSLContextProvider(CONFIG_FILE_PATH), 1);Alternatively, the provider can be registered in the java. security file and the path to an Elytron client configuration file can be optionally specified as shown below: security. provider. 1=org. wildfly. security. auth. client. WildFlyElytronClientDefaultSSLContextProvider CONFIG_FILE_PATHWhen the provider is registered without a path to file, you can configure the authentication context and surround the SSLContext. getDefault() call programmatically, eg. : myAuthenticationContext. run(() -&gt; {  SSLContext. getDefault();}Example: You can take a look at the example here. Summary: New JVM wide default SSL context provider was added to the Elytron client in the WildFly 26. 1 release. When you have an SSL context matching all rules configured in Elytron client and you register the WildFlyElytronClientDefaultSSLContextProvider provider with high enough priority, then all client libraries that use SSLContext. getDefault() will use make use of it. " 
        
    } ,  {
        "id": 28,
        "url": "/wildfly-elytron/blog/securing-wildfly-apps-oidc-openshift/",
        "link": "https://www.youtube.com/watch?v=2gQO4_7Z5CI",
        "title": "Vlog: Securing a WildFly Application with OpenID Connect on OpenShift",
        "author": "fjuma",
        "postDate": "March 29, 2022",
        "body": "" 
        
    } ,  {
        "id": 29,
        "url": "/wildfly-elytron/blog/multi-tenancy-support-openid-connect/",
        "link": "",
        "title": "Multi-tenancy Support for OpenID Connect Applications",
        "author": "fjuma",
        "postDate": "January 21, 2022",
        "body": "As mentioned in my last blog post,applications deployed to WildFly can be secured with OpenID Connect, without needing to use the Keycloakclient adapter. WildFly 26. 0. 1. Final, which was just released, includes a fix for multi-tenancy support for OpenID Connectapplications. This blog post gives an overview of how to configure OpenID Connect applications deployed toWildFly so they can support multi-tenancy. Multi-tenancyUsing a Custom Configuration ResolverA Complete Example with Multiple Keycloak RealmsExample ProjectSetting up your Keycloak OpenID providerDeploying the app to WildFlyAccessing the appSummaryMulti-tenancy: Multi-tenancy allows a single application to serve multiple tenants. This means that it&#8217;s possible to usea different authentication policy for each tenant. In other words, it&#8217;s possible for a single applicationto be associated with multiple OpenID Connect configuration files. As an example,when using the Keycloak OpenID provider, you might want a different oidc. json file to be useddepending on the request that was received in order to authenticate users from multiple Keycloak realms. The elytron-oidc-client subsystem allows your application to support multi-tenancy by making itpossible to use a custom configuration resolver so you can define which configuration file to use foreach request. Using a Custom Configuration Resolver: To add multi-tenancy support to your OpenID Connect application, two steps are needed. First, you&#8217;ll need to create a class that implements the org. wildfly. security. http. oidc. OidcClientConfigurationResolver interface,as shown in the example below: package org. wildfly. security. examples;import java. io. InputStream;import java. util. HashMap;import java. util. Map;import java. util. concurrent. ConcurrentHashMap;import org. wildfly. security. http. oidc. OidcClientConfiguration;import org. wildfly. security. http. oidc. OidcClientConfigurationBuilder;import org. wildfly. security. http. oidc. OidcClientConfigurationResolver;import org. wildfly. security. http. oidc. OidcHttpFacade;public class MyCustomConfigResolver implements OidcClientConfigurationResolver {  private final Map&lt;String, OidcClientConfiguration&gt; cache = new ConcurrentHashMap&lt;&gt;();  @Override  public OidcClientConfiguration resolve(OidcHttpFacade. Request request) {    String path = request. getURI();    String tenant = . . . // determine the tenant from the request    OidcClientConfiguration clientConfiguration = cache. get(tenant);    if (clientConfiguration == null) {      InputStream is = getClass(). getResourceAsStream( /oidc-  + tenant +  . json ); // config to use based on the tenant      clientConfiguration = OidcClientConfigurationBuilder. build(is);      cache. put(tenant, clientConfiguration);    }    return clientConfiguration;  }}Next, to specify that you want to make use of your custom configuration resolver, you&#8217;ll need to setthe oidc. config. resolver context-param in your application&#8217;s web. xml file, as shown in the example below: &lt;web-app&gt;  . . .   &lt;context-param&gt;    &lt;param-name&gt;oidc. config. resolver&lt;/param-name&gt;    &lt;param-value&gt;org. wildfly. security. examples. MyCustomConfigResolver&lt;/param-value&gt;  &lt;/context-param&gt;  . . . &lt;/web-app&gt;A Complete Example with Multiple Keycloak Realms: In the rest of this post, we&#8217;ll go through an example to see how to add supportfor multi-tenancy to an OpenID Connect application that will be deployed to WildFly. Our tenants will be multiple Keycloak realms. Example Project: First, clone the elytron-examples repo locally: git clone https://github. com/wildfly-security-incubator/elytron-examplescd elytron-examplesWe’re going to be looking at the multi-tenancy-oidc project. Setting up your Keycloak OpenID provider: It&#8217;s easy to set up Keycloak using Docker. Follow the steps in Keycloak&#8217;s getting started guideto start Keycloak, create a realm called tenant1, create a user called alice, and register a client called myclient. After registering our client,myclient, we also need to configure valid redirect URIs. Simply click on Clients and then on myclient. In the Valid Redirect URIs field,enter http://localhost:8090/multi-tenancy-oidc/*. Now, because we&#8217;re going to make use of two Keycloak realms, let&#8217;s repeat these steps again to create a second realm calledtenant2, create a user called bob, and register a client with the same name we used above, myclient. After registering our client, myclient, we also need to configure valid redirect URIs. Simply click on Clients and thenon myclient. In the Valid Redirect URIs field, enter http://localhost:8090/multi-tenancy-oidc/*. Deploying the app to WildFly: Take a look at the custom configuration resovlerdefined in our application. Notice that the oidc-tenant1. json configuration file will be used for requests of the formhttp://localhost:8090/multi-tenancy-oidc/tenant1. Similarly, the oidc-tenant2. json configuration file will be used forrequests of the form http://localhost:8090/multi-tenancy-oidc/tenant2. Finally, notice that we&#8217;ve specified that we want to use our custom configuration resolver in our application&#8217;s web. xml file. Now let&#8217;s deploy our application to WildFly. First, we&#8217;re going to start our WildFly instance (notice that we&#8217;re specifying a port offset heresince our Keycloak instance is already exposed on port 8080): . /bin/standalone. sh -Djboss. socket. binding. port-offset=10Next, we&#8217;re going to build and deploy our project. From our elytron-examples directory, run thefollowing commands: cd multi-tenancy-oidcmvn wildfly:deploy -Dwildfly. port=10000Accessing the app: Now, let&#8217;s try accessing our application using http://localhost:8090/multi-tenancy-oidc/tenant1. Click on  Access Secured Servlet . Now, you&#8217;ll be redirected to Keycloak to log in. Log in with alice and the password that youset when configuring Keycloak. Next, you&#8217;ll be redirected back to our application and you should see the  Secured Servlet  page. That means that we&#8217;ve been able to successfully log in to our application using the tenant1Keycloak realm. If you repeat the process and try logging in as bob, authentication willfail because bob is not a user in the tenant1 realm. Now, let&#8217;s try accessing our application using http://localhost:8090/multi-tenancy-oidc/tenant2. This time, after clicking on  Access Secured Servlet , log in with bob and the password youset when configuring Keycloak. Now, because bob is a user in the tenant2 realm, you&#8217;ll beredirected back to our application and you should see the  Secured Servlet  page. Summary: This blog post has given an overview of how to add support for multi-tenancy to an OpenID Connectapplication deployed to WildFly. For more information, be sure to check out thedocumentation. " 
        
    } ,  {
        "id": 30,
        "url": "/wildfly-elytron/blog/upcoming-filesystem-encryption-integrity/",
        "link": "",
        "title": "Upcoming filesystem realm encryption and integrity support in Elytron",
        "author": "araskar",
        "postDate": "December 17, 2021",
        "body": "Two features that we have been working during the WildFly 26 development phase is the ability to encrypt filesystem security realms with a SecretKey, and the ability to verify filesystem integrity with a KeyPair. This feature will be included in a future WildFly release. An Overview of Filesystem Realm Encryption and Integrity: Currently the filesystem realm does not offer support for encryption of the entire filesystem. For example, a sample identity file could contain the following information. The file name here would be quickstartuser-OF2WSY3LON2GC4TUKVZWK4Q. xml. &lt;?xml version='1. 0' encoding='UTF-8'?&gt;&lt;identity xmlns= urn:elytron:1. 0 &gt;  &lt;credentials&gt;    &lt;password algorithm= clear  format= base64 &gt;AXF1aWNrc3RhcnRQd2QxIQ==&lt;/password&gt;  &lt;/credentials&gt;  &lt;attributes&gt;    &lt;attribute name= Roles  value= guest /&gt;  &lt;/attributes&gt;&lt;/identity&gt;This poses a security issue as if anyone has access to the filesystem, they could find the base64 encoded password of the user, and all their attributes in plaintext. To fix this issue, if encryption is now enabled, it will encrypt the passwords, and all attributes with a SecretKey, and the filename will no longer contain their username in plaintext form, but instead a base64 encoding of the name. If that same identity was encrypted with a SecretKey, this is what the identity file would be, with the filename OF2WSY3LON2GC4TUKVZWK4Q. xml. &lt;?xml version='1. 0' encoding='UTF-8'?&gt;&lt;identity xmlns= urn:elytron:1. 0 &gt;  &lt;credentials&gt;    &lt;password algorithm= clear  format= enc_base64 &gt;bgKRfndfcJwdA+8lpHpjtQ==&lt;/password&gt;  &lt;/credentials&gt;  &lt;attributes&gt;    &lt;attribute name= ngnS0g/i9xfK1yPEs0gd5Q==  value= 01GCn5bePl8gvnvpyVTN2g== /&gt;  &lt;/attributes&gt;&lt;/identity&gt;Filesystem integrity was also added into this feature. This is very important as it ensures that the filesystem data has not been tampered with since the last time it was written to. This works by generating a signature using a KeyPair that contains a PrivateKey and PublicKey. This signature is generated based on the file contents. A single character change in the file will regenerate the signature to something completely different. This allows us to ensure the file is exactly how we expect it to be. The signature will be in the identity before the end of the file. The identity file with integrity verification enabled would look like the following. &lt;?xml version= 1. 0  encoding= UTF-8  standalone= no ?&gt;&lt;identity xmlns= urn:elytron:1. 0 &gt;  &lt;credentials&gt;    &lt;password algorithm= bcrypt  format= base64 &gt;BQoQX9aqzoP3jgFXIWh9GOlIq1secNEbRofmD9lKHUd+/clh+dMwhusP&lt;/password&gt;    &lt;otp algorithm= otp-sha1  hash= UF2In5AIWEc=  seed= a2UxMjM0  sequence= 500 /&gt;  &lt;/credentials&gt;  &lt;attributes&gt;    &lt;attribute name= firstName  value= John /&gt;    &lt;attribute name= lastName  value= Smith /&gt;    &lt;attribute name= roles  value= Employee /&gt;    &lt;attribute name= roles  value= Manager /&gt;    &lt;attribute name= roles  value= Admin /&gt;  &lt;/attributes&gt;  &lt;Signature xmlns= http://www. w3. org/2000/09/xmldsig# &gt;    &lt;SignedInfo&gt;      &lt;CanonicalizationMethod Algorithm= http://www. w3. org/TR/2001/REC-xml-c14n-20010315 /&gt;      &lt;SignatureMethod Algorithm= http://www. w3. org/2001/04/xmldsig-more#rsa-sha256 /&gt;      &lt;Reference URI=  &gt;        &lt;Transforms&gt;          &lt;Transform Algorithm= http://www. w3. org/2000/09/xmldsig#enveloped-signature /&gt;        &lt;/Transforms&gt;        &lt;DigestMethod Algorithm= http://www. w3. org/2001/04/xmlenc#sha256 /&gt;        &lt;DigestValue&gt;Vt9Hea6ZOmYH9riBadwPNL2yY49B7X6S2OVfG4/1h4U=&lt;/DigestValue&gt;      &lt;/Reference&gt;    &lt;/SignedInfo&gt;    &lt;SignatureValue&gt;      Z+oXEAyowAMsnp6Myi2+8igRivY2LVeHy3OfxfAn/43v6hm4KLqb2rCFROMT9SrwowdIA0Ds9l0P&amp;#13;46EXmsYeTXHJjsS0fI7fmpP6UpyHjslpOHuSIbOOrsk2zZRPNEoMoWzgwx8xRJb9AP/Ut89ZJ66i&amp;#13;klKih2xncnr2hnjDjKBsX+McIl9oB3JQwDFtFkfW5OxmOGbNkftN7wH7nepfBYkdAog81zPYsDgy&amp;#13;JC7JPOLW4M4e2AgUrApbsR/9D80zW80rsZJ0ifRUhMeBG/PQ8LTLuLOKyp6NXB5V/U++LwmH09Bb&amp;#13;KrzDb51mdabo/+gx1FtV64AHAW+F8f3fHcE3A==    &lt;/SignatureValue&gt;    &lt;KeyInfo&gt;      &lt;KeyValue&gt;        &lt;RSAKeyValue&gt;          &lt;Modulus&gt;            j5K7L63eAwjCZLEZfJH7CwG6bFhUeE/ewzILiSSLcPxM7rG4xY6QgGlPzQ5mu+G31aHdlLrG9yWt&amp;#13;Wazz1LsWFAi9NJJt3TEZ0PA8UdWUPeo5ddqpGPcjbpdOp1MgTyOqmYnJ3vXQYYsBGr+LCSfitATV&amp;#13;mG8qbtz0DWneybWByh9osWRtjt/nd2HiFyKn/E0/kXY2eIuz/MO/LG+b28bTpX3WUR5/gJnNdxWe&amp;#13;giVJmFk0vNf+cS5BQmMp3HUKl1hHihT+oTkUHBwGr0Ovbw33/8g97pqSf1itv0DBuL0TVg27hgq2&amp;#13;KXWgdxmWsjEyTI6q2kjoY6ANopnXHR9b3AV5Tw==          &lt;/Modulus&gt;          &lt;Exponent&gt;AQAB&lt;/Exponent&gt;        &lt;/RSAKeyValue&gt;      &lt;/KeyValue&gt;    &lt;/KeyInfo&gt;  &lt;/Signature&gt;&lt;/identity&gt;Filesystem Realm Encryption and Integrity Configuration: To configure filesystem encryption, the follwing two attributes will be required: credential-store: This attribute is a reference to the credential store that contains the SecretKey to be used to encrypt and decrypt the filesystem-realm. secret-key: This attribute is an alias for the secret key to be used to encrypt and decrypt the filesystem-realm. If the credential-store attribute is specified, this attribute is required. To configure filesystem integrity, another two attributes will be required: key-store: This attribute is a reference to the KeyStore that contains the key pair to be used to sign and verify the signature of each identity. key-alias: This attribute is an alias to the keypair in the key-store used to sign and verify the signature of each identity. If the key-pair attribute is specified, this attribute is required. Summary: This post has given a quick rundown of the new Filesystem realm encryption and integrity features for the Elytron subsystem that we have been working to complete. For more details and updates on the status of this feature,keep an eye on WFCORE-5530. " 
        
    } ,  {
        "id": 31,
        "url": "/wildfly-elytron/blog/securing-wildfly-apps-openid-connect/",
        "link": "",
        "title": "Securing WildFly Apps with OpenID Connect",
        "author": "fjuma",
        "postDate": "December 17, 2021",
        "body": "WildFly 25 added the ability to secure applications using OpenID Connect, without needingto make use of the Keycloak client adapter. This blog post gives an introduction to this feature. OpenID ConnectNew elytron-oidc-client SubsystemDeployment ConfigurationSubsystem ConfigurationRequired Configuration OptionsOpenID ProvidersSecuring an application using OIDCExample ProjectSetting up your Keycloak OpenID providerDeploying the app to WildFlyAccessing the appSummaryOpenID Connect: OpenID Connect is an identity layer on top of the OAuth 2. 0 protocol. OpenID Connect makes it possible for a client to verify a user&#8217;s identity based on authenticationthat&#8217;s performed by an OpenID provider. New elytron-oidc-client Subsystem: WildFly 25 introduced a new elytron-oidc-client subsystem that scans deployments to check if theOpenID Connect (OIDC) authentication mechanism is needed. If the subsystem detects that the OIDCmechanism is required for a deployment, the subsystem will activate this authentication mechanismautomatically. The configuration that indicates that the OIDC authentication mechanism is needed by anapplication can either be provided within the application itself or within the elytron-client-oidcsubsystem. Deployment Configuration: Two steps are needed to specify that the OIDC authentication mechanism should be used tosecure an application using configuration within the deployment. First, an oidc. json configuration file needs to be added to the application&#8217;s WEB-INF directory. There is a sample oidc. json configuration file in the documentation. (Note that with the exception of a couple new options, the options that can be specified in the oidc. jsonfile are the same as the options that could previously be specified in the keycloak. json file that was usedwith the Keycloak client adapter. ) Next, the application&#8217;s web. xml file should also specify OIDC as the auth-method: &lt;login-config&gt;  &lt;auth-method&gt;OIDC&lt;/auth-method&gt;&lt;/login-config&gt;Subsystem Configuration: Instead of including the OIDC configuration directly in a deployment, it&#8217;s also possible to configurethis via the elytron-oidc-client subsystem instead. For each deployment that is to be secured with OIDC, a secure-deployment should be added. It is also possible to combine configuration that is common to multiple deployments usingthe provider resource. Sample elytron-oidc-client subsystem configuration can also be found in the documentation. The various options that can be specified here correspond to the same options that can be specified in theoidc. json configuration above. Required Configuration Options: Whether the OIDC configuration is being specified directly in the deployment or via the subsystemconfiguration, there are a couple configuration options that must be specified: client-id - This is the client identifier for the application. This is the identifier thathas been registered with the authorization server. provider-url - The URL of the OpenID provider. WildFly will use provider-url/. well-known/configurationto discover more information about the OpenID provider. As an example, for Keycloak, the provider-urlwill look like http://localhost:8080/auth/realms/myrealm. The rest of the configuration options are optional and are the same as the previous Keycloakclient adapter. OpenID Providers: WildFly 25 and WildFly 26 have been tested with the Keycloak OpenID provider. Although it&#8217;s now possibleto configure WildFly to use other OpenID providers, these haven’t been extensively tested yet so theuse of other OpenID providers should be considered experimental for now and should not be used in aproduction environment yet. Proper support for other OpenID providers will be added in a future WildFlyrelease. Securing an application using OIDC: In the rest of this post, we&#8217;ll go through a complete example to see how to secure an applicationdeployed to WildFly using OpenID Connect with the Keycloak OpenID provider. Example Project: First, clone the elytron-examples repo locally: git clone https://github. com/wildfly-security-incubator/elytron-examplescd elytron-examplesWe’re going to be looking at the simple-webapp-oidc project. Setting up your Keycloak OpenID provider: It&#8217;s easy to set up Keycloak using Docker. Follow the steps in Keycloak&#8217;s getting started guideto start Keycloak, create a realm called myrealm, create a user called myuser,and register a client called myclient. After registering our client, myclient, we also need to configure valid redirect URIs. Simply clickon Clients and then on myclient. In the Valid Redirect URIs field, enter http://localhost:8090/simple-webapp-oidc/*. Deploying the app to WildFly: We&#8217;re going to use the deployment configuration approach for this example, i. e. , our applicationcontains an oidc. json file and its web. xml file specifies OIDC as the auth-method. Now that we&#8217;ve set up our Keycloak OpenID provider, we just need to deploy our application to WildFly. First, we&#8217;re going to start our WildFly instance (notice that we&#8217;re specifying a port offset heresince our Keycloak instance is already exposed on port 8080): . /bin/standalone. sh -Djboss. socket. binding. port-offset=10Next, we&#8217;re going to build and deploy our project. From our elytron-examples directory, run thefollowing commands: cd simple-webapp-oidcmvn wildfly:deploy -Dwildfly. port=10000Accessing the app: Now, let&#8217;s try accessing our application using http://localhost:8090/simple-webapp-oidc/. Click on  Access Secured Servlet . Now, you&#8217;ll be redirected to Keycloak to log in. Log in with myuser and the password that youset when configuring Keycloak. Next, you&#8217;ll be redirected back to our application and you should see the  Secured Servlet  page. That means that we&#8217;ve been able to successfully log in to our application using the KeycloakOpenID provider! Summary: This blog post has given an introduction to the native support for OpenID Connect in WildFlyand has shown how to secure an application deployed to WildFly with OpenID Connect. For more details about this feature, be sure to check out the documentation. " 
        
    } ,  {
        "id": 32,
        "url": "/wildfly-elytron/blog/new-security-features-wildfly/",
        "link": "",
        "title": "New Security Features in WildFly",
        "author": "fjuma",
        "postDate": "December 17, 2021",
        "body": "Since WildFly 26 was just released, we wanted to highlight a new security feature includedin this release and a few other security features as well. Support for JAAS Security Realms in WildFly 26: WildFly 26 now adds support for JAAS security realms to the Elytron subsystem. This means thatit&#8217;s possible to use custom LoginModules for authentication and authorization. More information,including an example on how to quickly get started with this new feature, can be found in thisblog post. Support for OpenID Connect: WildFly 25 added the ability to secure applications deployed to WildFly with OpenID Connect,without needing to use the Keycloak client adapter. For more details about this recentfeature and an example that shows how to secure an application deployed to WildFly withthe Keycloak OpenID provider, take a look at thisblog post. Upcoming Filesystem Realm Enhancements: We will be adding the ability to encrypt the identities that are stored in Elytron&#8217;s filesystem-basedsecurity realm. In addition to this, we will be adding the ability to verify the integrity of theseidentities as well. For all the details on this upcoming feature, check out this blog post. Upcoming SSL/TLS Enhancement: We will be adding a Java security provider that loads Elytron client configuration and registers a defaultSSL context for the JVM. When this provider is registered with high enough priority, client libraries thatuse SSLContext. getDefault() will obtain an SSL context instantiated and configured by the Elytron client. For all the details on this upcoming feature, check out this blog post. Contributing to Elytron: As always, the WildFly Elytron project welcomes your contributions! How to get started?: Our contribution guide helps guide you through the steps for getting started on the WildFly Elytron project and goes through how to format and submit your first PR. How to pick an issue?: We have created a list of good first issues to help you get started. How to reach us?: If you’d like some help or have questions about making contributions to our project, feel free to reach us on chat or add questions directly on your PR. Thanks to everyone who contributed to the WildFly Elytron project this year! Where to Find More Information: This blog post has given an overview of some new security features in WildFly. Be sure to check out ourblog posts page, where we have all ourblog posts on Elytron features. If there is an Elytron topic you’d like to see a blog post on, feel free tolet us know on WildFly’s user forum. To learn more about Elytron, check out our site. " 
        
    } ,  {
        "id": 33,
        "url": "/wildfly-elytron/blog/jaas-realm/",
        "link": "",
        "title": "Using a JAAS realm in Elytron",
        "author": "dvilkola",
        "postDate": "December 17, 2021",
        "body": "The Elytron subsystem already provides various security realms like LDAP realm, JDBC realm, filesystem realm, and others for common use cases. Starting from WildFly 26, you can also configure a JAAS security realm in the Elytron subsystem in order to use custom Login Modules for authentication and authorization. A JAAS realm utilizes a LoginContext initialized from a JAAS configuration file to authenticate and authorize users with custom Login Modules. Flags and options can be specified in a JAAS configuration file according to the Java documentation. Add a JAAS realm: You can add a jaas-realm to the Elytron subsystem by specifying the following attributes: entry JAAS configuration file entry name path Path to the JAAS configuration file. You can also specify the location of the configuration with java system property  java. security. auth. login. config  or with java security property  login. config. url  relative-to Optional base folder for the path. module The WildFly module with Login Module implementations and Callback Handler implementation. callback-handler Callback handler to use with the Login Context. Security property  auth. login. defaultCallbackHandler  can be used instead. The default callback handler of the realm will be used if none of these are defined. Attribute entry is required and all other attributes are optional. Example of configuration via CLI: /subsystem=elytron/jaas-realm=jaasRealmExample:add(    entry=Entry1,    path=/path/to/JAAS-config-file. conf,    module=moduleContainingCustomImpls,    callback-handler=loginmodules. CustomCallbackHandler)Principals to attributes mapping: The Elytron subsystem can have attributes associated with authenticated users. These attributes can be for example a name, email, phone number. Login Modules use Subjects to represent the user currently being authenticated. Subject&#8217;sprincipals are mapped to user&#8217;s attributes with the following rule: key of the attribute is principal’s simple classname, so the value of principal. getClass(). getSimpleName()) value is principal’s name, so the result of principal. getName() call. For principals of the same type / key, the values will be appended to the collection under this attribute key. Example: Authenticated Subject contains 2 principals of type org. my. principal. Email. First principal has name first@email. com and second second@email. com. The result will be a single attribute with a name Email and its value will be collection containing values first@email. com and second@email. com. Roles for authorization: Attributes can be used to associate roles with the authenticated user. The default attribute name for roles in the Elytron subsystem is Roles. This means that users can create their own implementation of Principal interface that will be named Roles. Each instance of this principal contains a name, which should be the role belonging to the authenticated user.  To associate multiple roles with the authenticated user, multiple principals of type Roles have to be added to the subject. Example: private static class Roles implements Principal {    private final String name;    Roles(final String name) {      this. name = name;    }    public String getName() {      return this. name;    }}In the Login Module implementation, you can add roles to your Subject with the following: this. subject. getPrincipals(). add(new Roles( Admin ));this. subject. getPrincipals(). add(new Roles( Guest ));Note: You can define role decoders in the Elytron subsystem to use different attribute for role mapping. Example: You can take a look at a following example that uses jaas-realm with custom LoginModule implementations. Summary: This blog post has given an overview of jaas-realm usage in the Elytron subsystem. You can check out Elytron documentation for more information. " 
        
    } ,  {
        "id": 34,
        "url": "/wildfly-elytron/blog/client-side-jvm-wide-default-sslcontext/",
        "link": "",
        "title": "Upcoming client side default SSL context provider",
        "author": "dvilkola",
        "postDate": "December 17, 2021",
        "body": "Currently it is possible to configure SSL contexts in the Elytron client configuration which can be used by interacting with the Elytron client and its APIs. In a future WildFly release, we will provide the ability to register a JVM wide default SSL context that other libraries can obtain without the need to use the Elytron client API. A new java security provider will be added for this purpose. This provider loads Elytron client configuration from a file and registers an SSLContext as the default SSLContext for the JVM. When this provider has high enough priority, all client libraries that use SSLContext. getDefault() will obtain an SSL context instantiated and configured by the Elytron client without having to modify their code. Providers can be registered statically in java. security file or dynamically in the code by using the standard java provider registration API. Summary: This blog post has given an overview of the upcoming JVM wide default SSL context provider in the Elytron client which will be included in a future WildFly release. " 
        
    } ,  {
        "id": 35,
        "url": "/wildfly-elytron/blog/failover-realm/",
        "link": "",
        "title": "Using failover realm in Elytron",
        "author": "dvilkola",
        "postDate": "October 21, 2021",
        "body": "With a failover realm you can configure an alternative realm that will be used if primary realm is not available. A common use case is to fail over to a local file based realm if an LDAP or database server has gone down allowing administrators to retain access to the server. Add a failover realm: You can add a failover-realm to the Elytron subsystem by specifying the following attributes: delegate-realm primary security realm failover-realm alternative realm that will be used when primary realm is not available[1] emit-events configures whether this failover realm should emit SecurityRealmUnavailableEvent security event to the corresponding SecurityDomain when it fails over[2]. /subsystem=elytron/failover-realm=failoverRealmExample:add( delegate-realm=LdapRealm,failover-realm=LocalRealm,emit-events=false)If the delegate throws a RealmUnavailableException during RealmIdentity lookup, it will be caught and failover realm will be used instead. [1] Realm is unavailable when it throws a RealmUnavailableException during lookup. This exception occurs when the connection to the realm was unsuccessful. [2] Security events are captured by security event listeners and can be used for audit logging Example: Below is an example of adding a failover-realm with primary LDAP realm and fail over filesystem realm. To make this example simple, we are going to use containerised version of OpenLdap. You can use docker and run the following: $ docker run --env LDAP_ORGANISATION= wildfly  --env LDAP_DOMAIN= wildfly. org  --env LDAP_ADMIN_PASSWORD= admin  --detach osixia/openldapYou can check its IP address with the following command: $ docker inspect --format '{{ . NetworkSettings. IPAddress }}' $(docker ps -q)172. 17. 0. 2Use any LDAP browser to check that the connection is working and to import a sample ldif file containing a single user named  user  which is granted the Role “Admin”. dn: ou=Users,dc=wildfly,dc=orgobjectClass: organizationalUnitobjectClass: topou: Usersdn: uid=user,ou=Users,dc=wildfly,dc=orgobjectClass: topobjectClass: personobjectClass: inetOrgPersoncn: Janesn: useruid: useruserPassword: secret123dn: ou=Roles,dc=wildfly,dc=orgobjectclass: topobjectclass: organizationalUnitou: Rolesdn: cn=Admin,ou=Roles,dc=wildfly,dc=orgobjectClass: topobjectClass: groupOfNamescn: Adminmember: uid=user,ou=Users,dc=wildfly,dc=orgNext, configure the LDAP realm in the elytron subsystem with appropriate identity and attribute mappings. /subsystem=elytron/dir-context=exampleDC:add(url= ldap://172. 17. 0. 2:389 ,principal= cn=admin,dc=wildfly,dc=org ,credential-reference={clear-text= admin })/subsystem=elytron/ldap-realm=exampleLdapRealm:add(dir-context=exampleDC,identity-mapping={search-base-dn= ou=Users,dc=wildfly,dc=org ,rdn-identifier= uid ,user-password-mapper={from= userPassword },attribute-mapping=[{filter-base-dn= ou=Roles,dc=wildfly,dc=org ,filter= (&amp;(objectClass=groupOfNames)(member={1})) ,from= cn ,to= Roles }]})Add filesystem realm with identity user and role Admin as well. /subsystem=elytron/filesystem-realm=exampleFSRealm:add(path=demofs-realm-users,relative-to=jboss. server. config. dir)/subsystem=elytron/filesystem-realm=exampleFSRealm:add-identity(identity=user)/subsystem=elytron/filesystem-realm=exampleFSRealm:set-password(identity=user,clear={password= secret123 })/subsystem=elytron/filesystem-realm=exampleFSRealm:add-identity-attribute(identity=user,name=Roles, value=[ Admin ])Configure failover-realm to use the file system realm as a failover when LDAP realm is not available. /subsystem=elytron/failover-realm=failoverRealm:add(delegate-realm=exampleLdapRealm,failover-realm=exampleFSRealm)Add a security domain that uses this failover realm and role decoder that decodes roles from the Roles attribute. /subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)/subsystem=elytron/security-domain=failoverSD:add(default-realm=failoverRealm,permission-mapper=default-permission-mapper,realms=[{realm=failoverRealm,role-decoder= from-roles-attribute }])Add HTTP authentication factory with this new security domain and BASIC authentication mechanism. Finally, configure undertow to use this HTTP authentication factory. /subsystem=elytron/http-authentication-factory=example-failover-http-auth:add(http-server-mechanism-factory= global ,mechanism-configurations=[{mechanism-name= BASIC ,mechanism-realm-configurations=[{realm-name= RealmUsersRoles }]}],security-domain=failoverSD)/subsystem=undertow/application-security-domain=httpSD:add(http-authentication-factory=example-failover-http-auth)Clone the example from this link https://github. com/wildfly-security-incubator/elytron-examples/tree/master/failover-realm and deploy it to the running WildFly instance. mvn clean install wildfly:deployAfter the application was successfully deployed you can access the http://localhost:8080/failover-realm-demo/secure in your browser. You will be prompted to authenticate. Provide username user and password secret123. The security domain is configured to use the failover realm. Since the LDAP realm is configured to be the delegate realm, the authentication request was handled by the LDAP realm. Use docker to pause the OpenLDAP container: $ docker pause ${CONTAINER}The docker pause command suspends all processes in the specified container. This will make the LDAP realm unable to establish the connection to the OpenLDAP running in the container. When you access the http://localhost:8080/failover-realm-demo/secure and try to authenticate again, the LDAP realm will try to establish the connection. You might notice a slight delay in your authentication. After a certain timeout is exceeded, the failover filesystem realm will be used for authentication instead. Since the user is present in the filesystem realm as well, you will be able to connect successfully. To use ldap-realm instead of the filesystem-realm again, you can unpause the container. $ docker unpause ${CONTAINER}Summary: This blog post has given an overview of failover-realm usage in the Elytron subsystem. You can take a look at a following example https://github. com/wildfly-security-incubator/elytron-examples/tree/master/failover-realm for more information. " 
        
    } ,  {
        "id": 36,
        "url": "/wildfly-elytron/blog/distributed-realm/",
        "link": "",
        "title": "Using distributed realm in Elytron",
        "author": "dvilkola",
        "postDate": "October 21, 2021",
        "body": "With a distributed realm you can combine identities located across multiple security realms of any type into a single security realm. Identities can be used for both authentication and authorization purposes. Add a distributed realm: You can add a distributed-realm to the Elytron subsystem by specifying the list of realms to combine. The order of realms is important, as they will be queried sequentially in the order they were provided. realms list of realms in the order they should be queried /subsystem=elytron/distributed-realm=distributedRealmExample:add(realms=securityRealm1,securityRealm2,. . . ,securityRealmN])The exception will be thrown if any of the queried realms is unavailable. For example, if authentication information for user user2 is stored in securityRealm2 and the realm securityRealm1 is unavailable, then an authenticaion request for user2 will result in an exception. This is because the securityRealm1 was configured to be first in the list and therefore was queried first. Example: Below is example of adding 2 separate filesystem security realms with different users and combining them in distributed realm. # Add first filesystem realm with user1/subsystem=elytron/filesystem-realm=FsRealm1:add(path=demofs-realm-users1,relative-to=jboss. server. config. dir)/subsystem=elytron/filesystem-realm=FsRealm1:add-identity(identity=user1)/subsystem=elytron/filesystem-realm=FsRealm1:set-password(identity=user1,clear={password= passwordUser1 })/subsystem=elytron/filesystem-realm=FsRealm1:add-identity-attribute(identity=user1,name=Roles, value=[ Admin ])# Add second filesystem realm with user2/subsystem=elytron/filesystem-realm=FsRealm2:add(path=demofs-realm-users2,relative-to=jboss. server. config. dir)/subsystem=elytron/filesystem-realm=FsRealm2:add-identity(identity=user2)/subsystem=elytron/filesystem-realm=FsRealm2:set-password(identity=user2,clear={password= passwordUser2 })/subsystem=elytron/filesystem-realm=FsRealm2:add-identity-attribute(identity=user2,name=Roles, value=[ Admin ])# Add distributed realm that combines both filesystem realms/subsystem=elytron/distributed-realm=distributedRealm:add(realms=[FsRealm1, FsRealm2])Now you can add security domain that uses this distributed realm: # Add security domain distributedSD that uses distributedRealm and from-roles-attribute role decoder/subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)/subsystem=elytron/security-domain=distributedSD:add(default-realm=distributedRealm,permission-mapper=default-permission-mapper,realms=[{realm=distributedRealm,role-decoder= from-roles-attribute }])Accessing both user1 and user2 is possible: /subsystem=elytron/security-domain=distributedSD:read-identity(name=user1){   outcome  =&gt;  success ,   result  =&gt; {     name  =&gt;  user1 ,     attributes  =&gt; { Roles  =&gt; [ Admin ]},     roles  =&gt; [ Admin ]  }}/subsystem=elytron/security-domain=distributedSD:read-identity(name=user2){   outcome  =&gt;  success ,   result  =&gt; {     name  =&gt;  user2 ,     attributes  =&gt; { Roles  =&gt; [ Admin ]},     roles  =&gt; [ Admin ]  }}You can configure undertow to use this security domain in order to secure your deployed applications. # Configure HTTP authentication factory to use distributedSD and BASIC auth mechanism and configure undertow to use this http authentication factory/subsystem=elytron/http-authentication-factory=example-distributed-http-auth:add(http-server-mechanism-factory= global ,mechanism-configurations=[{mechanism-name= BASIC ,mechanism-realm-configurations=[{realm-name= FSRealmUsers }]}],security-domain=distributedSD)/subsystem=undertow/application-security-domain=httpSD:add(http-authentication-factory=example-distributed-http-auth)When you deploy an application that uses this security domain, users from both realms can successfully authorize to access it. To see an example with simple secured servlet that uses above distributed realm you can take a look here: https://github. com/wildfly-security-incubator/elytron-examples/tree/master/distributed-realm. Note that you can configure distributed realm to be used with the management interface as well and the security realms can be of different types (ldap-realm, jdbc-realm, etc. ). You can also configure more than 2 security realms. Summary: This blog post has given an overview of distributed-realm in Elytron subsystem. You can take a look at a following example https://github. com/wildfly-security-incubator/elytron-examples/tree/master/distributed-realm for more information. " 
        
    } ,  {
        "id": 37,
        "url": "/wildfly-elytron/blog/open-source-day-recap/",
        "link": "",
        "title": "Open Source Day 2021 Recap",
        "author": "fjuma",
        "postDate": "October 18, 2021",
        "body": "A couple weeks ago, the WildFly Elytron team had a great timeparticipating in Open Source Day,an all-day hackathon that took place during the virtual Grace Hopper Celebration (vGHC). This wasthe WildFly Elytron team&#8217;s second time participating in this event, after having been a part of the recent Summer OpenSource Day as well. Once again, we were thrilled to see participants, project representatives, and mentorscome together from all over the globe for this virtual event. The goal of Open Source Day is to guide participants throughmaking contributions to open source projects. How the day went: From the very beginning of the day, we could tell that this would be an even larger event than the Summer Open Source Day. We kicked things off with some introductory comments from Caitlyn Georger, the event program manager, and Rocio Montes, the chairof the event. It was then time tointroduce our WildFly Elytron team members and mentors. Open Source Day mentors are volunteers who assist participantswith their contributions for a particular project throughout the day. We were lucky to have 4 mentors join our WildFlyElytron team members to help our participants. We were also delighted that one of these mentors was actually one of ourparticipants during the Summer Open Source Day! After the initial introductions, it was time to jump into an overview of our project. We then covered somegeneral information on how to submit pull requests against the wildfly-elytron repository. After that, it was time to start the hackathon! Prior to the event, we had created a bunch of issues and triaged existing ones that would be suitable for anyone gettingstarted on the WildFly Elytron project. We made sure that the descriptions of these issues had useful pointers fortackling the tasks. We also added the  good-first-issue label to these issues to make them easy to spot. We shared this list of issues with participants and helped them pick whichones to work on. Throughout the day, the WildFly Elytron team members and mentors helped participants set up their development environment,answered questions about Git and the process of submitting and updating pull requests, helped participants work on theirissues, and provided feedback on their pull requests. There was also some time for general questions about working onopen source projects. We ended the day with several pull requests submitted from first time contributors (we actuallydoubled our numbers from the Summer Open Source Day)! Some thoughts from our first time contributors and mentors: The WildFly Elytron team thoroughly enjoyed being a part of this event! It was a great way to end the virtual Grace HopperCelebration. What did some of our first time contributors and mentors think of the day? Here&#8217;s what they had to say: I would like to say that as a student that just finished her 2nd year in software engineering in security I learneda lot about cyber security and what potential work I could be doing in the future. In the short time I was on callwith the team, everyone was so supportive and I felt welcome even though I didn’t have a lot of knowledge. I really appreciate that as someone who doesn’t have a lot of experience. Working with individuals in the industryis a great privilege because I get to learn skills I wouldn’t otherwise learn in the classroom! I hope to keepcontributing to the wildfly elytron repository as a novice in this field! -Suha Siddiqui, Open Source Day participant Before participating in the Open Source Day, I had no idea how contributing to Open Source works. Everything seemedso complicated that I was seriously doubting I would be able to make a contribution. Luckily, mentors of theWildFly Elytron team answered all of my questions and helped me navigate my way through GitHub. In the end, Ilearned how the whole process of contributing to projects looks like and was able to push several commits of my ownto the project! -Yana Z. , Open Source Day participant It was my first time mentoring for an Open Source Day event, and I couldn&#8217;t have asked for a better team. Every team member of Wildfly Elytron was humble and provided their technical expertise on navigating through docs,setting up the project locally, and sharing tips on how to be a successful OSD mentor. I enjoyed my time working withWildFly Elytron folks and hope to contribute more in the future! -Purva Singh, Open Source Day mentor It was an amazing experience for me to work with all the mentors. It was a first time experience for me as a mentorin Open Source Day. That helps me to upskill myself. Also I learned a lot about next generation security applicationsthrough the wildfly-elytron project with the support of you guys. I&#8217;m exploring more about this project and lookingforward to start contributing to this project. -Amulya Dixit , Open Source Day mentor I first worked with Farah, Ashpan, Sonia, and Diana during OSD summer. Their enthusiasm encouraged me to make myfirst open-source contributions over the summer. To contribute back to the community, I decided to come back tothe Wildly Elytron project as a mentor during vGHC 2021. It was gratifying introducing people to open sourcedevelopment while learning more about the project from the team. Along with more technical details, the team’sapproach towards introducing open-source development to new contributors is something I’ll take away from this event. -Stuti Misra, Open Source Day mentor What&#8217;s next?: The WildFly Elytron project is participating in Hacktoberfest this monthand welcomes your contributions! Check out this blog postfor all the details on how to get started with our project. " 
        
    } ,  {
        "id": 38,
        "url": "/wildfly-elytron/blog/hacktoberfest-has-begun/",
        "link": "",
        "title": "Hacktoberfest Has Begun",
        "author": "fjuma",
        "postDate": "October 05, 2021",
        "body": "The WildFly Elytron project is participating in Hacktoberfest this month and welcomes your contributions! What is Hacktoberfest?: Hacktoberfest takes places annually during the month of October. This event encourages open source contributions from the community. To participate in Hacktoberfest, yousimply need to: Register on the Hacktoberfest site Submit 4 approved PRs against participating project repositories during the month of October Choose whether you&#8217;d like to receive a t-shirt or have a tree planted in your name What repositories can you contribute to?: Participating projects have added the  hacktoberfest  topic to their project repos. If you&#8217;d like tocontribute to WildFly Elytron and our related projects, check out these repos: WildFly Elytron WildFly Elytron Web WildFly OpenSSL How to get started?: Our contribution guide will helpguide you through the steps for getting started on the WildFly Elytron project and will go through howto format and submit your first PR. How to pick an issue?: We have created a list of good first issues to help you get started. These also have the hacktoberfest label. How to reach us?: If you&#8217;d like some help or have questions about making contributions to our project, feel free to reachus on chat or add questionsdirectly on your PR. Happy Hacktoberfest!: We hope you enjoy making contributions to open source projects this month and in the future too! " 
        
    } ,  {
        "id": 39,
        "url": "/wildfly-elytron/blog/open-source-day-summer-recap/",
        "link": "",
        "title": "Open Source Day Summer 2021 Recap",
        "author": "fjuma",
        "postDate": "July 22, 2021",
        "body": "Last week, the WildFly Elytron team had the pleasure of participatingin Open Source Day,an all-day hackathon hosted by the AnitaB. org community. It was the very first time that this event,known as the largest female-led movement in open source, was held outside of the Grace Hopper conference. Participants and open source project representatives and mentors from around the world came together for this virtual event. The goal of the event was to guide participants through making contributions to open source projects. This was the firsttime that the WildFly Elytron project has participated in Open Source Day. About the day: The day started with some inspiring introductory comments from Rocio Montes, one of the event co-chairs. We then introducedour WildFly Elytron team members, gave an introduction to our project, and went over some general information for submittingpull requests against the wildfly-elytron repository. It was then timeto start coding for the day! Prior to the event, we had created a bunch of issues and triaged existing ones that would be suitable for anyone gettingstarted on the WildFly Elytron project. We added the  good-first-issue label to these issues to make them easy to spot. We shared this list of issues with participants and helped them pick whichones to work on. Over the course of the day, the WildFly Elytron team helped participants set up their development environment, answeredquestions about Git and the process of submitting and updating pull requests, and helped participants work on their issues. The WildFly Elytron team also fielded general questions on what it&#8217;s like working on open source projects. By the end ofthe day, we had merged several pull requests from first time contributors! Some thoughts from our first time contributors: What better way to learn more about how the day went than from our first time contributors themselves? Here&#8217;s what theyhad to say about Open Source Day. I had the chance to make my very first contributions to an open source project, and the WildFly Elytron team fromRed Hat was kind and supportive every step of the way. The group of engineers was so approachable and encouraging thatI felt like I belonged right from the very beginning of the day. It was really challenging setting up my dev environment(it was my first time working with Java!), but the team provided helpful links and suggestions. Likewise, after making myfirst PR I needed to make some changes to match their preferred formatting and they walked me through the whole processpatiently. I appreciate that I had the chance to do everything myself, with just the right amount of support to turn theday into an awesome learning opportunity. When the day was done I had made two PRs that were approved and merged, and Ifelt energized to know that working in the open source community can be fun and accessible. Massive thanks to everyonewho made the experience so awesome! -Rachel Misurac, Open Source Day participant Working on the WildFly Elytron project on Open Source Day was a great learning experience! The project representativesand mentors made sure that all my doubts were clarified and were very warm and encouraging. Contributing to such a hugerepository can be intimidating, but the WildFly Elytron team ensured that no one gets left behind. I&#8217;m looking forward tocontinuing my exploration of this project. -Neha Binwal, Open Source Day participant Working with the WildFly Elytron team was also the perfect introduction to open source repositories and open sourcedevelopment. Farah, Sonia, Diana, and Ashpan were all patient as we worked through the setup and sent our first pullrequest. Their support and the collaborative environment during the Open Source Day allowed me to merge my firstopen source pull request. -Stuti Misra, Open Source Day participant What&#8217;s next?: The WildFly Elytron project will also be participating in the September Open Source Daythat will be held during the upcoming Grace Hopper conference. Whether you&#8217;re new to open source, new to security,or looking to level up your skills, the WildFly Elytron project has you covered! We&#8217;ve got a bunch of issues that areperfect for getting started on our project. We hope to see you there! " 
        
    } ,  {
        "id": 40,
        "url": "/wildfly-elytron/blog/galleon-cli-keycloak/",
        "link": "",
        "title": "Installing Keycloak OIDC adaptor using the Galleon CLI",
        "author": "darranl",
        "postDate": "July 01, 2021",
        "body": "Traditionally to install WildFly you would download a complete archive of the application server distribution, unzip it locallyand run it directly from where it was unzipped.  Subsequently to install the Keycloak adaptor for WildFly a second archive wouldbe downloaded and unzipped on top of the WildFly installation and a CLI script executed to complete the installation. Although this approach has certainly stood the test of time it does have a couple of limitations.  Firstly these steps need to berepeated each time a new version of the application server or Keycloak adaptors are released.  Secondly the installed applicationserver contains all of the various supported subsystems even if only a small subset are required.  The Galleon projectprovides an alternative installation approach addressing both of these limitations. This blog post illustrates how a slimed WildFly installation can be performed with the addition of the Keycloak client adaptorsusing the Galleon command line tools. Galleon: This blog post is not intended to be a replacment for the already published Galleon documentation, more information can be found inthe Galleon Provisioning Guide. This blog post assumes you already have Java 8 or Java 11 installed locally, the first step is to download and unzip the latest releasefrom the Galleon project to make the CLI tools available.  The latest version can be downloaded from theGalleon Releases page. Installing the  web-server  layer. : Using the Galleon CLI is a two step process to install a slimmed WildFly server followed by the Keycloak adaptors. The Galleon CLI can be used both in an interactive and non-interactive mode, both of which are covered in more detail in the Galleondocumentation, the examples in this blog post will just be using non-interactive mode. $GALLEON_HOME/bin/galleon. sh install wildfly:current --dir=wildfly --layers=web-serverFeature pack installed. d. ======= ============ ==============Product Build    Update Channel======= ============ ==============wildfly 24. 0. 0. Final currentThis command will have provisioned a slimed WildFly server which can be used to deploy simple servlet based web applications, this installationdoes not have the management interfaces defined so the server can not be configured using the jboss-cli.  However the installation does havethe deployment scanner active so deployments can be added by placing them into the $WILDFLY_HOME/standalone/deployments directory. Installing the  keycloak-client-oidc  layer. : The next step is to add the keycloak-client-oidc layer on top of the WildFly installation, for the Keycloak specific layers we need to usethe fully qualified Maven group, artifact and version to reference the Keycloak feature pack. $GALLEON_HOME/bin/galleon. sh install org. keycloak:keycloak-adapter-galleon-pack:14. 0. 0 --dir=wildfly --layers=keycloak-client-oidcFeature-packs resolved. Feature-packs resolved. Packages installed. JBoss modules installed. Configurations generated. Feature pack installed. In addition to adding the required modules to the WildFly installation this second command will have also added the WildFly Elytron subsystem tosecure deployments by default, the Keycloak adapter subsystem and configuration to make the Keycloak OpenID Connect authentication mechanism availablefor deployments. Starting WildFly: At this stage the installation and configuration of WildFly is now complete and the application server can be started. cd $WILDFLY_HOMEbin/standalone. sh -Djboss. socket. binding. port-offset=10If you are familiar with the usual output when starting the application server you should now see the boot process leads to less output, this is becauseonly the subsystems required for securing a servlet based web application with Keycloak are now installed so the subsystems which are not required are noteven present. Deploying a web application: Finally a web application can now be deployed to WildFly. There are two different approaches that can be taken to configure a web application to use the Keycloak OpenID Connect authentication mechanism as describedin JBoss SSO. Note: The preceding section in the Keycloak documentation is skipped as Galleon has replaced the installation steps described there. As the installed server does not have the management interfaces enabled the easiest approach to configuration is to embed the configuration within the deployment,for the Keycloak authentication mechanism this can be achieved by adding a keycloak. json descriptor to the WEB-INF directory of a web application: {   realm  :  WildFly ,   resource  :  simple-webapp ,   public-client  :  true ,   auth-server-url  :  http://localhost:8080/auth/ ,   ssl-required  :  EXTERNAL }The authentication mechanism is activate by setting the auth-method in the web. xml to KEYCLOAK:   &lt;login-config&gt;    &lt;auth-method&gt;KEYCLOAK&lt;/auth-method&gt;    &lt;realm-name&gt;Simple Realm&lt;/realm-name&gt;  &lt;/login-config&gt;After a web application with these changes is built it can be copied to the standalone\deployments directory of the WildFly installation where it willbe automatically deployed, the application will be secured by Keycloak using the embedded configuration. Additional configuration options are also described in the Keycloak documentation in theJava Adapter Config section, also instead of using the keycloak. jsondescriptor the configuration could have been contained in the urn:jboss:domain:keycloak:1. 1 subsystem as described in Securing WARs via Adapter Subsystem but overall the purpose of this blog post was to illustrate how to get started installing the Keycloak client adapters and WildFly using Galleon. " 
        
    } ,  {
        "id": 41,
        "url": "/wildfly-elytron/blog/hash-charsets-encodings/",
        "link": "",
        "title": "Using hash character sets and encodings in Elytron",
        "author": "szaldana",
        "postDate": "June 24, 2021",
        "body": "In the legacy security configuration using PicketBox, theUsernamePasswordLoginModulesupports storing hashed passwords by specifying the hashing algorithm, encoding and character set to comparethe client-supplied password to the password stored in the management system. Previously, Elytron supported specifying the hashing algorithm, but not the string encoding or character set to usein its security realms (with the exception of the JDBC realm where configuring the encoding was supported). In WildFly24, the Properties Realm, Filesystem Realm, JDBC Realm and LDAP realm all support specifying the encoding andcharset via the attributes hash-encoding and hash-charset. An overview of the new attributes: All realms that support storing hashed passwords (namely the Properties Realm, Filesystem Realm, JDBC Realm and LDAP realm)now support the following attributes: hash-encoding: This attribute specifies the string format for the hashed password if thepassword is not being stored in plain text. It may specify one of two: hex or base64. It is set to base64 by defaultwith the exception of the Properties Realm where it is set to hex by default. hash-charset: This attribute specifies the name of the character set to use when converting the client providedpassword string to a byte array for hashing calculations. It is set to UTF-8 by default. Some of these realms support using different hashing algorithms with the same realm, i. e. in the filesystem realm,you can configure identities within the same realm with different password types. However,with the exception of the JDBC realm, the attributes above are resource-wide. Ergo,you can only have one hash-encoding and one hash-charset throughout the wholerealm, even if you have different hashing algorithms. Reviewing the Elytron Configuration: In the following section, we will review the configuration available in the script for the quickstartconfigure-elytron. cli. We start our configuration by connecting to the server using the following command: $ WILDFLY_HOME/bin/jboss-cli. sh --connectNote: Use of WILDFLY_HOME: In the following post, replace WILDFLY_HOME with the actual path to your WildFly installation. We first create a filesystem realm under the Elytron subsystem using hex encoding and the KOI8-Rcharacter set. We then add an identity quickstartUser, setting a digest password and adding theattributes Guest and Admin as follows: /subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-users, relative-to=jboss. server. config. dir, hash-encoding=hex, hash-charset=KOI8-R)/subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:set-password(digest={algorithm=digest-md5, realm=fsRealm, password=пароль}, identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[ Admin ,  Guest ])The password for this identity uses special characters belonging to the KOI8-R character set. For more information about creating FileSystem realms along with all of its possible configurations,please refer to the Elytron documentation. We then configure a simple role decoder and create a new security domain which will make use of ourfilesystem realm and role decoder as follows: /subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)/subsystem=elytron/security-domain=fsDomain:add(realms=[{realm=fsRealm, role-decoder=from-roles-attribute}], \default-realm=fsRealm,permission-mapper=default-permission-mapper)Creating an additional security domain (fsDomainin this case) is not necessary. We could alternatively take the default ApplicationDomain and add theFileSystem realm and role-decoder to it. We then add our security domain mapping to the EJB3 subsystem, update the sasl-authentication-factory to useour security domain, add the PLAIN authentication mechanism and update the http-remoting-connector to use our sasl-authentication-factory: /subsystem=ejb3/application-security-domain=other:add(security-domain=fsDomain)/subsystem=elytron/sasl-authentication-factory=application-sasl-authentication:write-attribute(name=security-domain, value=fsDomain)/subsystem=elytron/sasl-authentication-factory=application-sasl-authentication:list-add(name=mechanism-configurations, value={mechanism-name=PLAIN})/subsystem=remoting/http-connector=http-remoting-connector:write-attribute(name=sasl-authentication-factory,value=application-sasl-authentication)We add the PLAIN authentication mechanism as it is important that the server receives thepassword in clear-text. We could alternatively use HTTP BASIC. Configuring the Client (wildfly-config. xml): The username and credentials to establish the connection to the application server are configured in thewildfly-config. xml file.  &lt;authentication-configurations&gt;      &lt;configuration name= default-config &gt;        &lt;set-user-name name= quickstartUser /&gt;        &lt;credentials&gt;          &lt;clear-password password= пароль /&gt;        &lt;/credentials&gt;        &lt;sasl-mechanism-selector selector= PLAIN /&gt;        . . .       &lt;/configuration&gt;&lt;/authentication-configurations&gt;Again, it is important we select the PLAIN mechanism as our authentication mechanism, as the server needsto receive the password in clear text in order to correctly hash it with the character set we provided in our realmconfiguration. Summary: This blog post has given an overview on how to specify the string encoding and hash character set in Elytron Security Realms. " 
        
    } ,  {
        "id": 42,
        "url": "/wildfly-elytron/blog/oneway-sslv2hello/",
        "link": "",
        "title": "SSLv2Hello with WildFly",
        "author": "szaldana",
        "postDate": "June 21, 2021",
        "body": "It is now possible to use SSLv2Hello with WildFly. This blog post will give anintroduction to this new feature, but it will assume previous knowledge on how toconfigure SSL in Elytron. For more information on how to configure SSL,refer to the elytron documentation. An Overview of SSLv2Hello: Older JDK versions use SSLv2Hello during the initial handshake messagewhere the SSL version that will be used for the rest of the handshake is negotiated. The use of this protocol is discouraged. As a result, newer JDK versions disable thisprotocol by default for clients, but do provide the ability to re-enable it if needed. By adding SSLv2Hello as a supported protocol in WildFly, we are ensuring olderclients are still able to communicate to servers guaranteeing parity with legacy security. Enabling SSLv2Hello on the Server Side: SSLv2Hello can be enabled by configuring it in the protocols attribute in theSSL context definition in the Elytron subsystem. Let&#8217;s take a look at an example configuringone way SSL using SSLv2Hello in the server and client. The example application is available here. Back Up Your Standalone Server Configuration: Prior to starting, back up your standalone server configuration by making a copy ofyour WILDFLY_HOME/standalone/configuration/standalone. xml file. You will need it in the endto restore your server&#8217;s configuration. Pre-requisite Server Configuration: As a first step, we&#8217;re going to enable one-way SSL for applications deployed to WildFlyusing the security enable-ssl-http-server CLI command. First, make sure you have an instance of your WildFly server running. Then,run the following commands: WILDFLY_HOME/bin/jboss-cli. sh --connectThen run the security enable-ssl-http-server command as follows: security enable-ssl-http-server --interactivePlease provide required pieces of information to enable SSL:Certificate info:Key-store file name (default default-server. keystore): server. keystorePassword (blank generated): secretWhat is your first and last name? [Unknown]: localhostWhat is the name of your organizational unit? [Unknown]: wildflyWhat is the name of your organization? [Unknown]: jbossWhat is the name of your City or Locality? [Unknown]: RaleighWhat is the name of your State or Province? [Unknown]: North CarolinaWhat is the two-letter country code for this unit? [Unknown]: USIs CN=localhost, OU=jboss, O=wildfly, L=Raleigh, ST=North Carolina, C=US correct y/n [y]?yValidity (in days, blank default): 365Alias (blank generated): localhostEnable SSL Mutual Authentication y/n (blank n):nSSL options:key store file: server. keystoredistinguished name: CN=localhost, OU=wildfly, O=jboss, L=Raleigh, ST=North Carolina, C=USpassword: secretvalidity: 365alias: localhostServer keystore file server. keystore, certificate file server. pem and server. csr file will be generated in server configuration directory. Do you confirm y/n :yServer reloaded. SSL enabled for default-serverssl-context is ssl-context-aaad4a67-14f1-4869-a01c-9fc56c3ff884key-manager is key-manager-aaad4a67-14f1-4869-a01c-9fc56c3ff884key-store  is key-store-aaad4a67-14f1-4869-a01c-9fc56c3ff884Make sure you enter your desired  hostname  for the first and last name field, otherwise you mightrun into issues while permanently accepting this certificateas an exception to some browsers. Chrome does not currently exhibit this behaviour. As we can see from the output, the above command automatically generated a self-signedcertificate, added it to a newly created keystore and added a new ssl-context resource,ssl-context-aaad4a67-14f1-4869-a01c-9fc56c3ff884 to the Elytron subsystem in order to enableone-way SSL for applications deployed to WildFly. Test the Server SSL Configuration: To test the connection to the SSL port of your server instance, open a browser and navigate tohttps://localhost:8443/. You get the privacy error because theserver certificate is self-signed. If you need to use a fully signed certificate, you mustget a PEM file from the Certificate Authority and then import the PEM into the keystore. Configuring SSLv2Hello in the Server: At this point in time, your server has not yet been configured to accept SSLv2Hellomessages. Since, we used the security enable-ssl-http-server CLI command, this configures our SSL contextto accept TLSv1. 2 only. To enable SSLv2Hello, we need to update our ssl-context configuration in theElytron subsystem to modify the attribute protocols to include SSLv2Hello as follows: /subsystem=elytron/server-ssl-context=ssl-context-aaad4a67-14f1-4869-a01c-9fc56c3ff884:write-attribute(name=protocols,value=[TLSv1,SSLv2Hello])reloadWhen configuring any SSL context to enable SSLv2Hello (client or server), you alwaysneed to specify an additional SSL/TLS protocol. SSLv2Hello cannot be specified by itself,as it is a pseudo protocol which is only used to negotiate another SSL/TLS version to be usedthroughout the rest of the communication. A Note On Enabling SSLv2Hello In Newer JDK Versions: Newer JDK versions have disabled TLSv1. Since we need the TLSv1 protocol to make use ofSSLv2Hello, we will walk you through how to re-enable it on the server side. Access the following file: WILDFLY_HOME/bin/standalone. conf. Look for the following line # JAVA_OPTS= $JAVA_OPTS -Djava. security. properties==/path/to/custom/java. security Make sure to uncomment it and edit the path to the file enabled_tlsv1. properties in this example application. Additionally, make sure you use one = as opposed to two. That way you will not completelyoverride the java. security file. Note, you might have to reload your server for these changes to take effect. Configure the Client&#8217;s Trust Store: Export the server&#8217;s certificate to a file by navigating to WILDFLY_HOME/standalone/configuration andrunning the following command: keytool -export -alias localhost -keystore server. keystore -file myCert. cer -storepass secretImport the certificate into the client&#8217;s trust store. Note the following command will create a trust storeif it does not exist at the location specified. keytool -import -file myCert. cer -alias localhost -keystore client. keystore -storepass secretYou should see the following output next: Owner: CN=localhost, OU=wildfly, O=jboss, L=Raleigh, ST=North Carolina, C=USIssuer: CN=localhost, OU=wildfly, O=jboss, L=Raleigh, ST=North Carolina, C=USSerial number: 7af5ad9991816bbcValid from: Wed Nov 04 16:15:09 EST 2020 until: Thu Nov 04 16:15:09 EDT 2021Certificate fingerprints:	 SHA1: 24:6E:96:9A:8B:D2:FF:2B:7B:58:87:84:03:F3:ED:C6:56:8B:96:5B	 SHA256: 27:51:F6:7A:F8:51:7D:6E:CB:DA:4A:9A:75:E5:9A:AD:06:88:1B:AE:40:73:7D:D8:E4:4F:22:CA:8E:03:94:37Signature algorithm name: SHA256withRSASubject Public Key Algorithm: 2048-bit RSA keyVersion: 3Extensions:#1: ObjectId: 2. 5. 29. 14 Criticality=falseSubjectKeyIdentifier [KeyIdentifier [0000: FF BA 34 E8 94 94 BE EB  25 B5 C5 4E B3 B2 A4 34 . . 4. . . . . %. . N. . . 40010: 97 EE A2 24                    . . . $]]Trust this certificate? [no]: yCertificate was added to keystoreYou have now created the client&#8217;s trustore and imported the server&#8217;s certificate. Configure a Client that sends SSLv2Hello messages: The example application presents a simple client Client. java which checks the connectionto the server is successful. To ensure the client uses SSLv2Hello in its initialhandshake, we have provided a common configuration framework inwildfly-config. xml. Review this file to see how SSLv2Hello is enabled in the client SSL context along withTLSv1. As a final step in configuring the client, update the path to the client&#8217;s trust store to/PATH/TO/client. keystore. Build and Deploy the Application: Ensure you have a running instance of your server. Then, navigate to the root directory of the example application and run the following commands: cd servermvn clean package wildfly:deployThis deploys the server-sslv2hello. war to the running instance of the server. You should see a message in the server log indicating that the archive deployed successfully. Run the Client: Navigate to the root directory of the example application and run the following commands: cd clientmvn clean install -Dtest=ClientThe test verifies a successful connection using SSLv2Hello. Verifying the Client Sends SSLv2Hello Messages: In the following section, we will be inspecting the SSL debug logs to ensure the Client Hello messagesmake use of SSLv2Hello. You will need to enable SSL debug logs in your client and server usingthe javax. net. debug system property as follows: To run your client with SSL debug logs: mvn clean install -Dtest=Client -Djavax. net. debug=ssl,handshakeTo run your server with SSL debug logs: WILDFLY_HOME/bin/standalone. sh -Djavax. net. debug=ssl,handshakeVerifying SSLv2Hello Messages Succeed When SSLv2Hello is Configured on the Server: Run your client. In your client SSL logs, you should see a ClientHello message similar to the following:  ClientHello : {  client version    :  TLSv1 ,  random        :  28 D9 B0 EB 0E A1 5B 07 B6 0D 21 B1 87 F8 42 14 EE 11 6A 11 8B B6 19 7D 2B CF DB B5 B1 A1 43 01 ,  session id      :   ,  cipher suites     :  [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033)] ,  compression methods  :  00 ,  extensions      : [   status_request (5) : {    certificate status type : ocsp    OCSP status request : {     responder_id : &lt;empty&gt;     request extensions : {     &lt;empty&gt;    }   }  },   supported_groups (10) : {    versions : [secp256r1, secp384r1, secp521r1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]  },   ec_point_formats (11) : {    formats : [uncompressed]  },   status_request_v2 (17) : {    cert status request : {     certificate status type : ocsp_multi     OCSP status request : {      responder_id : &lt;empty&gt;      request extensions : {      &lt;empty&gt;     }    }   }  },   extended_master_secret (23) : {   &lt;empty&gt;  },   supported_versions (43) : {    versions : [TLSv1, SSLv2Hello]  },   renegotiation_info (65,281) : {    renegotiated connection : [&lt;no renegotiated connection&gt;]  } ]}Notice how TLSv1 and SSLv2Hello are specified under supported_versions. This triggersan SSLv2Hello ClientHello. Your tests should succeed, and you should be able to see thenegotiated protocol is TLSv1 in both your client and server logs. Verifying SSLv2Hello messages fail when SSLv2Hello is not configured on the server: You can modify your server-ssl-context resource again to only accept TLSv1 as follows: /subsystem=elytron/server-ssl-context=ssl-context-aaad4a67-14f1-4869-a01c-9fc56c3ff884:write-attribute(name=protocols,value=[TLSv1])Now, run your client. You should be able to see a similar ClientHello as the one in the section above, but you should also see ahandshake_failure in the log. Upon reviewing your server log, it should provide more details as to what causes the failure. You should see amessage similar to the following: ERROR [stderr] (default I/O-2) javax. net. ssl|ERROR|01 14|default I/O-2|2020-11-0514:29:27. 677 EST|TransportContext. java:318|Fatal (HANDSHAKE_FAILURE): SSLv2Hello is not enabled (14:29:27,678 ERROR [stderr] (default I/O-2)  throwable  : {14:29:27,678 ERROR [stderr] (default I/O-2)  javax. net. ssl. SSLHandshakeException: SSLv2Hello is not enabledNow, you have verified that enabling SSLv2Hello on the client side triggers an SSLv2Hello message,which if not supported by the server, causes a handshake exception. Undeploy the Application: When you are finished testing the application, follow these steps to undeploy the archive: Make sure you start the WildFly server. Open a terminal and navigate to the root directory of this example. Type the following commands to undeploy the archive: cd servermvn wildfly:undeployRestore the WildFly Standalone Server Configuration: You can restore your WildFly Standalone Server Configuration by replacing yourWILDFLY_HOME/standalone/configuration/standalone. xml file with your backed up copy. Summary: This blog post has given an overview on how SSLv2Hello can be used with WildFly on boththe server and client side. For more details, take a look at theElytron documentation. " 
        
    } ,  {
        "id": 43,
        "url": "/wildfly-elytron/blog/ssl-certificate-revocation-list/",
        "link": "",
        "title": "SSL Certificate Revocation Lists with WildFly",
        "author": "szaldana",
        "postDate": "June 18, 2021",
        "body": "An Overview of Certificate Revocation ListsConfiguring CRLs on the Client SideBack Up Your Standalone Server ConfigurationPre-requisite Server ConfigurationPre-requisite Client ConfigurationConfigure the ServerCreate the Certificate Revocation ListsConfigure a Client that verifies certificates against CRLsBuild and Deploy the ApplicationRun the Client and Verify Certificate RejectionUndeploy the ApplicationRestore the WildFly Standalone Server ConfigurationConfiguring CRLs on the Server SideSummaryAn Overview of Certificate Revocation Lists: Certificate Revocation Lists (CRLs) contain a list of certificates that have been revokedby the issuing Certificate Authority before their expected expiration date, and therefore should no longerbe trusted. Elytron previously supported configuring only one Certificate Revocation List. It is now possible to configure multiple CRL files, which is useful when several certificate authorities are used. This blog post assumes previous knowledge on how to configure SSL in Elytron. For more information on how to configure SSL,refer to the elytron documentation. Configuring CRLs on the Client Side: Support for multiple CRLs is now available in the client and server side using WildFly Elytron. Let&#8217;s take a look at an example configuring one way SSL using CRLs in the client. The example application isavailable here. Back Up Your Standalone Server Configuration: Prior to starting, back up your standalone server configuration by making a copy ofyour WILDFLY_HOME/standalone/configuration/standalone. xml file. You will need it in the endto restore your server&#8217;s configuration. Pre-requisite Server Configuration: Since certificate revocation lists correspond to a specific certificate authority, we will create our ownself signed Root Certificate Authority which will then be used to sign our server&#8217;s certificate. The following steps demonstrate how to achieve this set up: Generate a Self Signed Root Certificate Authority: Navigate to the directory where you would like to configure your Root Certificate Authority. We will refer to this directory as SSL_CONFIG throughout this blog post. Generate a 4096-bit long RSA key for our Root Certificate Authority and store it in the file ca. key: openssl genrsa -out ca. key 4096Generating RSA private key, 4096 bit long modulus (2 primes). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ++++. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ++++e is 65537 (0x010001)Create the self-signed Root CA certificate ca. crt as follows: openssl req -new -x509 -days 365 -key ca. key -out ca. crtYou are about to be asked to enter information that will be incorporatedinto your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blankFor some fields there will be a default value,If you enter '. ', the field will be left blank. -----Country Name (2 letter code) [XX]:USState or Province Name (full name) []:North CarolinaLocality Name (eg, city) [Default City]:RaleighOrganization Name (eg, company) [Default Company Ltd]:WildFlyOrganizational Unit Name (eg, section) []:jbossCommon Name (eg, your name or your server's hostname) []:Root Certificate AuthorityEmail Address []:Note the information about the CA is not relevant to the configuration. Create the Server Certificate: Navigate to the server configuration directory: cd WILDFLY_HOME/standalone/configuration/Generate the private key for the server: openssl genrsa -out server. key 4096Generating RSA private key, 4096 bit long modulus (2 primes). . . . . . . . . . . . . . . . . . . . ++++. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ++++e is 65537 (0x010001)Generate a certificate signing request for our Root Certificate Authority. openssl req -new -key server. key -out server. csrYou are about to be asked to enter information that will be incorporatedinto your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blankFor some fields there will be a default value,If you enter '. ', the field will be left blank. -----Country Name (2 letter code) [XX]:USState or Province Name (full name) []:North CarolinaLocality Name (eg, city) [Default City]:RaleighOrganization Name (eg, company) [Default Company Ltd]:WildFlyOrganizational Unit Name (eg, section) []:jbossCommon Name (eg, your name or your server's hostname) []:localhostEmail Address []:Please enter the following 'extra' attributesto be sent with your certificate requestA challenge password []:An optional company name []:Make sure you enter  localhost  as the Common Name, otherwise you might run intoissues. Create the following files, which will be helpful whencreating the certificate revocation list: touch SSL_CONFIG/certindexecho 01 &gt; SSL_CONFIG/certserialecho 01 &gt; SSL_CONFIG/crlnumberAlso, create the configuration file SSL_CONFIG/ca. conf with the content below: [ ca ]default_ca = myca[ crl_ext ]# issuerAltName=issuer:copy #this would copy the issuer name to altnameauthorityKeyIdentifier=keyid:always [ myca ] dir = . / new_certs_dir = $dir unique_subject = no certificate = $dir/ca. crt database = $dir/certindex private_key = $dir/ca. key serial = $dir/certserial default_days = 730 default_md = sha1 policy = myca_policy x509_extensions = myca_extensions crlnumber = $dir/crlnumber default_crl_days = 730 [ myca_policy ] commonName = supplied stateOrProvinceName = supplied countryName = optional emailAddress = optional organizationName = supplied organizationalUnitName = optional [ myca_extensions ] basicConstraints = CA:false subjectKeyIdentifier = hash authorityKeyIdentifier = keyid:always keyUsage = digitalSignature,keyEncipherment extendedKeyUsage = serverAuth crlDistributionPoints = URI:http://example. com/root. crl subjectAltName = @alt_names [alt_names] DNS. 1 = example. com DNS. 2 = *. example. comYou must change the crlDistributionPoints to point to your domain if you wishto use distribution points to access the certificate revocation lists. This example usesa file in your system to configure the CRL as opposed to the CRL distribution points. Sign the server&#8217;s certificate signing request with your Root Certificate Authority: openssl ca -batch -config SSL_CONFIG/ca. conf -notext -in server. csr -out server. crtUsing configuration from ca. confCheck that the request matches the signatureSignature okThe Subject's Distinguished Name is as followscountryName      :PRINTABLE:'US'stateOrProvinceName  :ASN. 1 12:'North Carolina'localityName     :ASN. 1 12:'Raleigh'organizationName   :ASN. 1 12:'WildFly'organizationalUnitName:ASN. 1 12:'jboss'commonName      :ASN. 1 12:'localhost'Certificate is to be certified until Dec 9 19:15:58 2022 GMT (730 days)Write out database with 1 new entriesData Base UpdatedCreate the Server Keystore: The server&#8217;s keystore should include our server&#8217;s certificate along with its entire certificate chaini. e. server. crt &#8594; ca. crt. Create the certificate chain as follows: cat server. crt SSL_CONFIG/ca. crt &gt; chained. crtFor Windows, use notepad to concatenate certificates. Pack all the certificates, and the server private key into a pkcs12 file as follows: openssl pkcs12 -export -inkey server. key -in chained. crt -out chained. pkcs12Enter Export Password:Verifying - Enter Export Password:Enter secret as the password. Import this pkcs12 file into a java keystore: keytool -importkeystore -srckeystore chained. pkcs12 -srcstoretype PKCS12 -destkeystore server. keystoreEnter destination keystore password:Re-enter new password:Enter source keystore password:Entry for alias 1 successfully imported. Import command completed: 1 entries successfully imported, 0 entries failed or cancelledAgain, you can use the password secret for server. keystore. Pre-requisite Client Configuration: Now that we have configured a server certificate signed by our Root Certificate Authority. We needto configure our client&#8217;s trust store. Configure Client TrustStore: For the client&#8217;s trust store, it suffices if it holds the certificate for the Root CertificateAuthority. The client will automatically trust any certificates which have been issued by the Root Certificate Authorityor whose certificate chain contains the Root Certificate Authority. Configure it as follows: keytool -import -file SSL_CONFIG/ca. crt -alias ca -keystore client. truststore -storepass secretOwner: CN=Root Certificate Authority, OU=jboss, O=WildFly, L=Raleigh, ST=North Carolina, C=USIssuer: CN=Root Certificate Authority, OU=jboss, O=WildFly, L=Raleigh, ST=North Carolina, C=USSerial number: 66724cf6a35ff0fd504e6b30bbbad73e8ae4e7b3Valid from: Wed Dec 09 14:10:06 EST 2020 until: Thu Dec 09 14:10:06 EST 2021Certificate fingerprints:	 SHA1: 4A:63:B8:AA:D2:9A:D4:E4:21:14:C6:AA:4A:74:00:AD:02:DE:91:EB	 SHA256: EC:06:81:49:F7:E6:D9:54:5E:77:79:EC:EE:D2:16:90:60:F6:B9:92:F3:4D:D9:2E:C2:F6:E8:28:4E:4D:52:98Signature algorithm name: SHA256withRSASubject Public Key Algorithm: 4096-bit RSA keyVersion: 3Extensions:#1: ObjectId: 2. 5. 29. 35 Criticality=falseAuthorityKeyIdentifier [KeyIdentifier [0000: CD CA 95 5D C3 6E 03 C4  A3 59 A5 0C 4D 8C 20 9E . . . ]. n. . . Y. . M. . 0010: 52 0A C3 86                    R. . . ]]#2: ObjectId: 2. 5. 29. 19 Criticality=trueBasicConstraints:[ CA:true PathLen:2147483647]#3: ObjectId: 2. 5. 29. 14 Criticality=falseSubjectKeyIdentifier [KeyIdentifier [0000: CD CA 95 5D C3 6E 03 C4  A3 59 A5 0C 4D 8C 20 9E . . . ]. n. . . Y. . M. . 0010: 52 0A C3 86                    R. . . ]]Trust this certificate? [no]: yCertificate was added to keystoreConfigure the Server: You configure the SSL context by running JBoss CLI commands. For your convenience, this quickstart batches the commands into a configure-ssl. cli script provided in the root directory of this example. Before you begin, make sure you do the following: Start the server with the standalone default profile as follows: WILDFLY_HOME/bin/standalone. shReview the configure-ssl. cli file in the root of this directory. Comments in the script describe the purpose of each block of commands. Open a new terminal, navigate to the root directory of this quickstart, and run the following command, replacing WILDFLY_HOME with the path to your server: $ WILDFLY_HOME/bin/jboss-cli. sh --connect --file=configure-ssl. cliFor Windows, use the WILDFLY_HOME\bin\jboss-cli. bat script. You should see the following result when you run the script: The batch executed successfullyprocess-state: reload-requiredCreate the Certificate Revocation Lists: Navigate to your SSL_CONFIG directory. Generate an empty CRL file as follows: openssl ca -config ca. conf -gencrl -keyfile ca. key -cert ca. crt -out ca. crl. pemUsing configuration from ca. confRevoke the server&#8217;s certificate using this command: openssl ca -config ca. conf -revoke WILDFLY_HOME/standalone/configuration/server. crt -keyfile ca. key -cert ca. crtUsing configuration from ca. confRevoking Certificate 01. Data Base UpdatedRegenerate the CRL file: openssl ca -gencrl -keyfile ca. key -cert ca. crt -out ca. crl. pem -config ca. confUsing configuration from ca. confTest the CRL: cat ca. crt ca. crl. pem &gt; test. pemopenssl verify -extended_crl -verbose -CAfile test. pem -crl_check WILDFLY_HOME/standalone/configuration/server. crterror 23 at 0 depth lookup: certificate revokederror server. crt: verification failedError 23 indicates the certificate has been revoked, as expected. Configure a Client that verifies certificates against CRLs: The example application presents a simple client SslClient. java which checks the connectionto the server is successful. To ensure the client configurescertificate revocation lists, we have provided a common configuration framework inwildfly-config. xml. Review this file to see how the certificate revocation lists are configured in the client SSLcontext: &lt;certificate-revocation-lists&gt;  &lt;certificate-revocation-list path= PATH/TO/CRL /&gt;&lt;/certificate-revocation-lists&gt;In this example we have only configured one CRL under the certificate-revocation-liststag, as we are only concerned that our client accepts certificates signed by the CA we created. If we wantedour client to trust certificates from various CAs, and therefore be able to access the CRLs correspondingto each of those CAs, we could simply add additional certificate-revocation-list objects. As a final step in configuring the client, update the path to the client&#8217;s trust store with thepath to your trust store. Additionally, also update the certificate-revocation-list tag to thepath the CRL we configured earlier. Build and Deploy the Application: Ensure you have a running instance of your server. Then, navigate to the root directory of the example application and run the following commands: cd ssl-servermvn clean package wildfly:deployThis deploys the ssl-server. war to the running instance of the server. You should see a message in the server log indicating that the archive deployed successfully. Run the Client and Verify Certificate Rejection: Navigate to the root directory of the example application and run the following commands: cd ssl-clientmvn clean install -Dtest=SslClientYou should see the following error in the log:  test(SslClient): RESTEASY004655: Unable to invoke request:javax. net. ssl. SSLHandshakeException: PKIX path validation failed: java. security. cert. CertPathValidatorException:Certificate has been revoked, reason: UNSPECIFIED, revocation date: Wed Dec 09 14:26:04 EST 2020,authority: CN=Root Certificate Authority, OU=jboss, O=WildFly, L=Raleigh, ST=North Carolina, C=US, extension OIDs: []Alternatively, you could comment out the entire certificate-revocation-lists tag in yourwildfy-config. xml file and verify that communication succeeds otherwise. Undeploy the Application: When you are finished testing the application, follow these steps to undeploy the archive: Make sure you start the WildFly server. Open a terminal and navigate to the root directory of this example. Type the following commands to undeploy the archive: cd ssl-servermvn wildfly:undeployRestore the WildFly Standalone Server Configuration: You can restore your WildFly Standalone Server Configuration by replacing yourWILDFLY_HOME/standalone/configuration/standalone. xml file with your backed up copy. Configuring CRLs on the Server Side: This example has demonstrated how to configure CRLs on the client side. However, it is alsopossible to configure multiple CRLs on the server side for two-way SSL communication. Please review the documentation here. to learn more. Summary: This blog post has given an overview on how certificate revocation lists can be used with WildFly onthe client side. For more details, take a look at the Elytron documentation. " 
        
    } ,  {
        "id": 44,
        "url": "/wildfly-elytron/blog/secure-wildfly-cli-with-keycloak/",
        "link": "",
        "title": "Secure WildFly CLI with Keycloak",
        "author": "dvilkola",
        "postDate": "June 15, 2021",
        "body": "This blog post gives an example of how to secure WildFly CLI using Keycloak and Elytron. Keycloak&#8217;s Wildfly Elytron Adapter: Download WildFly server, Keycloak server and the WildFly OpenID Connect client adapter for WildFly from keycloak. org. Make sure your versions are compatible. Then, extract the contents of the client adapter into the root directory of your WildFly server. Start WildFly on default port 8080: $WILDFLY_HOME/bin/standalone. shFor Keycloak, use the following command to start the server on port 8180: $KEYCLOAK_HOME/bin/standalone. sh -Djboss. socket. binding. port-offset=100Below script will make the necessary edits to the $WILDFLY_HOME/standalone/configuration/standalone. xml file in order to install the keycloak adapter. $WILDFLY_HOME/bin/jboss-cli. sh --file=$WILDFLY_HOME/bin/adapter-elytron-install-offline. cliYou should be able to access Keycloak Administration Console at http://localhost:8180/auth. If you are running the server for the first time, you should create an initial admin user to get started. Once you provide the username and password for the admin user you will be able to log in. Keycloak configuration: Create a realm with a name wildfly-realm. Then, create a client application with a name wildfly-cli and configure it as follows: Select confidential in the Access Type field Put value http://localhost:9990/ to Valid Redirect URI field Now you need to create a user in wildfly-realm. Make sure you configure password for this user as well. Create an ADMINISTRATOR role. You need to add this role to this user in order to grant him/her access to the Wildfly CLI. Finally, you should configure the Keycloak realm to put roles in a top level field in the JWT roken. This is because Keycloak uses the claim realm_access. roles to map roles by default. Since we want to configure role decoder to take roles from the claim Roles, we need to configure Keycloak to use this claim as well. It is of course possible to configure some other claim as well. To configure this in Keycloak, go to the client scopes and click on roles. You should be able to find realm roles in the Mappers tab. Change the Token Claim Name to be Roles. WildFly configuration: Connect to the WildFly CLI and run the below commands. Make sure you change the &lt;wildfly-cli-client-secret&gt; to match the client secret of your wildfly-cli client. You can find it in the Keycloak Administration Console. /subsystem=elytron/token-realm=my-jwt-realm:add(oauth2-introspection={client-id=wildfly-cli,client-secret=&lt;wildfly-cli-client-secret&gt;,introspection-url= http://localhost:8180/auth/realms/wildfly-realm/protocol/openid-connect/token/introspect })/subsystem=elytron/simple-role-decoder=roles-attribute:add(attribute= Roles )/subsystem=elytron/security-domain=my-jwt-domain:add(realms=[{realm=my-jwt-realm,role-decoder=roles-attribute}],permission-mapper=default-permission-mapper,default-realm=my-jwt-realm)/subsystem=elytron/sasl-authentication-factory=my-sasl-auth:add(sasl-server-factory=configured,security-domain=my-jwt-domain,mechanism-configurations=[{mechanism-name=OAUTHBEARER,mechanism-realm-configurations=[{realm-name=my-jwt-realm}]}])/core-service=management/management-interface=http-interface:write-attribute(name=http-upgrade. sasl-authentication-factory, value=my-sasl-auth)reloadAbove commands configure the WildFly CLI to require token for authorization of users. All incoming tokens will be validated using Keycloak&#8217;s token introspection endpoint. You will be asked to provide a token when trying to access WildFly CLI with $WILDFLY_HOME/bin/jboss-cli. sh client. To obtain and provide a token, create a file $WILDFLY_HOME/wildfly-config. xml with the following content: &lt;configuration&gt;  &lt;authentication-client xmlns= urn:elytron:client:1. 6 &gt;    &lt;authentication-rules&gt;      &lt;rule use-configuration= myconfig &gt;      &lt;/rule&gt;    &lt;/authentication-rules&gt;    &lt;authentication-configurations&gt;      &lt;configuration name= myconfig &gt;        &lt;credentials&gt;          &lt;oauth2-bearer-token              token-endpoint-uri= http://localhost:8180/auth/realms/wildfly-realm/protocol/openid-connect/token &gt;            &lt;resource-owner-credentials name= administrator-user &gt;              &lt;credential-store-reference clear-text= password /&gt;            &lt;/resource-owner-credentials&gt;            &lt;client-credentials client-id= wildfly-cli                       client-secret= &lt;wildfly-cli-client-secret&gt; &gt;            &lt;/client-credentials&gt;          &lt;/oauth2-bearer-token&gt;        &lt;/credentials&gt;      &lt;/configuration&gt;    &lt;/authentication-configurations&gt;  &lt;/authentication-client&gt;&lt;/configuration&gt;Make sure you configure your client secret accordingly and change the resource owner credentials to match the user you added to the wildfly-cli realm. This configuration ensures that the token will be obtained from Keycloak and subsequently sent to the WildFly CLI endpoint. Now you can connect to the WildFly CLI with the following command: $WILDFLY_HOME/bin/jboss-cli. sh -c -Dwildfly. config. url=$WILDFLY_HOME/wildfly-config. xml" 
        
    } ,  {
        "id": 45,
        "url": "/wildfly-elytron/blog/ejb-over-http/",
        "link": "",
        "title": "Invoking EJBs over HTTP",
        "author": "araskar",
        "postDate": "June 14, 2021",
        "body": "Server ConfigurationPrerequisite ConfigurationConfigure the HTTP TransportClient ConfigurationPrerequisite ConfigurationPerforming InvocationsSummaryThe ejb-http quickstart will describe the steps to setting up EJBs using HTTP as the transport. It will also secure it with a FileSystem realm, and use a credential store to access the EJB. This will focus on the configuration of the server to allow it to communicate over HTTP. Server Configuration: Prerequisite Configuration: First we will connect to the server via: $ WILDFLY_HOME/bin/jboss-cli. sh --connectWILDFLY_HOME refers to the location where WildFly is installed. For example it could be something like ~/wildfly/build/target/wildfly-24. 0. 0. Beta1-SNAPSHOT Then we will create a file system realm called fsRealm, and add a directory in the jboss server config directory called fs-realm-users that will contain all the data of the identity of each user created: /subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-realm-users, relative-to=jboss. server. config. dir)Then we will create a new user, assign them a password, and give them the role of guest: /subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:set-password(clear={password=quickstartPwd1!},identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[guest])We will also add a role decoder to be able to process the roles assigned: /subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)We create a security domain that references the filesystem realm and will use the role decoder we created above: /subsystem=elytron/security-domain=fsSD:add(realms=[{realm=fsRealm, role-decoder=from-roles-attribute}], default-realm=fsRealm,permission-mapper=default-permission-mapper)Next we add the application security domain mapping in the EJB3 subsystem so that the server uses the correct security domain: /subsystem=ejb3/application-security-domain=other:add(security-domain=fsSD)Configure the HTTP Transport: First we must configure the http-authentication-factory for the server to authenticate over HTTP. Here we set the mechanism to BASIC (but could also be set to another HTTP mechansim, like FORM for example), point to the fsSD security-domain, and the fsRealm filesystem-realm, and we call the newly created http-authentication-factory, example-http-auth: /subsystem=elytron/http-authentication-factory=example-http-auth:add(http-server-mechanism-factory=global,security-domain=fsSD,mechanism-configurations=[{mechanism-name=BASIC,mechanism-realm-configurations=[{realm-name=fsRealm}]}])Then in order to operate over HTTP, we must disable the legacy security-realm. This is done by undefining it from the http-invoker: /subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:undefine-attribute(name=security-realm)And finally we can enable the http-invoker with the http-authentication-factory defined earlier (example-http-auth) that allows HTTP invocation for the EJB: /subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:write-attribute(name=http-authentication-factory, value=example-http-auth)Client Configuration: Prerequisite Configuration: To create a credential store, we run the following command, which creates it in the path specified after the --location flag, and secures it with the password specified after the --password flag (in this case it is “StorePassword”): WILDFLY_HOME/bin/elytron-tool. sh credential-store --create --location  /PATH/TO/mycredstore. cs  --password StorePasswordWe now create an alias that will hold the password to use when accessing the EJB. In this case the alias username is “quickstartUser”, and the password is “quickstartPwd1!”: WILDFLY_HOME/bin/elytron-tool. sh credential-store --location  /PATH/TO/mycredstore. cs  --password StorePassword --add quickstartUser --secret quickstartPwd1!If we access the wildfly-config-xml, the following file should appear: &lt;configuration&gt;  &lt;authentication-client xmlns= urn:elytron:client:1. 7 &gt;    &lt;credential-stores&gt;      &lt;credential-store name= mycredstore &gt;        &lt;attributes&gt;          &lt;attribute name= keyStoreType  value= JCEKS /&gt;          &lt;attribute name= location  value= /PATH/TO/mycredstore. cs &gt;&lt;/attribute&gt;        &lt;/attributes&gt;        &lt;protection-parameter-credentials&gt;          &lt;clear-password password= StorePassword /&gt;        &lt;/protection-parameter-credentials&gt;      &lt;/credential-store&gt;    &lt;/credential-stores&gt;    &lt;authentication-rules&gt;      &lt;rule use-configuration= default-config /&gt;    &lt;/authentication-rules&gt;    &lt;authentication-configurations&gt;      &lt;configuration name= default-config &gt;        &lt;set-user-name name= quickstartUser /&gt;        &lt;credentials&gt;          &lt;credential-store-reference store= mycredstore  alias= quickstartUser /&gt;        &lt;/credentials&gt;        &lt;providers&gt;          &lt;use-service-loader /&gt;        &lt;/providers&gt;      &lt;/configuration&gt;    &lt;/authentication-configurations&gt;  &lt;/authentication-client&gt;&lt;/configuration&gt;Here we can see the definition of the credential store. Make sure to change the path from  /PATH/TO/mycredstore. cs , to the same path as when configuring the credential store. Also ensure that the path here is the absolute path, starting with a / Performing Invocations: When creating the InitialContext in your Client Application, the PROVIDER_URL field should be changed. When using EJB over the Remoting protocol, the PROVIDER_URL is set to:  remote+http://localhost:8080 Since we now want to use EJB over HTTP, the PROVIDER_URL should be changed to:  http://localhost:8080/wildfly-services The path that specifies /wildfly-services is the default when setting up the http-invoker, and should be changed to the same as the one specified, if the defaut was not used. Summary: This blog post has given an overview on how to invoke an EJB over HTTP, make use of a filesystem realm, and use a credential-store to obtain the password to invoke the EJB. " 
        
    } ,  {
        "id": 46,
        "url": "/wildfly-elytron/blog/wildfly-encrypted-expressions/",
        "link": "",
        "title": "WildFly Encrypted Expression Support",
        "author": "darranl",
        "postDate": "March 19, 2021",
        "body": "With the release of WildFly 23 the WildFly Elytron project and it&#8217;s integration now adds support forencrypted expressions within the management model, this post will describe the steps to quickly getstarted using this new feature. Introduction: The CredentialStore functionality provided by WildFly Elytron provides a mechanism for the securestorage of credentials that can be cross referenced by WildFly&#8217;s management model to avoid storingthe credentials directly in the configuration. Using the credential store however leaves us with two remaining problems: How to protect the secret of the credential store. How to protect other configuration values. Within WildFly in addition to specifying a clear text password to unlock the credential store anadministrator can configure the server to run an external command to obtain the password or theadministrator can MASK the password.  The issue with the masked password support however is thisuses password based encryption using a well know password publicly available in open sourceprojects. The encrypted expression support added to WildFly solves both of these problems.  Firstly by addingsupport for loading SecretKey instances from the credential store including a new clear store. Secondly by adding support for values contained in the model to be encrypted and dynamicallydecrypted using the stored keys. The first part of this blog post will illustrate the commands to get started with encryptedexpressions using an automatically generated SecretKey.  The second part of this post willillustrate how an encrypted expression can be used to protect a second credential store which inturn will have a SecretKey added and enabled for use with expression encryption. Initial Encrypted Expression Support: Starting with a clean and running WildFly 23 (or later) installation, the examples in this postwill make use of the jboss-cli to configure the server. Before we begin it is worth noting that by default the CLI will cache all executed commands in it&#8217;shistory, as these examples are going to be encrypting clear text passwords we should disablehistory for our session. [standalone@localhost:9990 /] history --disableFirst we will add a new credential store which will be automatically be populated with adynamically SecretKey and stored under the alias key. [standalone@localhost:9990 /] /subsystem=elytron/secret-key-credential-store=initial:add( \  relative-to=jboss. server. config. dir, \  path=initial. cs){ outcome  =&gt;  success }This will create a new credential store initial. cs in the configuration directory of yourapplication server installation.  If a key is lost we do not have the ability to recover previouslyencrypted expressions so be sure to backup the credential store or export the key and store itsafely. [standalone@localhost:9990 /] /subsystem=elytron/secret-key-credential-store=initial:export-secret-key(\  alias=key){   outcome  =&gt;  success ,   result  =&gt; { key  =&gt;  RUxZAUuMVPg8wefEp0KTvGJfRrmwWwGIql2px7MKAbwV3gW3bg== }}This credential store is not protected by it&#8217;s own password so filesystem permissions shouldbe used to ensure it is only accessible by the application server process. Now that we have a generated secret key in a credential store we can activate the resource responsiblefor handling encrypted expressions. [standalone@localhost:9990 /] /subsystem=elytron/expression=encryption:add( \  resolvers=[{name=initial-resolver, \        credential-store=initial, \        secret-key=key}]){ outcome  =&gt;  success }Support for encrypted expressions is now active, we can now encrypt a clear text value and convertit to an expression. [standalone@localhost:9990 /] /subsystem=elytron/expression=encryption:create-expression( \  resolver=initial-resolver, clear-text=MyPassword){   outcome  =&gt;  success ,   result  =&gt; { expression  =&gt; \     ${ENC::initial-resolver:RUxZAUMQEH6CP3xXyAqYzqsC3oNayyeGH32wsdAZ8VLkkxaEmWc=} }}The expression returned here can be used on any attribute in other subsystems which supportsexpressions.  The read-resource-description operation can be used on a resource to identifyif it&#8217;s attributes support expressions. [standalone@localhost:9990 /] /subsystem=elytron/dir-context=*:read-resource-description{   outcome  =&gt;  success ,   result  =&gt; [{     address  =&gt; [      ( subsystem  =&gt;  elytron ),      ( dir-context  =&gt;  * )    ],. . . .          properties  =&gt; {           type  =&gt; OBJECT,           description  =&gt;  The additional connection properties for the DirContext.  ,           expressions-allowed  =&gt; true,        },. . . . Where an attribute specifies expressions-allowed is set to true these encrypted expressions can be used. Second Credential Store: Now we have a password converted to an encrypted expression we can define a new credential store using thispassword and we can also add a SecretKey to the second store. [standalone@localhost:9990 /] /subsystem=elytron/credential-store=main:add( \  relative-to=jboss. server. config. dir, \  path=main. cs, \  credential-reference= \    {clear-text= ${ENC::initial-resolver:RUxZAUMQEH6CP3xXyAqYzqsC3oNayyeGH32wsdAZ8VLkkxaEmWc=} }, \  create=true){ outcome  =&gt;  success }[standalone@localhost:9990 /] /subsystem=elytron/credential-store=main:generate-secret-key( \  alias=main-key){ outcome  =&gt;  success }A second resolver can now be added to the expression=resolver resource, we can also make this newresolver a default. [standalone@localhost:9990 /] /subsystem=elytron/expression=encryption:list-add(\  name=resolvers, \  value={ \    name=main-resolver, \    credential-store=main, \    secret-key=main-key}). . . . [standalone@localhost:9990 /] /subsystem=elytron/expression=encryption:write-attribute( \  name=default-resolver, \  value=main-resolver)''''[standalone@localhost:9990 /] :reload. . . . Finally we can use this new resolver to create an expression. [standalone@localhost:9990 /] /subsystem=elytron/expression=encryption:create-expression( \  clear-text=MySecondPassword){   outcome  =&gt;  success ,   result  =&gt; { \     expression  =&gt;  ${ENC::RUxZAUMQLRoRLS2PYwFgxXlFTNvTaaI5GXO7qkY4W7UHCwGgUl9Vr4R1BKgm+SKfb4DCwuHf} }}As we defined a default-resolver this was omitted in the create-expression operation,additionally the name of the resolver is not included in the resulting expression. XML Configuration: The commands executed in this post have resulted in the following resources being defined in theelytron subsystem. &lt;credential-stores&gt;  &lt;credential-store name= main  relative-to= jboss. server. config. dir  path= main. cs  create= true &gt;    &lt;credential-reference      clear-text= ${ENC::initial-resolver:RUxZAUMQEH6CP3xXyAqYzqsC3oNayyeGH32wsdAZ8VLkkxaEmWc=} /&gt;  &lt;/credential-store&gt;  &lt;secret-key-credential-store name= initial  relative-to= jboss. server. config. dir  path= initial. cs /&gt;&lt;/credential-stores&gt;&lt;expression-resolver default-resolver= main-resolver &gt;  &lt;resolver name= initial-resolver  credential-store= initial  secret-key= key /&gt;  &lt;resolver name= main-resolver  credential-store= main  secret-key= main-key /&gt;&lt;/expression-resolver&gt;Further Reading: This blog post has illustrated the use of this new feature using a specific scenario, furtherinformation is available in the WildFly documentation including information using the stand alonecommand line tooling. WildFly Elytron Credential Store Encrypted Expressions " 
        
    } ,  {
        "id": 47,
        "url": "/wildfly-elytron/blog/upcoming-hash-encodings/",
        "link": "",
        "title": "Upcoming hash character sets and hash encodings support in Elytron",
        "author": "szaldana",
        "postDate": "March 19, 2021",
        "body": "One of the features we have been working on for the Elytron subsytem is the ability to specify the hash character setand hash encoding in security realms that support storing hashed passwords. The purpose of this task is to ensure feature parity withlegacy security configurations. We have plans that this feature will be released in WildFly 24. An Overview of Hash Character Sets and Hash Encodings in Legacy Security: In the legacy security configuration using PicketBox, theUsernamePasswordLoginModulesupports storing hashed passwords by specifying the hashing algorithm, encoding and character set to comparethe client-supplied password to the password stored in the management system. Currently, Elytron supports specifying the hashing algorithm, but not the string encoding or character set to usein its security realms (with the exception of the JDBC realm where configuring the encoding is supported). From WildFly 24,the Properties Realm, Filesystem Realm, JDBC Realm and LDAP Realm will support specifying the hash encoding and charset. Hash Encoding and Hash Charset Configuration: All realms that support storing hashed passwords (namely the Properties Realm, Filesystem Realm, JDBC Realm and LDAP realm)will support the following new attributes: hash-encoding: This attribute will specify the string format for the hashed password if thepassword is not being stored in plain text. It will specify one of two: hex or base64. hash-charset: This attribute will specify the name of the character set to use when converting the client providedpassword string to a byte array for hashing calculations. Summary: This blog post has given an overview of the upcoming hash encoding and hash charset support for security realms in the Elytron Subsystem. For more details and updates on the status of this feature,keep an eye on WFCORE-5027. " 
        
    } ,  {
        "id": 48,
        "url": "/wildfly-elytron/blog/sslcontext-delegation-to-alternate-instances-based-on-peer/",
        "link": "",
        "title": "Upcoming SSLContext that supports delegation to alternate instances based on peer information",
        "author": "dvilkola",
        "postDate": "March 19, 2021",
        "body": "One of the features we have been working on for the Elytron subsytem is the ability to configure SSL context that will delegate to different instances of SSL context based on the host and port of the peer. Background: In some cases it can be useful to have SSL context that can select appropriate certificate/keystore for the connection based on the hostname and/or port of the peer. It would be easier to configure one such SSL context and provide rules at one place based on which the appropriate SSL Context instance will be selected. In Elytron it is already possible to configure authentication-context resource where you can provide rules that associate SSL context with specific host and/or port. After this feature is complete, you should be able to configure dynamic SSL context that will use these rules and will select appropriate SSL context for the connection. Summary: This blog post has given a short overview of the upcoming SSL context that selects appropriate instances based on peer information. It will be possible to configure it using WildFly CLI or directly in server configuration file. For more details and updates on the status of this feature, take a look at WFLY-13762. You can also take a look at the proposal. We welcome feedback. " 
        
    } ,  {
        "id": 49,
        "url": "/wildfly-elytron/blog/normalization-of-EJB-principal-propagation/",
        "link": "",
        "title": "Normalize principal propagation/injection across elytron and legacy",
        "author": "dvilkola",
        "postDate": "March 19, 2021",
        "body": "In WildFly 23 there is a new configuration option in the EJB subsystem that allows to switch between legacy and elytron principal propagation. This blog post will provide an explanation about the difference between these propagation modes and where the configuration can be done. Definition of terms: Secured EJB refers to EJB that has any security metadata configured at the EJB level. Unsecured EJB is EJB without such security metadata. Incoming run-as identity refers to the security identity that was active for the context before the run-as* annotation was applied. For further information please see RunAsPrincipal annotation documentation. Background: Issue WFLY-12537 was created to resolve incompatibility between Elytron and legacy principal propagation. If Elytron was used before this issue was resolved, then the security identity of an unsecured EJB was always anonymous if there was no incoming run-as identity. This is not true for legacy, where the identity is anonymous only if mentioned unsecured EJB was called from remote context. The identity for local EJB is the current security identity obtained from security domain. This behaviour was made consistent after issue WFLY-12537 got resolved. However in WildFly 23, we decided to provide possibility for both options in order to avoid regressions for users. Configuration: New attribute called legacy-compliant-principal-propagation was added to the application-security-domain component in the ejb3 subsystem. You can configure it the following way: /subsystem=ejb3/application-security-domain=other:add(security-domain=ApplicationDomain,legacy-compliant-principal-propagation=false)See below the full description of the difference. legacy-compliant-principal-propagation set to true If incoming run-as identity exists then it is the identity of the EJB. Otherwise, if the EJB is secured, then the identity is the current security identity obtained from a security domain. If the EJB is unsecured then identity is anonymous regardless of whether the EJB was called from remote context or not. legacy-compliant-principal-propagation set to false If incoming run-as identity exists then it is the identity of the EJB. Otherwise, if the EJB is local then the security identity of this EJB is the current security identity obtained from security domain. if the EJB is unsecured and called from remote context then its identity is anonymous. If the EJB is secured and called from remote context then its identity is the current security identity obtained from security domain. The attribute&#8217;s default value is true. Summary: This blog post has given an overview of how to switch between legacy compliant principal propagation and Elytron principal propagation in the EJB subsystem. " 
        
    } ,  {
        "id": 50,
        "url": "/wildfly-elytron/blog/new-ssl-features/",
        "link": "",
        "title": "Upcoming SSL features: Multiple certificate revocation lists support and SSLv2Hello support",
        "author": "szaldana",
        "postDate": "March 19, 2021",
        "body": "Two of the new features regarding SSL that we have been working on include adding support for configuring multiplecertificate revocation lists and SSLv2Hello support. These features did not make it into WildFly 23but we have plans for them to be included in WildFly 24. An Overview of Certificate Revocation Lists: Certificate Revocation Lists (CRLs) contain a list of certificates that have been revokedby the issuing Certificate Authority before their expected expiration date, and therefore should no longerbe trusted. Elytron currently supports configuring only one Certificate Revocation List. From WildFly 24, it will be possible to configure multiple CRL files, which is useful when several certificateauthorities are used. Certificate Revocation List Configuration: Support for multiple CRLs will be available for both the server and client. Currently, in the Elytron Subsystem, we canconfigure a single CRL in the trust-manager element using the certificate-revocation-list attribute. From WildFly 24, we will be able to configure a list of certificate revocation lists using the new certificate-revocation-lists attribute. An Overview of the SSLv2Hello Protocol: Older JDK versions use SSLv2Hello during the initial handshake messagewhere the SSL version that will be used for the rest of the handshake is negotiated. The use of this protocol is discouraged. As a result, newer JDK versions disable thisprotocol by default for clients, but do provide the ability to re-enable it if needed. By adding SSLv2Hello as a supported protocol in WildFly, we are ensuring olderclients are still able to communicate to servers guaranteeing parity with legacy security. SSLv2Hello Configuration: SSLv2Hello will be enabled by configuring it in the protocols attribute in theSSL context definition in the Elytron subsystem: the server-ssl-context and client-ssl-context for theserver and client respectively. The attribute protocols contains the list of protocols supported by WildFly. From WildFly 24, this attribute will also allow SSLv2Hello to be specified. Summary: This blog post has given an overview of the upcoming support for multiple certificate revocation lists andSSLv2Hello. For more details on these features, keep an eye on WFCORE-5170and WFCORE-5145 respectively. " 
        
    } ,  {
        "id": 51,
        "url": "/wildfly-elytron/blog/new-security-features-in-wildfly-23/",
        "link": "",
        "title": "New Security Features in WildFly 23",
        "author": "fjuma",
        "postDate": "March 19, 2021",
        "body": "This blog post highlights the new security features that are in WildFly 23 and also gives an updateon the new security features that the Elytron team has been working on. New Features in WildFly 23: Encrypted Expression Support: WildFly 23 now adds support for encrypted expressions within the management model. For details on how toquickly get started with this new feature, check out this blog post. Principal Propagation: In certain cases, the principal associated with an unsecured EJB can differ depending on whether Elytron or legacysecurity is in use. WildFly 23 makes it possible for users to decide which behaviour they would like to use. More information can be found in this blog post. Support for MicroProfile JWT 1. 2: The version of MicroProfile JWT supported by WildFly has been upgraded to version 1. 2. Moreinformation about what&#8217;s new in MicroProfile JWT 1. 2 can be found here. In Progress Features: The Elytron team has also been working on many other new features during the WildFly 23 development phase. Althoughthese features weren&#8217;t quite ready to be included in WildFly 23, we hope to include them in a future WildFly release. Here&#8217;s a quick update on these features. SSL/TLS enhancements: ELY-1996 SSLContext to support delegation to alternate instances based on peer information This feature looks at making use of the host and port information of the peer that we areconnecting to in order to dynamically select which SSL context to use. More information about how thisnew feature will be configured can be found in this blog post. WFCORE-5120 Automatic registration of a client side / JVM wide default SSLContext This feature will make it possible to register a JVM wide default SSL context for libraries that make use of Elytronclient configuration. Additional information on the plans for this feature can be found here. WFCORE-5170 Support for multiple certificate revocation lists This feature will make it possible to configure multiple certificate revocation lists (e. g. , for the case where morethan one certificate authority is being used). An introduction to this feature can be found in this blog post. WFCORE-5145 Elytron server-ssl-context allowed protocols This enhancement allows an additional legacy protocol to be configured for SSL contexts to provide featureparity with legacy security. More information can be found in this blog post. Security Realm Enhancements: WFCORE-5027 Security Realms should support specifying the charset and encoding for credentials This feature will make it possible for security realms to store hashed passwords in hex format, in addition toBase64 format. It will also make it possible to configure the character set to use when processing a user&#8217;spassword. An introduction to this new feature can be found in this blog post. OpenID Connect: WFLY-14017 Native support for OpenID Connect WildFly currently provides the ability to secure deployments using OpenID Connect (OIDC)by installing a Keycloak client adapter. By adding native support for OpenID Connect to Elytron, the Keycloak client adapter will no longer be neededto secure applications deployed to WildFly using OIDC. More details can be found here. Where to Find More Information: This blog post has given an overview of the new security features that are included in WildFly 23 and hasalso given an update on the new security features that are currently in progress. Be sure to check out ourblog posts page, where we have all ourblog posts on Elytron features. If there is an Elytron topic you’d like to see a blog post on, feel free tolet us know on WildFly’s user forums. To learn more about Elytron, check out our site. " 
        
    } ,  {
        "id": 52,
        "url": "/wildfly-elytron/blog/automatic-registration-of-client-side-jvm-wide-default-sslcontext/",
        "link": "",
        "title": "Upcoming automatic registration of client side default SSLContext",
        "author": "dvilkola",
        "postDate": "March 19, 2021",
        "body": "One of the features we have been working on for the Elytron subsytem is the ability to automatically register client side JVM wide default SSL context. This SSL context will be available to any library that supports the use of the default context. Details: We plan to provide implementation of new java security provider that will provide protocol named  Default . When registering this provider, elytron client will load configuration and provide initialized ssl context for clients requesting SSL context by using SSLContext. getDefault() or by using method SSLContext. getInstance( Default , newElytronClientProviderInstance). Our plans are that this provider will load the ssl context from either current authentication context obtained from classpath, or from authentication context obtained from file that is passed to the security provider either dynamically or as an argument in java. security file. Summary: This blog post has given a short overview of the upcoming client side jvm wide default SSL context that will be configurable in Elytron client configuration. For more details and updates on the status of this feature, keep an eye on WFCORE-5120. You can also take a look at the proposal. We welcome feedback. " 
        
    } ,  {
        "id": 53,
        "url": "/wildfly-elytron/blog/planned-security-features-for-wildfly-23/",
        "link": "",
        "title": "Planned Security Features for WildFly",
        "author": "fjuma",
        "postDate": "January 22, 2021",
        "body": "Since the feature development phase for WildFly 23 has now started, we wanted to highlight thesecurity features that we will be working on. As usual, please keep in mind that this blog postis a summary of our general plans and not a guarantee that each of these features will be mergedfor WildFly 23. Planned Features: Expression Resolution: WFC0RE-4360 Support expression resolution backed by a credential store Currently, credential store references can be used anywhere in the model where a credential needs to be specified. This feature will make it possible to encrypt other attribute values stored in the management model. More details can be found here. SSL/TLS Enhancements: ELY-1996 SSLContext to support delegation to alternate instances based on peer information The host and port information of the peer that we are connecting to is available when an SSLEngine is being created. This feature looks at making use of this information to dynamically select which SSL context to use. More information can be found here. WFCORE-5120 Automatic registration of a client side / JVM wide default SSLContext This feature will make it possible to register a JVM wide default SSL context for libraries that make use of Elytronclient configuration. Additional information can be found here. WFCORE-5170 Support for multiple certificate revocation lists Currently, it is only possible to configure a trust manager to make use of one certificate revocation list. Thisfeature will make it possible to configure multiple certificate revocation lists (e. g. , for the case where morethan one certificate authority is being used). More details on this can be found here. Principal Propagation: WFLY-14074 Normalization of principal propagation/injection across Elytron and Legacy security In certain cases, the principal associated with an unsecured EJB can differ depending on whether Elytron or legacysecurity is in use. This feature will make it possible for users to decide which behaviour they would like to use. More information can be found here. Security Realm Enhancements: WFCORE-5027 Security Realms should support specifying the charset and encoding for credentials This feature will make it possible for security realms to store hashed passwords in hex format, in addition toBase64 format. It will also make it possible to configure the character set to use when processing a user&#8217;spassword. More details can be found here. OpenID Connect: WFLY-14017 Native support for OpenID Connect WildFly currently provides the ability to secure deployments using OpenID Connect (OIDC)by installing a Keycloak client adapter. By adding native support for OpenID Connect to Elytron, the Keycloak client adapter will no longer be neededto secure applications deployed to WildFly using OIDC. More details can be found here. Summary: This blog post has highlighted the security features that we will be working on. If any of these featuresare a priority for you, please let us know. Please also let us know if there are any security features thatare missing that you would like to see prioritized as we can take this kind of feedback into accountfor future releases. " 
        
    } ,  {
        "id": 54,
        "url": "/wildfly-elytron/blog/auto-self-signed-certificate-generation/",
        "link": "",
        "title": "Automatic Self-Signed Certificate Generation with Elytron",
        "author": "fjuma",
        "postDate": "January 14, 2021",
        "body": "WildFly 22 adds the ability to automatically generate a self-signed certificate the first timeWildFly receives an HTTPS request when WildFly is being secured using Elytron. This is usefulfor development or testing environments. This blog post gives an introduction to this new feature. Default SSL contextMaking use of the default SSL contextLog messagesSwitching to a signed certificatePre-requisite configurationSwitching to a certificate from Let&#8217;s EncryptSummaryDefault SSL context: WildFly now contains configuration for one-way SSL out of the box. This means that by default,the Elytron subsystem now contains a key-store, key-manager, and server-ssl-context thatare ready for you to use in a development or testing environment, as shown below: &lt;subsystem xmlns= urn:wildfly:elytron:12. 0  final-providers= combined-providers  disallowed-providers= OracleUcrypto &gt;. . .   &lt;tls&gt;    &lt;key-stores&gt;      &lt;key-store name= applicationKS &gt;        &lt;credential-reference clear-text= password /&gt;        &lt;implementation type= JKS /&gt;        &lt;file path= application. keystore  relative-to= jboss. server. config. dir /&gt;      &lt;/key-store&gt;    &lt;/key-stores&gt;    &lt;key-managers&gt;      &lt;key-manager name= applicationKM  key-store= applicationKS  generate-self-signed-certificate-host= localhost &gt;        &lt;credential-reference clear-text= password /&gt;      &lt;/key-manager&gt;    &lt;/key-managers&gt;    &lt;server-ssl-contexts&gt;      &lt;server-ssl-context name= applicationSSC  key-manager= applicationKM /&gt;    &lt;/server-ssl-contexts&gt;  &lt;/tls&gt;. . . &lt;/subsystem&gt;Notice that the default key-manager, applicationKM, contains a generate-self-signed-certificate-hostattribute with value localhost. This attribute indicates that when this key-manager is used to obtain theserver&#8217;s certificate, if the file that backs its key-store doesn&#8217;t already exist, then the key-manager shouldautomatically generate a self-signed certificate with localhost as the Common Name. This generated self-signedcertificate will then be stored in the file that backs the key-store. Making use of the default SSL context: To make use of the new default SSL context, the Undertow subsystem https-listener configurationjust needs to be updated to reference the Elytron server-ssl-context: batch/subsystem=undertow/server=default-server/https-listener=https:undefine-attribute(name=security-realm)/subsystem=undertow/server=default-server/https-listener=https:write-attribute(name=ssl-context,value=applicationSSC)run-batchreloadWith this change, WildFly will automatically generate a self-signed certificate the first time it receivesan HTTPS request if the server&#8217;s key store file (application. keystore) does not already exist. To try this out, try accessing https://localhost:8443. Notice that WildFly generates and presents aself-signed certificate and your browser presents a warning message. Inspect the certificate and verifythat the fingerprints shown in your browser match the fingerprints shown in the server log file beforeconfirming that you want to accept the server&#8217;s certificate. Log messages: When using the default server-ssl-context, you&#8217;ll notice some warning messages in the server log file beforeand after the self-signed certificate is automatically generated: 13:21:39,197 WARN [org. wildfly. extension. elytron] (MSC service thread 1-6) WFLYELY01083: KeyStore /wildfly/standalone/configuration/application. keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost. . . 13:39:57,152 WARN [org. wildfly. extension. elytron] (default task-1) WFLYELY01084: Generated self-signed certificate at /wildfly/dist/target/wildfly-22. 0. 0. Final/standalone/configuration/application. keystore. Please note that self-signed certificates are not secure and should only be used for testing purposes. Do not use this self-signed certificate in production. SHA-1 fingerprint of the generated key is fc:16:cf:bf:de:3a:6d:d6:fe:ec:f9:cd:9d:22:c9:3d:43:d7:e3:57SHA-256 fingerprint of the generated key is 38:69:00:4e:39:e2:40:e2:ef:b6:95:58:c6:ba:d0:0f:56:c5:7c:5d:fc:d5:c3:b9:b0:94:80:9c:f5:45:9d:40As mentioned in the warning message, it is very important that the generated self-signed certificate is only useda development or testing environment. Self-signed certificates should never be used in a production environment. To disable the automatic self-signed certificate generation, simply undefine the generate-self-signed-certificate-hostattribute for the default key-manager. Switching to a signed certificate: Since the default WildFly configuration contains one-way SSL configuration out of the box, it is nowvery simple to switch to using a signed certificate. Pre-requisite configuration: We&#8217;re going to switch to using a certificate from Let&#8217;s Encrypt so we first need to configurea Let&#8217;s Encrypt account: /subsystem=elytron/key-store=accountsKS:add(path=accounts. keystore. jks,relative-to=jboss. server. config. dir,credential-reference={clear-text=secret},type=JKS)/subsystem=elytron/certificate-authority-account=myLetsEncryptAccount:add(alias=letsEncrypt,key-store=accountsKS,contact-urls=[mailto:admin@admin. org])Switching to a certificate from Let&#8217;s Encrypt: First, undefine the generate-self-signed-certificate-host attribute: /subsystem=elytron/key-manager=applicationKM:undefine-attribute(name=generate-self-signed-certificate-host)Then, use the applicationKS key store to obtain a signed certificate from Let&#8217;s Encrypt (make sure you updatethe domain-names parameter to specify the domain name(s) you want to obtain a certificate for): /subsystem=elytron/key-store=applicationKS:obtain-certificate(alias=server,domain-names=[www. example. org],certificate-authority-account=myLetsEncryptAccount,agree-to-terms-of-service)Now, reload your key-manager so that WildFly makes use of your newly obtained signed certificate: /subsystem=elytron/key-manager=applicationKM:init()Summary: This blog post has given an overview of automatic self-signed certificate generation for WildFly. This feature should only be used in development or testing environments. For more details on this,take a look at the documentation. For more information on how to switch to a certificate from Let&#8217;s Encrypt, take a look at thisblog post. Details on how to switch to a certificate signed by a different certificate authority that implements theAutomated Certificate Management Environment (ACME) protocol can be foundhere. " 
        
    } ,  {
        "id": 55,
        "url": "/wildfly-elytron/blog/case-principal-transformer/",
        "link": "",
        "title": "Using case principal transformers in Elytron",
        "author": "szaldana",
        "postDate": "January 12, 2021",
        "body": "The case-principal-transformerquickstart demonstrates how to use a case-principal-transformer to adjust a principal to upper casewhen securing EJBs. Note, the quickstart is building from this post which more closely explains how to configure filesystem realms and SASL authentication to secure EJBs. An Overview of the Case Principal Transformer: Principal transformers take a name and map it to another representation of the name or perform somenormalisation. The new case-principal-transformer in the Elytron subsystem allows converting a principal to upper or lower case. Previously, a custom transformer was required to adjust a principal&#8217;s username toupper/lower case. In particular, this new principal transformer has the following optional attribute: upper-case - A boolean value which adjusts the principal to upper case when set to true andadjusts the principal to lower case when set to false. Note: If omitted, this value is set to true by default. Reviewing the Elytron Configuration: In the following section, we will review the configuration available in the script for the quickstartconfigure-elytron. cli. We start our configuration by connecting to the server using the following command: $ WILDFLY_HOME/bin/jboss-cli. sh --connectNote: Use of WILDFLY_HOME: In the following post, replace WILDFLY_HOME with the actual path to your WildFly installation. We then create a filesystem realm under the Elytron subsystem, followed by adding an identity in upper case(QUICKSTARTUSER), and a simple role decoder as follows: /subsystem=elytron/filesystem-realm=exampleRealm:add(path=fs-realm-users, relative-to=jboss. server. config. dir)/subsystem=elytron/filesystem-realm=exampleRealm:add-identity(identity=QUICKSTARTUSER)/subsystem=elytron/filesystem-realm=exampleRealm:set-password(clear={password= quickstartPwd1! }, identity=QUICKSTARTUSER)/subsystem=elytron/filesystem-realm=exampleRealm:add-identity-attribute(identity=QUICKSTARTUSER, name=Roles, value=[ Admin ,  Guest ])/subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)For more information about creating FileSystem realms along with all of its possible configurations,please refer to the Elytron documentation. Configuring a Case Principal Transformer: Adding a case-principal-transformer that converts a principal to upper/lower case takes the general form: /subsystem=elytron/case-principal-transformer=transformerName:add(upper-case= . . .  )In our example, the case-principal-transformer is configured to specify that a principal shouldbe transformed to upper case as follows: /subsystem=elytron/case-principal-transformer=myTransformer:add(upper-case=true)Note, the upper-case attribute can be omitted as it will be set to true by default. We then configure a new security domain caseDomain to use our filesystem realm, role decoderand the case principal transformer as a pre-realm-principal-transformer: /subsystem=elytron/security-domain=caseDomain:add(realms=[{realm=exampleRealm}], \default-realm=exampleRealm,permission-mapper=default-permission-mapper, pre-realm-principal-transformer=myTransformer)Note that creating an additional security domain (caseDomainin this case) is not necessary. We could alternatively take the default ApplicationDomain and add theFileSystem realm, role-decoder, principal transformer and permission-mapper to it. We then add our security domain mapping to the EJB3 subsystem, update the sasl-authentication-factory to useour security domain and update the http-remoting-connector to use our sasl-authentication-factory: /subsystem=ejb3/application-security-domain=other:add(security-domain=caseDomain)/subsystem=elytron/sasl-authentication-factory=application-sasl-authentication:write-attribute(name=security-domain, value=caseDomain)/subsystem=remoting/http-connector=http-remoting-connector:write-attribute(name=sasl-authentication-factory,value=application-sasl-authentication)For more information on the above snippet, please refer to the quickstart this example is based onhere. Configuring the Client (wildfly-config. xml): The username and credentials to establish the connection to the application server are configured in thewildfly-config. xml file. Notice the username provided by the client is quickstartuser and the username we added to theidentity store is QUICKSTARUSER.  &lt;authentication-configurations&gt;      &lt;configuration name= default-config &gt;        &lt;set-user-name name= quickstartuser /&gt;        &lt;credentials&gt;          &lt;clear-password password= quickstartPwd1! /&gt;        &lt;/credentials&gt;        . . .       &lt;/configuration&gt;&lt;/authentication-configurations&gt;Since we configured our case-principal-transformer to be used prior to accessing the security realm,the principal provided by the client will be adjusted to upper case resulting in successful authentication. Build and Deploy the Quickstart: Make sure you start the WildFly server. Open a terminal and navigate to the root directory of this quickstart. Type the following command to build the artifacts.   $ mvn clean install wildfly:deployYou should see a message in the server log indicating that the archive deployed successfully. Run the Client: Before you run the client, make sure you have successfully deployed the EJBs to the server in the previous step and that yourterminal is still in the root directory of this quickstart. Run this command to execute the client: $ mvn exec:execInvestigate the Console Output: When you run the mvn exec:exec command, you should see the following output. * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *Successfully called secured bean, caller principal QUICKSTARTUSERPrincipal has admin permission: true* * * * * * * * * * * * * * * * * * * * * * * * * * * * * *The username and credentials to establish the connection to the application server are configured in thewildfly-config. xml. Notice the username provided in the wildfly-config. xml file is quickstartuserand the username stored in the identity store is QUICKSTARTUSER. As expected, the quickstartuser was adjusted to QUICKSTARTUSER by the case-principal-transformer prior to accessingthe security realm and the principal was able to invoke the method available for the admin role. Summary: This blog post has given an overview on how to use a case-principal-transformer in theElytron subsystem. " 
        
    } ,  {
        "id": 56,
        "url": "/wildfly-elytron/blog/tls-13-with-wildfly-openssl/",
        "link": "",
        "title": "TLS 1.3 support for WildFly with OpenSSL",
        "author": "fjuma",
        "postDate": "October 14, 2020",
        "body": "WildFly 21 adds the ability to use TLS 1. 3 with WildFly when using the OpenSSL TLS provider. This blog post will give an introduction to this new feature. Disabled by Default: The use of TLS 1. 3 is currently disabled by default when using the OpenSSL TLS provider. This is because ifJDK 11 is in use and if there is a very large number of TLS 1. 3 requests coming in, it is possible that a dropin performance (i. e. , throughput and response time) will occur compared to when using TLS 1. 2 with the OpenSSLTLS provider. It is recommended to test for performance degradation prior to enabling TLS 1. 3 in a productionenvironment. Enabling TLS 1. 3 on the Server Side: TLS 1. 3 can be enabled by configuring the cipher-suite-names attribute in the SSL Context resource definitionin the Elytron subsystem. Let&#8217;s take a look at a complete example. Pre-requisite Configuration: As a first step, we&#8217;re going to enable one-way SSL for applications deployed to WildFly using thesecurity enable-ssl-http-server CLI command: Enabling one-way SSL: security enable-ssl-http-server --interactivePlease provide required pieces of information to enable SSL:Certificate info:Key-store file name (default default-server. keystore): server. keystorePassword (blank generated): secretWhat is your first and last name? [Unknown]: localhostWhat is the name of your organizational unit? [Unknown]:What is the name of your organization? [Unknown]:What is the name of your City or Locality? [Unknown]:What is the name of your State or Province? [Unknown]:What is the two-letter country code for this unit? [Unknown]:Is CN=localhost, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown correct y/n [y]?yValidity (in days, blank default): 30Alias (blank generated): localhostEnable SSL Mutual Authentication y/n (blank n):nSSL options:key store file: server. keystoredistinguished name: CN=localhost, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown,C=Unknownpassword: secretvalidity: 30alias: localhostServer keystore file server. keystore, certificate file server. pem and server. csr file will be generated in server configuration directory. Do you confirm y/n :yServer reloaded. SSL enabled for default-serverssl-context is ssl-context-b0110cb7-595b-4de9-942b-e616690bb350key-manager is key-manager-b0110cb7-595b-4de9-942b-e616690bb350key-store  is key-store-b0110cb7-595b-4de9-942b-e616690bb350As we can see from the output, the above command automatically generated a self-signed server certificate, added it to anewly created keystore, and added a new ssl-context resource, ssl-context-b0110cb7-595b-4de9-942b-e616690bb350, tothe Elytron subsystem in order to enable one-way SSL for applications deployed to WildFly. Configuring WildFly to use the OpenSSL TLS provider: There are two ways to configure WildFly to make use of the OpenSSL TLS provider. Using the OpenSSL TLS provider by defaultTo configure the Elytron subsystem so that the OpenSSL TLS provider is used by default, the following commands can be used: /subsystem=elytron:write-attribute(name=initial-providers, value=combined-providers)/subsystem=elytron:undefine-attribute(name=final-providers)reloadConfiguring an SSL context to use the OpenSSL TLS providerInstead of configuring the Elytron subsystem to use the OpenSSL TLS provider by default, it is also possibleto specify that the OpenSSL TLS provider should be used for a specific SSL context by configuring the providersattribute for a server-ssl-context. Let&#8217;s update our server-ssl-context to specify that we want to use theOpenSSL TLS provider: /subsystem=elytron/server-ssl-context=ssl-context-b0110cb7-595b-4de9-942b-e616690bb350:write-attribute(name=providers,value=openssl)reloadNow, let&#8217;s try to access the WildFly landing page using curl: curl -v -k https://localhost:8443* SSL connection using TLSv1. 2 / ECDHE-RSA-AES256-GCM-SHA384* ALPN, server accepted to use h2* Server certificate:* subject: C=Unknown; ST=Unknown; L=Unknown; O=Unknown; OU=Unknown; CN=localhost* start date: Oct 6 14:58:16 2020 GMT* expire date: Nov 5 15:58:16 2020 GMT* issuer: C=Unknown; ST=Unknown; L=Unknown; O=Unknown; OU=Unknown; CN=localhost* SSL certificate verify result: self signed certificate (18), continuing anyway. Since the security enable-ssl-http-server command simply generated a self-signed server certificate fortesting purposes, this server certificate won&#8217;t be trusted by curl. This is why we specified the -k optionin the curl command. Notice that in the above output, we can see that the TLS 1. 2 protocol was used for the connectionand that the ECDHE-RSA-AES256-GCM-SHA384 cipher suite was used. Switching to TLS 1. 3: To enable TLS 1. 3, we just need to update our ssl-context configuration in the Elytron subsystem to specify thecipher-suite-names attribute. The format of this attribute is colon separated list of the TLS 1. 3 cipher suitesthat you would like to enable. We&#8217;re going to set this attribute to TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256: # This is only needed when the ssl-context is configured to use specific protocol version(s) other# than TLS 1. 3. In general, this is not needed when the protocols attribute is simply undefined. /subsystem=elytron/server-ssl-context=ssl-context-b0110cb7-595b-4de9-942b-e616690bb350:write-attribute(name=protocols,value=[TLSv1. 3])/subsystem=elytron/server-ssl-context=ssl-context-b0110cb7-595b-4de9-942b-e616690bb350:write-attribute(name=cipher-suite-names,value=TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256)reloadNow, let&#8217;s try to access the WildFly landing page using curl again: * SSL connection using TLSv1. 3 / TLS_AES_256_GCM_SHA384* ALPN, server accepted to use h2* Server certificate:* subject: C=Unknown; ST=Unknown; L=Unknown; O=Unknown; OU=Unknown; CN=localhost* start date: Oct 6 14:58:16 2020 GMT* expire date: Nov 5 15:58:16 2020 GMT* issuer: C=Unknown; ST=Unknown; L=Unknown; O=Unknown; OU=Unknown; CN=localhost* SSL certificate verify result: self signed certificate (18), continuing anyway. Notice that this time, we can see that the TLS 1. 3 protocol was used for the connection and that the TLS 1. 3TLS_AES_256_GCM_SHA384 cipher suite was used. Summary: This blog post has given an overview on how TLS 1. 3 can be used with WildFly with the OpenSSL TLS provider. For more details, take a look at the documentation. " 
        
    } ,  {
        "id": 57,
        "url": "/wildfly-elytron/blog/ssh-auth-for-git-persistence/",
        "link": "",
        "title": "SSH Authentication with Git Persistence",
        "author": "aabdelsa",
        "postDate": "October 14, 2020",
        "body": "When using a standalone WildFly server, it is currently possible to manage your configuration file history using a gitrepository. While previously it was only possible to connect to HTTP git servers, it is now possible to establish a connectionwith SSH servers as well. In order to connect to the SSH git repository, you will have to use an Elytron configuration file to set up SSH credentials. This blog will describe how to generate SSH keys and add them as credentials in a wildfly-config. xml file and how tostart the standalone server with an SSH git repository to manage your configuration file history. Generating SSH keys using the Elytron ToolThe wildfly-config. xml configurationGenerating SSH keys using the OpenSSH command line toolThe wildfly-config. xml configurationConnecting to a git repoGenerating SSH keys using the Elytron Tool: Elytron offers a way to generate and store private keys securely in a credential store. We can use the Elytron tool scriptsfound in your JBOSS home to do so. For this example, we will be creating a new credential store and generating an RSA key. First, we must create the credential store: [$JBOSS_HOME]$ . /bin/elytron-tool. sh credential-store --create --location=cs_example. cs --password ElytronThis command creates a credential store in the file cs_example. cs and secures the credential store with the passwordElytron. Note the file cs_example. cs does not need to exist before running this command to create the credential store. Next, we generate a key pair to store in the credential store: [$JBOSS_HOME]$ . /bin/elytron-tool. sh credential-store --location=cs_example. cs --password Elytron --generate-key-pair example --algorithm RSA --size 3072This command generates an RSA key pair credential of size 3072 bytes and stores it under the alias example in the credentialstore we created. Finally, we can print our public key with the following command: [JBOSS_HOME]$ . /bin/elytron-tool. sh credential-store --location=cs_example. cs --password Elytron --export-key-pair-public-key examplessh-rsaAAAAB3NzaC1yc2EAAAADAQABAAABgwo8etzxo2JiERvv07/Cvkb6eIqodZrdWWAI11cp0VYgnEvd5dGoYGSHmDWO5EqXdOLROifr+CmOGUEWRIwSy+W13QywZbnrmDPJbx4e/KckVvhpEtq3AZc2w7Zunob+yxGlX9PyeYI4HEsKmwOi+brqeBD7fo923U9FUyqs47pu088tpuoYo2kcxX7BJP+uxfEIkZECWkQcolL8qMl4PkUvzWnTv+KjRzUXYAHEefdqpMa+th58KmB7W8An8weJ85/nerbOkVxN6dAbDO82at77LvaRRDh+65ur1JfTWf1iS+fH2TwTv5e/RGNOnV4sdpNcKVfZ3AWVKp5kmt+x0EQsCalFiDwGyciIjQ1jA8NRr83/LQgdzHsDZ7Amudc25IEwRdXS9BYxTqAMeBLoxHqDKAZ6uiZoPH4QfaVYSXeF3GrYUC2Fzg5P1VKa1OJQOb3itztXsor2vFVtQeUjQ3lv63FN8YE6HnS2PRhbqn9Ep0oh/QqbhlK4vtY+WtY5UWBf7Q==If you already have an SSH key pair, it is possible to import the key into a credential store. See theCredential Store Documentationfor more information The wildfly-config. xml configuration: Once we have our key pair credential in a credential store, we can reference it from our wildfly-config. xml file as follows: &lt;configuration&gt; &lt;authentication-client xmlns= urn:elytron:client:1. 6 &gt;   &lt;credential-stores&gt;    &lt;credential-store name= store1 &gt;      &lt;protection-parameter-credentials&gt;       &lt;clear-password password= Elytron /&gt;      &lt;/protection-parameter-credentials&gt;      &lt;attributes&gt;       &lt;attribute name= keyStoreType  value= JCEKS /&gt;        &lt;attribute name= location  value= cs_example. cs /&gt;      &lt;/attributes&gt;    &lt;/credential-store&gt;   &lt;/credential-stores&gt;   &lt;authentication-rules&gt;    &lt;rule use-configuration= example-config /&gt;   &lt;/authentication-rules&gt;   &lt;authentication-configurations&gt;    &lt;configuration name= example-config &gt;      &lt;credentials&gt;       &lt;credential-store-reference store= store1  alias= example  clear-text= Elytron /&gt;      &lt;/credentials&gt;    &lt;/configuration&gt;   &lt;/authentication-configurations&gt; &lt;/authentication-client&gt;&lt;/configuration&gt;This configuration defines a new credential store from the file we created. It then references the alias example (whichstores the RSA key pair we generated) to be used as credentials. Generating SSH keys using the OpenSSH command line tool: Alternatively, one may use the OpenSSH command line tool to generate their SSH keys. The algorithms supported by Elytronare: RSA, DSA, and ECDSA. For example, we can generate an ECDSA key of size 256 and encrypted with the passphrase “secret”as follows: [~/. ssh]$ ssh-keygen -t ecdsa -b 256Generating public/private ecdsa key pair. Enter file in which to save the key (/home/user/. ssh/id_ecdsa):Enter passphrase (empty for no passphrase): secretEnter same passphrase again: secretYour identification has been saved in /home/user/. ssh/id_ecdsa. Your public key has been saved in /home/user/. ssh/id_ecdsa. pub. For more information on how to generate OpenSSH keys see: OpenSSH Documentation The wildfly-config. xml configuration: If you already have SSH keys generated, you can add them as credentials a couple of ways: Key Pair Credential: One way is to specify your keys directly in the wildfly-config. xml using a key-pair credential as follows: &lt;configuration&gt; &lt;authentication-client xmlns= urn:elytron:client:1. 6 &gt;   &lt;authentication-rules&gt;    &lt;rule use-configuration= example /&gt;   &lt;/authentication-rules&gt;   &lt;authentication-configurations&gt;    &lt;configuration name= example &gt;      &lt;credentials&gt;       &lt;key-pair&gt;         &lt;openssh-private-key pem= -----BEGIN OPENSSH PRIVATE KEY-----b3BlbnNzaC1rZXktdjEAAAAACmFlczI1Ni1jdHIAAAAGYmNyeXB0AAAAGAAAABDaZzGpGV922xmrL+bMHioPAAAAEAAAAAEAAABoAAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBIMTU1m6pmpnSTZ2k/cbKnxXkRpXUmWwqN1SSNLpRswGsUhmLG2H21br1ZlEHRiRn6zQmA4YCtCw2hLuz8M8WVoAAADAQk+bMNWFfaI4Ej1AQdlLl6v4RDa2HGjDS3V439h0pOx4Ix7YZKydTN4SPkYRt78CNK0AhhtKsWo2lVNwyfh8/6SeqowhgCG9MJYW8yRR1R3DX/eQTx6MV/gSSRLDTpcVWUY0jrBGpMaEvylKoNcabiEo44flkIYlG6E/YtFXsmXsoBsjnFcjvmfE7Lzyin5Fowwpbqj9f0XOARu9wsUzeyJVAwT7+YCU3mWJ3dnO1bOxK4TuLsxD6jRB7bJemsfr-----END OPENSSH PRIVATE KEY----- &gt;          &lt;clear-password password= secret /&gt;         &lt;/openssh-private-key&gt;       &lt;/key-pair&gt;      &lt;/credentials&gt;    &lt;/configuration&gt;   &lt;/authentication-configurations&gt; &lt;/authentication-client&gt;&lt;/configuration&gt;This configuration shows how to specify keys which are in OpenSSH format. In this example, we specify the passphrase secretthat is required to decrypt the key as a clear-password type, but we could have also used a masked-password or acredential-store-reference. Elytron also supports keys in PKCS8 format, but they must not be encrypted with a passphrase. SSH credential: The other way to add existing keys as credentials is to specify the location and file name containing your private keysusing a ssh-credential as follows: &lt;configuration&gt; &lt;authentication-client xmlns= urn:elytron:client:1. 6 &gt;   &lt;authentication-rules&gt;    &lt;rule use-configuration= example /&gt;   &lt;/authentication-rules&gt;   &lt;authentication-configurations&gt;    &lt;configuration name= example &gt;      &lt;credentials&gt;       &lt;ssh-credential ssh-directory= /user/home/example/. ssh  private-key-file= id_test_ecdsa  known-hosts-file= known_hosts_test &gt;         &lt;clear-password password= secret /&gt;       &lt;/ssh-credential&gt;      &lt;/credentials&gt;    &lt;/configuration&gt;   &lt;/authentication-configurations&gt; &lt;/authentication-client&gt;&lt;/configuration&gt;The ssh-directory attribute specifies the location of the key and the known hosts file. The private-key-file attribute specifies the name of the file containing your private key. The known-hosts-file attribute specifies the name of the file containing the known SSH hosts. This key was encrypted with the passphrase secret and so we specify a clear-password to be able to decrypt it, butagain we could have also used a masked-password or a credential-store-reference. It is also possible to specify both a key-pair credential and ssh-credential at the same time if you wouldlike to specify your private key using a key-pair but your known_hosts file is not in the default [user. home]/. ssh location and you needto use the ssh-credential to specify its location. For more information on the key-pair credential and ssh-credential check out theElytron Authentication Client Documentation Connecting to a git repo: Once we have added our credentials in a wildfly-config. xml file, we can connect to the remote SSH git repo. To connect, we use the SSH url of this repo and specify the following options when starting the standalone WildFly server: [JBOSS_HOME]$ . /bin/standalone. sh --git-repo=ssh:giturl. com/repo --git-auth=file:///path/to/wildfly-config. xmlThe --git-repo option specifies the uri of the git repo we would like to connect to. The --git-auth option specifies the location of the wildfly-config file containing your credentials. And all done! We should be able to successfully start up our standalone server and your configuration file history will bemanaged by the repository we connected to. For more information on git persistence, check out: Git Configuration file history " 
        
    } ,  {
        "id": 58,
        "url": "/wildfly-elytron/blog/resteasy-elytron-client-integration/",
        "link": "",
        "title": "RESTEasy client integration with WildFly Elytron client",
        "author": "dvilkola",
        "postDate": "October 14, 2020",
        "body": "We have added a new functionality to the RESTEasy client that allows it to use authentication configuration from WildFly Elytron client. It is now possible to configure bearer token, SSL context and credentials in Elytron client that RESTEasy client will automatically use when making requests. Elytron client configuration: No new elements have been added to the Elytron client configuration as all of the mentioned mechanisms were already configurable. Configured credentials will be used for HTTP Basic authentication by default. For more information on how to configure Elytron client take a look at the documentation. Please note that any configuration that RESTEasy client already had configured will not be rewritten. RESTEasy client use: It is necessary to have WildFly Elytron client on classpath when the build method of RESTEasy client is called: import javax. ws. rs. client. ClientBuilder;import org. jboss. resteasy. client. jaxrs. ResteasyClient;. . . ResteasyClient client = new ResteasyClientBuilder(). build();or: ResteasyClient client = (ResteasyClient) ClientBuilder. newBuilder(). build();Make sure you have the following dependency on your classpath: &lt;dependency&gt;  &lt;groupId&gt;org. wildfly&lt;/groupId&gt;  &lt;artifactId&gt;wildfly-client-all&lt;/artifactId&gt;  &lt;version&gt;21. 0. 0. Final&lt;/version&gt;&lt;/dependency&gt;Note: You can have Elytron client configured either in wildfly-config. xml file or in code like below: AuthenticationConfiguration context = AuthenticationConfiguration. empty(). useName( name ). usePassword( pass );AuthenticationContext. empty(). with(MatchRule. ALL, context). run(() -&gt; {  ResteasyClient client = new ResteasyClientBuilder(). build();  . . . });Example: An example demonstrating this integration can be found here. In this example, two-way SSL is configured on the server. Additionally, HTTP BASIC authentication is required to connect to the server as well. RESTEasy client uses SSLContext and credentials from Elytron client to successfully connect to the server. Supply your own security configuration to RESTEasy client: You can also provide your own implementation of the org. jboss. resteasy. client. jaxrs. spi. ClientConfigProvider interface and supply authentication configuration from other source than Elytron client. Summary: This blog post has given an overview of RESTEasy client integration with WildFly Elytron client. " 
        
    } ,  {
        "id": 59,
        "url": "/wildfly-elytron/blog/new-security-features-in-wildfly-21/",
        "link": "",
        "title": "New Security Features in WildFly 21",
        "author": "fjuma",
        "postDate": "October 14, 2020",
        "body": "This blog post highlights the new security features that are in WildFly 21. Security Realm Enhancements: If a security realm becomes unavailable for some reason, it is now possible to fail over to an alternate securityrealm. WildFly 21 also adds support for distributed security realms, where identities can be stored in multiple securityrealms. When retrieving an identity from a distributed security realm, each of the configired realms is invokedsequentially until a realm containing the identity is found. For an overview of these two new realm implementations, check out this blog post. Client Integration: It&#8217;s now possible for RESTEasy clients to make use of authentication information like credentials and SSL configurationfrom an Elytron client configuration file. Check out this blog postto see an example of how to make use of this new feature. Additional Authentication Mechanisms: When using a remote Git repository to manage your WildFly configuration file history, it&#8217;s now possible toconnect to your Git repository using SSH authentication. For details on how to specify the SSHcredentials that are needed to connect to your Git repository, take a look at thisblog post. Support for the HTTP External authentication mechanism has now been added to WildFly. This means thatit is now possible for WildFly to authenticate a user based on credentials established externally. More details can be found in this blog post. TLS 1. 3 Support with OpenSSL: A little while ago, we added support for TLS 1. 3 for WildFly when using the JSSE TLS provider. WildFly 21 nowadds support for TLS 1. 3 when using the OpenSSL TLS provider. As with the JSSE TLS provider, there is an importantcaveat to be aware of when using the OpenSSL TLS provider with TLS 1. 3. If JDK 11 is in use and if there is a verylarge number of TLS 1. 3 requests being made, it is possible that a drop in performance (throughput and response time)will occur compared to when using TLS 1. 2 with WildFly. It is recommended to test for performance degradation priorto enabling TLS 1. 3 in a production environment. Take a look at thisblog postto learn how to enable TLS 1. 3 when using the OpenSSL TLS provider. Where to Find More Information: Be sure to check out our blog posts page, where we have all ourblog posts on Elytron features. If there is an Elytron topic you’d like to see a blog post on, feel free to let us knowon WildFly’s user forums. To learn more about Elytron, check out our site. " 
        
    } ,  {
        "id": 60,
        "url": "/wildfly-elytron/blog/http-external-mechanism/",
        "link": "",
        "title": "HTTP External Mechanism",
        "author": "aabdelsa",
        "postDate": "October 14, 2020",
        "body": "WildFly Elytron now supports authenticating users with the External HTTP mechanism. The External mechanism allows users tobe authenticated with credentials established outside the server via the AJP protocol. This means if you have users authenticatedby an Apache httpd server, these users can be forwarded to WildFly. This can be done by setting upElytron to secure a WildFly deployment and specifying for the External HTTP mechanism to be used. This is done by specifyingthe EXTERNAL mechanism as one of the mechanism configurations to be used by the http-authentication-factory: /subsystem=elytron/http-authentication-factory=web-tests:add(security-domain=example-domain, http-server-mechanism-factory=example-factory,mechanism-configurations=[{mechanism-name=EXTERNAL}])If your application is secured using this http-authentication-factory and a remote server forwards an authenticateduser using the REMOTE_USER attribute via the AJP protocol, Elytron will accept the externally authenticated user anduse the specified security domain to perform role mapping to complete authorization. " 
        
    } ,  {
        "id": 61,
        "url": "/wildfly-elytron/blog/distributed-and-failover-realms/",
        "link": "",
        "title": "An overview of new security realm implementations",
        "author": "mmazanek",
        "postDate": "October 14, 2020",
        "body": "We have added a new functionality to WildFly Elytron It is now possible to configure security realms that delegate authentication and authorization to multiple realms. Distributed realm: First added realm is the distributed-realm, which can be used to join multiple realms into one, for example if youhave user data on two databases. Unlike aggregate-realm, which uses one realm for authentication and multiple realmsor authorization, distributed-realm uses multiple realms for both authentication and authorization. Lets say we have two realms called realm1 and realm2, which we want to use as one. We can do so in CLI using following command: /subsystem=elytron/distributed-realm=newrealm:add(realms=[realm1, realm2])which results in following configuration: &lt;security-realms&gt;. . .   &lt;distributed-realm name= newrealm  realms= realm1 realm2 /&gt;. . . &lt;/security-realms&gt;The new distributed-realm newrealm will use both realm1 and realm2 for authentication and authorization. Failover realm: The other added realm is the failover-realm, which enables you to configure a backup realm in case another realm isunavailable. For example, we can have a file based as a backup for database realm,so we can still access the deployed application using backup identity stored in the file based realm,even if we lose network connection to the jdbc-realm database. Lets say we have user data in jdbc-realm called realm1 and we want to use filesystem-realm called realm2 as a backup. We can do this in CLI using following command: /subsystem=elytron/failover-realm=newrealm:add(delegate-realm=realm1, failover-realm=realm2)which results in following configuration: &lt;security-realms&gt;. . .   &lt;failover-realm name= newrealm  delegate-realm= realm1  failover-realm= realm2 /&gt;. . . &lt;/security-realms&gt;The new failover-realm newrealm will use realm1 as a primary realm for authentication and authorization, but if therealm becomes unavailable, it will switch to using realm2. The failover happens per authentication, so if the realm1 becomesunavailable for a short time, you will be able to authenticate using it as soon as it comes back up without any reloads. Summary: This blog post has given an overview of WildFly Elytron distributed-realm and failover-realm. " 
        
    } ,  {
        "id": 62,
        "url": "/wildfly-elytron/blog/anomaly-based-intrusion-detection-system/",
        "link": "",
        "title": "Anomaly based Intrusion Detection System",
        "author": "piyush-palta",
        "postDate": "August 29, 2020",
        "body": "Intrusion Detection is the art of sensing when a system or network is being used inappropriately or without authorization. Without intrusion detection, an attacker can attempt attacks many times until an attack is finally successful. Intrusion detection allows for these attacks to be identified before a successful attack is likely to occur. In this blog, we’ll talk about an Anomaly detection based approach for Intrusion Detection System. First of all, let’s discuss what the whole concept of anomaly based intrusion detection is. Anomaly based intrusion detection uses statistics to form a baseline usage of the networks at different time intervals. This system uses machine learning to create a model simulating regular activity and then compares new behaviour with the existing model. Before we continue with defining anomaly based IDS, here are a few things you should know: Machine Learning is the field of study that gives computers the capability to learn and improve from experience without being programmed to do so explicitly. The process of learning begins with observations or data to look for patterns in data and make better predictions based on the dataset provided. The primary objective is to allow computers to learn without human assistance and adjust its actions accordingly. Machine Learning Algorithms can be broadly classified into: Supervised machine learning algorithms: It is called supervised learning because the process of an algorithm learning from the training dataset can be thought of as a teacher supervising the learning process. We know the correct answers, the algorithm iteratively makes predictions on the training data and is corrected by the teacher. Learning stops when the algorithm achieves an acceptable level of performance. The teacher here is the labelled dataset, that provides us with information &amp; facilitates learning. Unsupervised machine learning algorithms: are used when the information used to train is neither labelled nor classified. Unattended learning studies how systems can infer a function to describe a hidden structure from unlabeled data. Semi-supervised machine learning algorithms: makes use of unlabeled data for training — with a blend of less labelled data and a lot of unlabeled data. Semi-supervised learning falls between unsupervised learning and supervised learning Evaluation of different Machine Learning Models for IDS: Unsupervised learning algorithms can learn the typical pattern of the network and can report outliers without labelling the dataset. It can detect new types of intrusions but is extremely prone to false positives. To reduce the false positives, we can introduce a labelled dataset and build a supervised machine learning model by teaching it the difference between a normal and an attack packet in the network, basically we will be labelling the normal &amp; malicious traffic. The supervised model can handle the known attacks deftly and can also recognise variations of those attacks. Standard supervised algorithms such as Naive Bayes, Random Forest Classifier, MLP and Deep Neural Network are discussed below. Apart from the algorithm used, one of the most important things while writing a Machine model and training it, is the dataset used. And the quality and extensiveness of the dataset determines the quality of the model &amp; how well it will perform generally. For many years, KDD99 Dataset has been a benchmark for IDS model training &amp; evaluations. But to fully customise your model as per your network server and to train your model to handle anomalies in your network, it is important for it to train a model specifically for your network, and let the model learn what normal traffic looks like for your network i. e. normal and anomalous traffic for each network is different. One can use both supervised and unsupervised learning for this purpose. To solve this problem &amp; generate customisable dataset, we have implemented Network Intrusion Dataset Generator that lets you capture your network traffic using scapy and generates a csv file that can readily be used for training your model after preprocessing the dataset. The best part is, it is fully customizable and one can choose to keep whatever features they want. You can find the implementation here Code presented here is an implementation to generate csv file from packets captured on the network. One can also convert already captured packets in a pcap file to csv. The current implementation hasn&#8217;t applied many filters on capturing of packets &amp; can be extended according to one&#8217;s own need. Coming back to different models, let’s evaluate how each model fares on KDD99 Dataset (for testing we’ve used KDD99 Dataset). We have used scikit-learn models for the evaluation, implementation of all the models can be found in this colab notebook here. Let’s talk in brief about what each model does (we won’t discuss which model is the best here since each model will serve good for different purposes &amp; different datasets, so for now we’ll skip discussing the metrics. Although, if one wishes they can look at the accuracy we are getting for the KDD99 dataset for each model by running the cells in the colab notebook. Random Forest Classifier :: Random forest, like its name implies, consists of a large number of individual decision trees that operate as an ensemble. Each individual tree in the random forest spits out a class prediction and the class with the most votes becomes our model’s predictionIt basically is like an election where uncorrelated models votes to choose a class, and the rule is majority wins. Figure 1. Visualization of how Random Forest Classifier worksNaive Bayes Classifier :: Naive Bayes classifiers are a collection of classification algorithms based on Bayes’ Theorem. It is not a single algorithm but a family of algorithms where all of them share a common principle, i. e. every pair of features being classified is independent of each other. MLP (Multi-layered Perceptron) :: A multi-layered perceptron consists of interconnected neurons transferring information to each other, much like the human brain. Each neuron is assigned a value. The network can be divided into three main layers : Input Layer Hidden Layer(s) Output Layer Figure 2. Representation of Multi-layered PerceptronThe MLP is a feedforward neural network, which means that the data is transmitted from the input layer to the output layer in the forward direction. The connections between the layers are assigned weights. These weights are calculated by a mathematical function and adjusted based on the provided dataset to minimize the cost function. Deep Neural Network: Deep Neural Network is similar to MLP, it’s just that it supports backpropagation. Backpropagation is a technique used to optimize the weights of a neural net using the outputs as inputs. Conventionally, random weights are assigned to all the connections. These random weights propagate values through the network to produce the output. Naturally, this output would differ from the expected output. The difference between the two values is called the error. Backpropagation refers to the process of sending this error back through the network, readjusting the weights automatically so that eventually, the error between the actual and expected output is minimized. Feature Analysis: Enough on briefing each separate model, let’s have a look at the feature analysis of KDD dataset. This brief discussion below is based on research paper. The KDD data set has 42 attributes. The attribute labeled 42 in the data set is the ‘class’ attribute which indicates whether a given instance is a normal connection instance or an attack. Out of these 42 attributes, 41 attributes can be classified into four different classes as discussed below: Basic, B Features are the attributes of individual TCP connections Content ,C features are the attributes within a connection suggested by the domain knowledge Traffic, T features are the attributes computed using a two-second time window Host, H features are the attributes designed to assess attacks which last for more than two seconds Figure 3. Attributes in KDD99 DatasetThe conclusion of the result is that Basic features alone results in highest accuracy. One can find more details and all the metrics in the research paper provided above. Summary:: In this blog, we introduced an anomaly based Intrusion Detection System &amp; discussed various machine learning models &amp; its implementation. " 
        
    } ,  {
        "id": 63,
        "url": "/wildfly-elytron/blog/introduction-rule-engine-and-blacklist-dump/",
        "link": "",
        "title": "Introduction to Rule Engine & Blacklist IP Dump of Intrusion Detection System",
        "author": "piyush-palta",
        "postDate": "July 27, 2020",
        "body": "Earlier we introduced Intrusion Detection System using Elytron&#8217;s security events and discussed its architecture. In this blog we&#8217;ll discuss the implementation of Rule Engine &amp; Blacklist IP Dump. Rule Engine: Rule Engine comprises of a set of pre-defined rules, which are used to score the event on a scale of 0 to 100. This score helps determine whether an event is safe or risky, this can be decided by setting a risk threshold. Rule Engine is backed by a database that has information such as IP address, user id, event outcome(success or failure) of past security events. Each entry in database has Time to live(TTL) or hop limit of 3 hours, which can be configured based on requirement. Generally speaking rule based engines are robust but can only take on already identified &amp; can&#8217;t do much about new attacks. It does only as much as it is asked for, which though results in extremely low false positives doesn&#8217;t scale well to all situations. That&#8217;s when Machine Learning &amp; anomaly detection engines come into the picture. These engines are currently under development &amp; will be introduced in future posts. Coming back to the Rule Engine, current implementation focuses mainly to prevent dictionary &amp; brute force attacks from happening. There are four rules, each addressing different use cases : Multiple login attempts from same IP Multiple login attempts for same user ID via different IPs Multiple login attempts from IP that was used to access same user ID in past (the risk is relatively low here) Multiple incorrect user ID attempts due to typo (We use edit_distance to subsidize the penalty for each attempt) Implementation available at : https://github. com/piyush-palta/risk-analyzer/blob/master/risk_calculator/rule_engine. py Blacklist IP Dump: Blacklist IP Dump is a database of all the IPs that are blacklisted over the internet for malicious behaviour. One such source of blacklisted IP addresses is myip. ms. These IPs are provided in a text file &amp; stored in a sqlite3 based database. IPs are hashed as integers for easy lookup i. e. O(logN) lookup. If an IP is found to be present in this database, highest possible score of 100 is returned and the event is forfeited. Implementation available at : https://github. com/piyush-palta/risk-analyzer/blob/master/risk_calculator/blacklist_ip. py Summary:: In this blog, we introduced the rule engine &amp; blacklist IP dump of Intrusion Detection System using Elytron&#8217;s security events &amp; discussed their implementation. " 
        
    } ,  {
        "id": 64,
        "url": "/wildfly-elytron/blog/architectural-overview-intrusion-detection-system/",
        "link": "",
        "title": "An Introduction to Intrusion Detection System using Elytron",
        "author": "piyush-palta",
        "postDate": "June 30, 2020",
        "body": "Intrusion Detection is the art of sensing when a system or network is being used inappropriately or without authorization. Without intrusion detection, an attacker can attempt attacks many times until an attack is finally successful. Intrusion detection allows for these attacks to be identified before a successful attack is likely to occur. In this blog, we’ll talk about an architectural overview of a system that uses Elytron’s security events for intrusion detection &amp; prevention and discuss briefly about each component and their interactions within the system as a whole. Later, we’ll understand the implementation &amp; how the system’s architecture has been realised. Elyton’s core concepts comprises Authentication &amp; Authorization and is based on a Security Policy that utilises several smaller components together to work. In addition to that it provides support for security events which can indicate things like a failed authentication attempt for a particular user. These security events can be used to detect various attacks such as Brute force, Dictionary attack etc. So the high level idea is to log the security events in a data store system, and harness information provided to make predictions on a possible network breach. Figure 1. Architecture of Intrusion Detection SystemThe proposed architecture is as depicted in Figure 1.  The idea here is to evaluate the risk posed by an authentication &amp; authorization event based on its attributes &amp; forfeit the event auth if the posed risk is above set threshold limits. NOTE: A general IDS like any other auditing systems, consists of three parts: an agent, a director, and a notifier. The agent corresponds to the logger. It acquires information from the target. The director corresponds to the analyzer. It analyzes the data from the agents to determine if an attack is in progress or has occurred. The director then passesthis information to the notifier, which determines whether and how to notify the requisite entity. The various components of our Intrusion Detection System (IDS) are : Elytron’s Query System (Trigger) Risk Analyzer (Director &amp; Notifier) Syslog Server (Passive Agent) Elytron’s Syslogger (Agent) In this architecture, Elytron’s Query System acts as a trigger, it resides inside of Elytron &amp; queries the IDS for risk analysis of an event. Risk Analyzer has two submodules &amp; acts as a Director i. e. it receives the query &amp; analyses it for threats; as well as Notifier i. e. it provides the system with risk analysis. Elytron’s Syslogger resides inside Elytron and acts as Agent by logging every security event to an external Syslog server, which is a part of IDS &amp; acts as a passive agent. Let’s discuss each component in greater detail. Elytron’s Query System (Risk Role Decoder): Elytron’s Query System resides in Elytron &amp; implemented as a RoleDecoder. An Elytron RoleDecoder takes the raw AuthorizationIdentity return from SecurityRealm and converts its attributes into roles. RiskRoleDecoder makes use of runtime attributes to get hold of remote client’s IP addresses &amp; provides a way to query the Risk Analyzer via Sockets to receive a risk score. RiskRoleDecoder is provided with a threshold risk score, exceeding which leads to assigning empty roles to the auth event, which ultimately leads to authorization failure and further access is denied. In case an event is deemed safe, roles are assigned accordingly. RiskRoleDecoder&#8217;s implementation can be found here. Risk Analyzer: Risk Analyzer is a server module that acts as Director as well as Notifier in IDS. It takes in an IP address &amp; returns a risk score in the range of 0 to 100. The risk score is used to make the authorization decisions based on a set threshold risk. Risk Analyzer comprises several different components : Risk Server Socket, Main Analyzer &amp; Risk Calculator. Risk Server Socket :Risk Server Socket is used to declare a socket server instance, required to open connection to the client. Once the socket has been set up, it will listen for connection until terminated. Current maximum connection limit has been set at 5. While introducing socket threading in future, a more versatile approach will be taken. Risk Calculator :When Risk Analyzer receives a query, it sends the IP Address to Risk Calculator, which is backed by Blacklist IP dump, Rule Engine &amp; a Learning Module. Results from all these will be aggregated &amp; returned to the client. Risk Analyzer is implemented in Python &amp; communicates directly with Elytron via RiskRoleDecoder, which makes use of runtime attributes to access remote client’s IP address, &amp; communicate via a temporary socket. Implementation available at : https://github. com/piyush-palta/risk-analyzer Figure 2. Architecture of Risk AnalyzerSyslog Server: Syslog server is a python based external server for syslogging of Elytron security events and acts as a Passive Agent. These events are logged using the inherent syslogging capabilities of the wildfly or undertow server. For now we’re using an undertow server, due to its sheer versatility. Both TCP &amp; UDP syslogging is possible &amp; with connections served as threads, it will easily scale for practical applications. Implementation available at : https://github. com/piyush-palta/syslog-server Elytron’s Syslogger (Inbuilt Syslog Auditing): Elytron’s Syslogger acts as an agent and logs security events directly to the Syslog server. We are using inbuilt syslog auditing capabilities of the server. Undertow Standalone is a servlet implementation, which uses Wildfly Elytron. We are using this implementation to emit the security events. Implementation available at : https://github. com/piyush-palta/undertow-standalone Summary:: In this blog, we introduced the new Intrusion Detection System using Elytron&#8217;s security events &amp; discussed an overview of its architecture. " 
        
    } ,  {
        "id": 65,
        "url": "/wildfly-elytron/blog/regex-role-mapper/",
        "link": "",
        "title": "Using regex role mapper in Elytron",
        "author": "dvilkola",
        "postDate": "June 16, 2020",
        "body": "Elytron subsystem configuration was enhanced to allow possibility to define a regex based security roles mapping mechanism. With this functionality it is possible to easily translate list of roles, eg. app-admin, abc-user, to simpler roles , eg. admin, user. Add a regex role mapper: You can add a regex-role-mapper to the Elytron subsystem by specifying: pattern string that will be tested by a regex in order to identify which of the input roles are matching replacement string that the resulting security roles should be mapped to keep-non-mapped attribute that specifies whether to keep the roles that did not match the pattern or discard them from resulting roles replace-all attribute that specifies whether to replace all of the occurrences or only the first occurrence of the pattern in the resulting security role. Default value of keep-non-mapped is true and of replace-all is false. Regex role mapper in the example below will extract the domain part from input roles that are in form of an email address in order to convert them to the {extracted_domain}-role format. E. g. : user@gmail. com and user@customApp. com input roles would result in gmail-role and customerApp-role security roles. Attribute keep-non-mapped= true  is used to keep the roles that do not match the regex (those that were not in form of an email). &lt;mappers&gt;. . . 	&lt;regex-role-mapper name= my-rrm  pattern= . *@([a-z]*)\. . *  replacement= $1-role  keep-non-mapped= true /&gt;. . . &lt;/mappers&gt;Example: Connect to the WildFly CLI and add security domain to the Elytron subsystem with identity that contains roles 123-user, 123-admin. Also add regex-role-mapper and apply it to this security domain. This regex-role-mapper will map roles that match . *-([a-z]*) to the role $1: /subsystem=elytron/filesystem-realm=myFsRealm:add(path=my-fs-realm-users,relative-to=jboss. server. config. dir)/subsystem=elytron/filesystem-realm=myFsRealm:add-identity(identity=joe)/subsystem=elytron/filesystem-realm=myFsRealm:add-identity-attribute(identity=joe, name=Roles, value=[ 123-user , 123-admin ])/subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)/subsystem=elytron/regex-role-mapper=rrm:add(pattern= . *-([a-z]*) , replacement= $1 , keep-non-mapped= false , replace-all= false )/subsystem=elytron/security-domain=mySD:add(realms=[{realm=myFsRealm,role-decoder=from-roles-attribute}],role-mapper=rrm,default-realm=myFsRealm,permission-mapper=default-permission-mapper)Check that when asked for roles of the identity from given security domain, the regex will be used and resulted roles will be correctly mapped from 123-user, 123-admin to user and admin: /subsystem=elytron/security-domain=mySD:read-identity(name=joe){   outcome  =&gt;  success ,   result  =&gt; {     name  =&gt;  joe ,     attributes  =&gt; { Roles  =&gt; [       123-user ,       123-admin     ]},     roles  =&gt; [       admin ,       user     ]  }}Summary: This blog post has given an overview on how to use regex-role-mapper in Elytron subsystem. " 
        
    } ,  {
        "id": 66,
        "url": "/wildfly-elytron/blog/planned-security-features-for-wildfly-21/",
        "link": "",
        "title": "Planned Security Features for WildFly",
        "author": "fjuma",
        "postDate": "June 11, 2020",
        "body": "Since the feature development phase for WildFly 21 has now started, we wanted to highlight thenew security features that we will be working on. Planned Features: Security Realm Enhancements: WFCORE-4485 Support for multiple security realms - Distributed Identities This new feature will make it possible to use multiple security realms by sequentially invoking the each of the configuredrealms until a realm that contains the identity is found. More details can be found here. WFCORE-4486 Support for multiple security realms - Failover If a security realm becomes unavailable for some reason, it will be possible to failover to an alternate realm. More detailscan be found here. Client Integration: ELY-1891 Revisit Rest integration with WildFly Elytron - AuthenticationClient for Authentication / SSL This feature looks at security integration for RESTEasy clients. More information about this feature can be found here. Expression Resolution: WFC0RE-4360 Support expression resolution backed by a credential store Currently, credential store references can be used anywhere in the model where a credential needs to be specified. This feature will make it possible to encrypt other attribute values stored in the management model. More details can be found here. Additional Authentication Mechanisms: WFC0RE-4484 Support SSH authentication for Git persistence It will be possible to use SSH authentication via Elytron when using Git to manage and persist your WildFly configuration file. More details are available here. WFC0RE-4853 Support for HTTP External authentication mechanism This feature adds support for the HTTP External authentication mechanism with Elytron, making it possible toauthenticate a user based on credentials established externally. More details can be found here. WEJBHTTP-43 Ability to use BEARER/JWT authentication when using EJB over HTTP This feature looks at adding support for BEARER/JWT authentication for EJB invocations over HTTP. More details can be found here. SSL/TLS Enhancements: WFCORE-4842 Add support for TLSv1. 3 using the OpenSSL TLS provider We recently added support for TLS 1. 3 for WildFly when using the JSSE TLS provider with Elytron. This feature will alsoadd support for TLS 1. 3 when using the OpenSSL TLS provider with Elytron. More information can be found here. ELY-1996 SSLContext to support delegation to alternate instances based on peer information As an SSLEngine is created, the host and port information is available at the time the engine is requested. This featurelooks at making use of this information to dynamically select alternative configurations. Summary: As usual, please keep in mind that this blog post is a summary of our general plans and not a guaranteethat each of these features will be merged for WildFly 21. However, this blog post does give an indicationof our team’s current priorities. If any of these features are a priority for you, please let us know. Please also let us know if there are any security features that are missing that you would like to seeprioritized as we can take this kind of feedback into account for future releases. " 
        
    } ,  {
        "id": 67,
        "url": "/wildfly-elytron/blog/advanced-ejb-security/",
        "link": "",
        "title": "Advanced EJB: Securing EJBs using a FileSystem realm and invoking them from a remote client using a credential store",
        "author": "szaldana",
        "postDate": "June 11, 2020",
        "body": "The ejb-security quickstart demonstrates an advanced example on how to secure EJBs using a FileSystem realm withSCRAM-SHA-512 SASL authentication along with a client credential store. The focus is on the Elytronconfiguration, so if you wish to learn more about using Jakarta EE declarative security to control access to EJBs pleaserefer to this blog. An Overview of the FileSystem Realm: By default, when using the Elytron security subsystem, our application uses a properties file-based identity store. In this example, we wish to use a FileSystem realm which stores the identity information on a FileSystem by paging each identity in an XMLalong with its credentials and roles. Configuring a FileSystem Realm: We start our configuration by connecting to the server using the following command: $ WILDFLY_HOME/bin/jboss-cli. sh --connectNote: Use of WILDFLY_HOMEIn the following post, replace WILDFLY_HOME with the actual path to your WildFly installation. We then create a FileSystem realm under the Elytron subsystem by specifying a directory where to store these identities. Noticein this case, we are storing the identities in a directory called fs-realm-users relative to jboss. server. config. dir: /subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-realm-users, relative-to=jboss. server. config. dir)We can then add an identity, along with its password and role. For the implementation of this example, we need an identityquickstartUser, whose password is quickstartPwd1! and whose Role is guest: /subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:set-password(clear={password=quickstartPwd1!}, identity=quickstartUser)/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[guest])We then add a role decoder which will convert attributes from the identity provided by the security realm into roles: /subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)For more information about creating FileSystem realms along with all of its possible configurations,please refer to the Elytron documentation. Configuring the Security Domain: We first configure an Elytron security domain called fsSD to use the FileSystem realm and role decoder we specifiedas follows: /subsystem=elytron/security-domain=fsSD:add(realms=[{realm=fsRealm, role-decoder=from-roles-attribute}], default-realm=fsRealm,permission-mapper=default-permission-mapper)Note that creating an additional security domain (fsSD in this case) is not necessary. We could alternatively take the default ApplicationDomain and add theFileSystem realm, role-decoder and permission-mapper to it. We configure a security domain other in our EJB (as demonstrated by the @SecurityDomainannotation). Since security for EJBs is handled by legacy security subsystems when deploying with WildFly,we need to configure the security subsystem to be handled by Elytron by adding our security domain mapping in theEJB subsystem as follows: /subsystem=ejb3/application-security-domain=other:add(security-domain=fsSD)Enabling SCRAM-SHA-512: Multiple authentication mechanisms can be configured for different protocols. Elytron provides support for two types ofauthentication: HTTP authentication and SASL authentication. We want our SASL authentication factory to makeuse of the FileSystem security domain we configured. Therefore, we add said security domain as follows: /subsystem=elytron/sasl-authentication-factory=application-sasl-authentication:write-attribute(name=security-domain, value=fsSD)By default, our authentication factory has enabled JBOSS-LOCAL-USER and DIGEST-MD5. Therefore, we enable SCRAM-SHA-512as an additional SASL authentication mechanism by updating thesasl-authentication-factory as follows: /subsystem=elytron/sasl-authentication-factory=application-sasl-authentication:list-add(name=mechanism-configurations, value={mechanism-name=SCRAM-SHA-512})Finally, we update the http-remoting-connector to use our updated application-sasl-authentication-factory as follows: /subsystem=remoting/http-connector=http-remoting-connector:write-attribute(name=sasl-authentication-factory,value=application-sasl-authentication). Configuring the Credential Store: For the purpose of this example, we aim to provide a more secure setup than specifying the client&#8217;s password inclear-text in the wildfly-config. xml file. As a result, we create a credential store locally as follows: $ WILDFLY_HOME/bin/elytron-tool. sh credential-store --create --location  /PATH/TO/mycredstore. cs  --password StorePasswordNote this creates a credential store mycredstore. cs locally with a corresponding password StorePassword. We thenadd an alias (quickstartUser) storing the password (quickstartPwd1!) to be used for the authentication configuration as follows: $ WILDFLY_HOME/bin/elytron-tool. sh credential-store --location  /PATH/TO/mycredstore. cs  --password StorePassword --add quickstartUser --secret quickstartPwd1!Configuring the Client (wildfly-config. xml): Upon inspecting our wildfly-config. xml, notice how the credential store to be used by the authentication client isspecified: &lt;credential-stores&gt;  &lt;credential-store name= mycredstore &gt;    &lt;attributes&gt;      &lt;attribute name= keyStoreType  value= JCEKS /&gt;      &lt;attribute name= location  value= PATH/TO/mycredstore. cs &gt;&lt;/attribute&gt;    &lt;/attributes&gt;      &lt;protection-parameter-credentials&gt;        &lt;clear-password password= StorePassword /&gt;    &lt;/protection-parameter-credentials&gt;  &lt;/credential-store&gt;&lt;/credential-stores&gt;Note you would need to replace  PATH/TO/mycredstore. cs  with the actual path to your credential store. Then, notice the reference to our credential store along with the alias to extract the password from, and thespecification of the desired authentication mechanism under the &lt;authentication-configurations&gt; tag: &lt;authentication-configurations&gt;  &lt;configuration name= default-config &gt;    &lt;set-user-name name= quickstartUser /&gt;    &lt;credentials&gt;      &lt;credential-store-reference store= mycredstore  alias= quickstartUser /&gt;    &lt;/credentials&gt;    &lt;sasl-mechanism-selector selector= SCRAM-SHA-512 /&gt;    &lt;providers&gt;      &lt;use-service-loader /&gt;    &lt;/providers&gt;  &lt;/configuration&gt;&lt;/authentication-configurations&gt;Also, note the &lt;providers&gt; tag which will result in the Elytron providers being registered. Summary: In this blog post, we have taken a look at FileSystem realms, SCRAM-SHA-512 authentication and client credentialstores. This post described how to configure these components in relation to EJB security. " 
        
    } ,  {
        "id": 68,
        "url": "/wildfly-elytron/blog/using-remote-client-ip-for-authorization/",
        "link": "",
        "title": "Using the IP Address of a Remote Client for Authorization Decisions",
        "author": "fjuma",
        "postDate": "June 08, 2020",
        "body": "WildFly 20 adds the ability to make use of the IP address of a remote client when makingauthorization decisions. This blog post will give an overview of this new feature. Authorization Decisions: Roles and permissions can be assigned to a security identity based on attributes that areloaded from the identity&#8217;s security realm. Sometimes it might be necessary to also takeinto account the IP address of a remote client when making authorization decisions. As anexample, we might want to make use of the IP address of a remote client in order to assigna user a particular role when establishing a connection to the server from a corporatenetwork and a different role when establishing a connection to the server from a differentnetwork. This can now be done using a new role decoder in the Elytron subsystem. Source Address Role Decoder: A role decoder that assigns roles to an identity based on the IP address of the remote clientcan be configured using a new source-address-role-decoder resource in the Elytron subsystem. For example, a source-address-role-decoder can be added as follows: /subsystem=elytron/source-address-role-decoder=myRoleDecoder:add(source-address= 10. 10. 10. 10 , roles=[admin])The source-address attribute in the above command specifies the IP address. Instead ofspecifying the IP address directly, it&#8217;s also possible to use the patternattribute instead to configure a regular expression that specifies the IP address to match. Only one of source-address and pattern should be specified. The roles attribute indicatesthe list of roles to assign to the identity if the IP address of the remote client matches theconfigured source-address or pattern. The above example command specifies that an identityshould be assigned the admin role when establishing a connection to the server from the10. 10. 10. 10 IP address. Once a source-address-role-decoder has been configured, it can be referenced from asecurity-domain. In the rest of this post, we&#8217;re going to go through a complete example thatshows how to make use of this new resource. We&#8217;re going to be using the EJB Clientto attempt to invoke a secured EJB that has been deployed to WildFly. We&#8217;re going to tryconnecting to the server from different IP addresses. Example Project: First, clone the elytron-examples repo locally: git clone https://github. com/wildfly-security-incubator/elytron-examplescd elytron-examplesWe&#8217;re going to be looking at the source-address-role-decoder project. Server Configuration: A WildFly CLI script that contains all of the commands used in this example can be found in thesource-address-role-decoderproject. Prerequisite Configuration: Let’s first add a user - this is the user that we’re going to use later on when attempting to invoke the EJB. For this example, we’re going to create a filesystem-based identity store and add a user named alice with password alice123+ usingthe following CLI commands: /subsystem=elytron/filesystem-realm=exampleRealm:add(path=fs-realm-users,relative-to=jboss. server. config. dir)/subsystem=elytron/filesystem-realm=exampleRealm:add-identity(identity=alice)/subsystem=elytron/filesystem-realm=exampleRealm:set-password(identity=alice,clear={password=alice123+})/subsystem=elytron/filesystem-realm=exampleRealm:add-identity-attribute(identity=alice,name=Roles,value=[employee])Next, we’re going to add the filesystem-realm that we just created to the ApplicationDomain security domain that is alreadydefined in the default Elytron subsystem configuration and we’re going to make this the default security realm for this security domain: /subsystem=elytron/security-domain=ApplicationDomain:list-add(name=realms, value={realm=exampleRealm})/subsystem=elytron/security-domain=ApplicationDomain:write-attribute(name=default-realm, value=exampleRealm)Finally, we&#8217;ll add an application-security-domain mapping in the EJB3 subsystem to indicate that security for EJBs shouldbe handled by Elytron. We&#8217;ll also update the http-remoting-connector in the Remoting subsystem to reference the SASL authenticationfactory that is backed by our Elytron security domain. /subsystem=ejb3/application-security-domain=other:add(security-domain=ApplicationDomain)/subsystem=remoting/http-connector=http-remoting-connector:write-attribute(name=sasl-authentication-factory, value=application-sasl-authentication)/subsystem=remoting/http-connector=http-remoting-connector:undefine-attribute(name=security-realm)Finally, let&#8217;s reload the server using the :reload command. Configuring a Source Address Role Decoder: Notice that in the prerequisite configuration above, the filesystem-based identity store only assigns alice theemployee role. Let&#8217;s say that we want to assign a user an additional role, admin, if she is connecting fromthe 127. 0. 0. 2 IP address. We can configure this as follows: /subsystem=elytron/source-address-role-decoder=ipRoleDecoder1:add(source-address= 127. 0. 0. 2 , roles=[admin])To make use of this new role decoder, we can update our security domain to reference it: /subsystem=elytron/security-domain=ApplicationDomain:write-attribute(name=role-decoder,value=ipRoleDecoder1)reloadDeploying the EJB: Now that we&#8217;ve finished configuring our server, let&#8217;s deploy our EJB. From the $PATH_TO_ELYTRON_EXAMPLES/source-address-role-decoderdirectory, run the following command: mvn clean install wildfly:deployClient Configuration: The client configuration that we will be using for this example can be found in $PATH_TO_ELYTRON_EXAMPLES/src/main/resources/wildfly-config. xml. Notice that this file contains all of the information that&#8217;s needed to connect to the server. In particular, it specifies thatwe want to use alice as the username and it also specifies her password. (It also specifies that we want to use 127. 0. 0. 2  as the IP address for our EJB Client. We are using this for demonstration purposes here since our serverand client are both running locally. ) Our RemoteClientis going to look up the EJB that&#8217;s deployed on the server and it&#8217;s going to invoke two methods using thatEJB. The first method it invokes requires the employee role. This method simply returns the principal name. The secondmethod our client invokes requires admin role. Let&#8217;s run the client: mvn exec:execNow, let&#8217;s take a closer look at the output: * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *Successfully called secured bean, caller principal alicePrincipal has admin permission: true* * * * * * * * * * * * * * * * * * * * * * * * * * * * * *We can see that we were able to successfully invoke both EJB methods. This is because our filesystem-basedidentity store assigns alice the employee role that&#8217;s required to invoke the first method. Oursource-address-role-decoder assigns alice the admin role since the IP address of our remoteclient is 127. 0. 0. 2. Now, let&#8217;s update our $PATH_TO_ELYTRON_EXAMPLES/src/main/resources/wildfly-config. xml file so that a different IP address will be used for our remote client. To do this, we&#8217;re going to update the bind-address as follows: &lt;bind-address bind-address= 127. 0. 0. 3  bind-port= 61111  match= 0. 0. 0. 0/0 /&gt;Now, try running the client and inspecting the output again: mvn clean install exec:exec* * * * * * * * * * * * * * * * * * * * * * * * * * * * * *Successfully called secured bean, caller principal alicePrincipal has admin permission: false* * * * * * * * * * * * * * * * * * * * * * * * * * * * * *Notice that this time, only one of the two EJB methods can be successfully invoked. In particular,since alice is now connecting from 127. 0. 0. 3 (instead of from 127. 0. 0. 2), our source-address-role-decoderno longer assigns alice the admin role. Thus, she is unable to invoke the method that requires admin role. Aggregate Role Decoders: Note that it&#8217;s also possible to configure an aggregate-role-decoder that is made up of two or more role decoders, as shown in thefollowing example: /subsystem=elytron/source-address-role-decoder=ipRoleDecoder1:add(source-address= 127. 0. 0. 2 , roles=[admin])/subsystem=elytron/source-address-role-decoder=ipRoleDecoder2:add(source-address= 127. 0. 0. 3 , roles=[guest])/subsystem=elytron/aggregate-role-decoder=myAggregateRoleDecoder:add(role-decoders=[ipRoleDecoder1,ipRoleDecoder2])Each role decoder will be attempted and the returned roles will be a union of the roles returned by each decoder. Summary: This blog post has given an overview of how to make use of an IP address of a remote client for authorizationdecisions. For more information, be sure to take a look at the Elytron documentation. " 
        
    } ,  {
        "id": 69,
        "url": "/wildfly-elytron/blog/automatic-credential-store-updates/",
        "link": "",
        "title": "Automatic Credential Store Updates",
        "author": "fjuma",
        "postDate": "June 08, 2020",
        "body": "WildFly 20 adds support for automatic credential store updates. This blog post will give an overview of thisnew feature. Credential Stores: Credential stores allow credentials to be stored securely. When adding a credential to a store, it is associatedwith an alias. This alias is then subsequently used to reference the credential from the store instead ofneeding to specify the credential directly. As an example, when configuring a key-store in the Elytronsubsystem, we need to specify the keystore password. Instead of specifying the password in clear text, wecan first add the keystore password to a credential store and then reference the alias that we associated withthat password, as shown below. First, let&#8217;s create a credential store: /subsystem=elytron/credential-store=myCredStore:add(location=mycredstore. cs, relative-to=jboss. server. config. dir, credential-reference={clear-text=StorePassword}, create=true)Next, we&#8217;ll add our keystore password to this store and associate it with the alias example: /subsystem=elytron/credential-store=myCredStore:add-alias(alias=example, secret-value=mySecretPassword)Finally, we&#8217;ll reference our credential store and alias when configuring our key-store: /subsystem=elytron/key-store=myKS:add(relative-to=jboss. server. config. dir, path=my. keystore, type=JCEKS, credential-reference={store=myCredStore, alias=example})The credential-reference attribute above is used to reference a credential from a credential store. Notice that thecredential-reference has two attributes, store and alias. The store attribute indicates the credential store. The alias attribute indicates the entry in the credential store that holds our credential. Besides the key-storeresource, there are many other resources in the WildFly management model that allow a credential-reference to bespecified. Notice that in the above example, we first had to add our credential to the store before being able to reference itfrom a credential-reference. Automatic Credential Store Updates: Instead of needing to first add a credential to a credential store, WildFly 20 adds the ability to automaticallyadd a credential to a previously defined credential store by specifying both the store and clear-text attributesfor a credential-reference. In particular, when configuring a new credential-reference with both the store andclear-text attributes specified, the following will happen: If the alias attribute is also specified, one of the following will occur: If the configured credential store does not contain an entry for the given alias, a new entry will be added to thecredential store to hold the clear text password that was specified. The clear-text attribute will then be removedfrom the management model. If the credential store does contain an entry for the given alias, the existing credential will be replaced withthe clear text password that was specified. The clear-text attribute will then be removed from the management model. If the alias attribute is not specified, an alias will be generated and a new entry will be added to the credentialstore to hold the clear text password that was specified. The clear-text attribute will then be removed from themanagement model. We&#8217;re going to take a look at some examples in the next sections. Automatically Adding a Credential to a Store: We&#8217;re first going to configure another key-store in the Elytron subsystem but this time we&#8217;re not going to add thekeystore password to the credential store ourselves: /subsystem=elytron/key-store=newKS1:add(relative-to=jboss. server. config. dir, path=new. keystore, type=JCEKS, credential-reference={store=myCredStore, alias=myNewAlias, clear-text=myNewPassword}){   outcome  =&gt;  success ,   result  =&gt; { credential-store-update  =&gt; {     status  =&gt;  new-entry-added ,     new-alias  =&gt;  myNewAlias   }}}Notice that the credential-reference attribute for the new key-store we are configuring specifies the store, alias,and clear-text attributes. The store attribute references the credential store that we already created. The aliasattribute specified is myNewAlias and the clear-text attribute specified is myNewPassword. Since our credential storedoes not already contain the specified alias, the above command will result in a new entry being automatically added toour credential store, myCredStore, with alias myNewAlias and credential myNewPassword. We can check the aliases that are in the credential store to confirm that we see the new alias there: /subsystem=elytron/credential-store=myCredStore:read-aliases(){   outcome  =&gt;  success ,   result  =&gt; [     mynewalias ,     example   ],   response-headers  =&gt; { process-state  =&gt;  reload-required }}If we take a look at our newly configured key-store, we can see that its credential-reference attribute onlyreferences the credential store and the alias, it does not reference the clear text password: /subsystem=elytron/key-store=newKS1:read-attribute(name=credential-reference){   outcome  =&gt;  success ,   result  =&gt; {     store  =&gt;  myCredStore ,     alias  =&gt;  myNewAlias ,     clear-text  =&gt; undefined  },   response-headers  =&gt; { process-state  =&gt;  reload-required }}If we hadn&#8217;t specified the alias attribute in our credential-reference when configuring our key-store, a new aliaswould have been generated automatically for us: /subsystem=elytron/key-store=newKS2:add(relative-to=jboss. server. config. dir, path=new. keystore, type=JCEKS, credential-reference={store=myCredStore, clear-text=myNewPassword}){   outcome  =&gt;  success ,   result  =&gt; { credential-store-update  =&gt; {     status  =&gt;  new-entry-added ,     new-alias  =&gt;  kgoxia900g   }},   response-headers  =&gt; { process-state  =&gt;  reload-required }}The above command will result in a new entry being automatically added to our credential store, myCredStore, withthe generated alias, kgoxia900g, and credential myNewPassword. If we take a look at our newly configured key-store,we can see that its credential-reference attribute references the credential store and the newly generated alias only: /subsystem=elytron/key-store=newKS2:read-attribute(name=credential-reference){   outcome  =&gt;  success ,   result  =&gt; {     store  =&gt;  myCredStore ,     clear-text  =&gt; undefined,     alias  =&gt;  kgoxia900g   },   response-headers  =&gt; { process-state  =&gt;  reload-required }}Automatically Updating an Existing Credential in a Store: If we update an existing credential-reference attribute that contains both the alias and store attributes to alsospecify the clear-text attribute, the existing credential in the configured credential store will be replaced with theclear text password that was specified. The clear-text attribute will then be removed from the management model. As anexample, the following command will result in updating the credential for the myNewAlias entry from our previous example: /subsystem=elytron/key-store=newKS1:write-attribute(name=credential-reference. clear-text, value=myUpdatedPassword){   outcome  =&gt;  success ,   result  =&gt; { credential-store-update  =&gt; { status  =&gt;  existing-entry-updated }},   response-headers  =&gt; {     operation-requires-reload  =&gt; true,     process-state  =&gt;  reload-required   }}Summary: This blog post has given an overview of how credentials can be automatically added to a credential store and howexisting credentials in a credential store can be automatically updated. This means that users no longer need toadd credentials to a credential store or update existing credentials in a store before being able to reference themfrom a credential-reference. Take a look at the Elytron documentationfor more details. " 
        
    } ,  {
        "id": 70,
        "url": "/wildfly-elytron/blog/elytron-acme-client-implementation/",
        "link": "",
        "title": "Elytron's ACME Client Implementation",
        "author": "fjuma",
        "postDate": "May 07, 2020",
        "body": "The Automated Certificate Management Environment (ACME) protocol became anIETF standard a little overa year ago. This protocol makes it possible to automate the process of obtaining signedcertificates from a certificate authority without the need for human intervention. The WildFly Elytronproject provides a Java ACME client SPI that has been integrated in WildFly for quite some time now,making it possible toautomatically obtain and manage signed certificates from any certificateauthority that implements the ACME protocol using WildFly CLI commands. It is also possible to integrate Elytron&#8217;sACME client SPI in other web server environments. In this blog post, we&#8217;regoing to take a closer look at this SPI and how to make use of it. Note: A discussion has been startedon possibly moving Elytron&#8217;s ACME Client SPI to a new SmallRye project incase other projects find it easier to consume SmallRye components instead of WildFly Elytron components. Keep an eye on the discussion there for updates and feel free to add your thoughts there as well. An Overview of the ACME ProtocolElytron&#8217;s ACME Client SPICreating an implementation of AcmeClientSpiUsing your ACME client implementationCreating a certificate authority accountUpdating the contact URLs associated with a certificate authority accountObtaining a certificate from a certificate authorityAutomating certificate renewalsRevoking a certificateUpdating a certificate authority account keyDeactivating an accountSummaryAn Overview of the ACME Protocol: Let&#8217;s Encrypt is an example of a certificate authority that implements the ACME protocol. To obtain signed certificates from Let&#8217;s Encrypt, or any certificate authority that implements theACME protocol, an ACME client is needed. An ACME client requests signed certificates by sendingJSON messages to the desired certificate authority over HTTPS. The certificate authority issueschallenges to the ACME client to prove ownership of the requested domain name(s). Thechallenges usually require having the ACME client set up resources at specific paths with specificcontent to prove control of the domain name(s) being requested. If the ACME client is able tocomplete these challenges successfully, the certificate authority will issue a signed certificate. Elytron&#8217;s ACME Client SPI: Let&#8217;s take a look now at Elytron&#8217;sAcmeClientSpi. This abstract class contains methods for creating and managing an account with a certificate authority as wellas methods for obtaining and revoking certificates from a certificate authority. These methods have already beenimplemented as specified in RFC 8555. Creating an implementation of AcmeClientSpi: Notice that there are twoabstract methods in AcmeClientSpi, proveIdentifierControland cleanupAfterChallenge. These are the only two methods that a class that extends AcmeClientSpi is required to implement. This means that tomake use of Elytron&#8217;s AcmeClientSpi in your web server environment, the main step is to create a class that extendsAcmeClientSpi and implements proveIdentifierControl and cleanupAfterChallenge. We&#8217;ll see how your proveIdentifierControland cleanUpAfterChallenge method implementations will get used in the section onobtaining a certificate from a certificate authority. Implementing proveIdentifierControl: public abstract AcmeChallenge proveIdentifierControl​(AcmeAccount account, java. util. List&lt;AcmeChallenge&gt; challenges) throws AcmeExceptionThis method is used to prove control of the identifier (i. e. , domain name) associated with the givenlist of challenges. In particular, this method should select one challenge from the given list ofchallenges from the certificate authority and then this method should take the steps necessary torespond to the challenge in order to prove that your ACME client does indeed control the domain namethat is being requested. This method should return the challenge that was selected. An AcmeException should be thrown if an error occurs while attempting to prove control of theidentifier associated with the challenges or if none of the challenge types are supported. As an example, take a look at the proveIdentifierControlmethod implementation in our WildFlyAcmeClient. This class extends AcmeClientSpi and is the ACME clientimplementation that is used by WildFly. Notice that this proveIdentifierControl implementation selects the HTTP challenge typeand it then responds to this challenge by provisioning an HTTP resource under the domain name. In particular,it provisions a new file that contains the key authorization and makes this file availableusing the DOMAIN_NAME/. well-known/acme-challenge/TOKEN URL. The TOKEN value and the key authorizationare obtained using the AcmeChallenge#getTokenand AcmeChallenge#getKeyAuthorization methods. Implementing cleanupAfterChallenge: public abstract void cleanupAfterChallenge​(AcmeAccount account, AcmeChallenge challenge) throws AcmeExceptionThis method is used to undo the actions that were taken to prove control of the identifier associated withthe given challenge. In particular, once your ACME client has successfully responded to the given challenge viathe proveIdentifierControl method, any resources that were provisioned there can be cleaned up. AnAcmeException should be thrown if an error occurs while attempting to undo the actions that were taken toprove control of the identifier associated with the given challenge. As an example, take a look at the cleanupAfterChallengemethod implementation in our WildFlyAcmeClient. Notice that this cleanupAfterChallenge implementationsimply deletes the file that was created to prove control of the identifier associated with the challenge. Using your ACME client implementation: Once you have a created a class that extends AcmeClientSpi and implements the two methods that havebeen described above, you are ready to start using your ACME client to obtain certificates for yourweb server: AcmeClientSpi acmeClient = // Your ACME client implementation should be loaded hereA java. util. ServiceLoadercan be used to load your AcmeClientSpi implementation. As an example, take a look at how thisis done in WildFly. The corresponding META-INF/services descriptor can be seen here. Creating a certificate authority account: Before obtaining your first certificate from a certificate authority that implements the ACME protocol,you need to create an account with that certificate authority. This can be done using AcmeClientSpi#createAccount. First, we&#8217;re going to create an AcmeAccount instance that contains information about the account we want to create. We&#8217;regoing to do this using an AcmeAccount. Builder: AcmeAccount acmeAccount = AcmeAccount. builder()  . setTermsOfServiceAgreed(true)  . setServerUrl( https://acme-v02. api. letsencrypt. org/directory )  . setStagingServerUrl( https://acme-staging-v02. api. letsencrypt. org/directory )  . setContactUrls(new String[] {  mailto:admin@example. com  })  . build();In the example above, we&#8217;re creating an AcmeAccount instance to be used with the Let&#8217;s Encrypt certificate authority. Notice that we&#8217;re indicating that we agree to this certificate authority&#8217;s terms of service. The server URL is Let&#8217;s Encrypt&#8217;sACME server endpoint URL. The staging server URL that we&#8217;ve specified is optional and meant to be usedwhen obtaining certificates in a staging environment for testing purposes. Finally, we&#8217;ve also specified a contact URL. This is an optional list of contact URLs that the certificate authority can use to notify you about any issues withyour account. The AcmeAccount. build() method will generate an account key for you that will be used by your ACME clientwhen communicating with the certificate authority. The generated account key pair can be obtained usingAcmeAccount#getPublicKey and AcmeAccount#getPrivateKey. You can store this key pair in a Java key store. Instead of generating an account key, if you have an existing account keythat you want to use, the AcmeAccount. Builder#setKeymethod can be used. Now we can use our ACME client&#8217;s createAccount method to create an account with the certificate authority using theinformation from our AcmeAccount instance: acmeClient. createAccount(acmeAccount, false)Notice that the second parameter indicates whether or not the staging server URL should be used when communicatingwith the certificate authority. We are setting this to false since we don&#8217;t want to using the staging URL, i. e. , goingback to our example, we want to use https://acme-v02. api. letsencrypt. org/directory when communicating with Let&#8217;s Encrypt. The createAccount method will return true if the account was created or false if the account already existed. In both cases, acmeAccount#getAccountUrl can then be used to obtain the new or existing account URL that was providedby the certificate authority. Updating the contact URLs associated with a certificate authority account: To update the contact URLs associated with an existing account, the AcmeClientSpi#updateAccount method can be used: acmeClient. updateAccount(acmeAccount, false, new String[] {  mailto:admin@example. com ,  mailto:anotheradmin@example. com });The first parameter is our AcmeAccount instance that contains the information associated with our account. The second parameter indicates whether or not the staging server URL should be used when communicating with thecertificate authority. The last parameter includes our updated contact URLs. Obtaining a certificate from a certificate authority: To obtain a certifcate from a certificate authority, the AcmeClientSpi#obtainCertificate method can be used. This method will prove ownership of the requested domain name(s) using your proveIdentifierControl implementation. This methodwill also generate a key pair, generate a certificate signing request (CSR) using the generated key pair and the requesteddomain names, and it will submit this CSR to the certificate authority. If successful, this method will retrieve theresulting certificate chain from the certificate authority. Finally, this method uses your cleanupAfterChallenge implementationto undo any actions that were taken to prove control of your requested domain name(s). The following example shows howto obtain a certificate for www. example. com using our AcmeAccount instance: X509CertificateChainAndSigningKey certChainAndPrivateKey = acmeClient. obtainCertificateChain(acmeAccount, false,  www. example. com );The first parameter is our AcmeAccount instance that contains the information associated with our account. The second parameter indicates whether or not the staging server URL should be used when communicating with thecertificate authority. The last parameter(s) is the domain name(s) that we want to request a certificate for. If you want, you can also specify the key algorithm and the key size that the ACME client should use whengenerating the certificate signing request that will be sent to the certificate authority: X509CertificateChainAndSigningKey certChainAndPrivateKey = acmeClient. obtainCertificateChain(acmeAccount, false,  EC , 256,  www. example. com );Notice that the obtainCertificateChain method returns an X509CertificateChainAndSigningKey,which consists of the X. 509 certificate chain that was obtained from the certificate authority as well as the private key for yourweb server that the ACME client generated for you. These can be obtained using the X509CertificateChainAndSigningKey#getCertificateChain method andthe X509CertificateChainAndSigningKey#getSigningKey method. You can store this key pair in a Java key store. Automating certificate renewals: Some certificate authorities, like Let&#8217;s Encrypt, recommend renewing your web server&#8217;s certificate every 60 days. Renewalscan be easily automated by creating a script that checks if your web server&#8217;s certificate is due for renewal in the next 30 days and ifso, the AcmeClientSpi#obtainCertificateChain method can simply be used to obtain a new certificate. To see an exampleof how this can be done using WildFly, take a look here. Revoking a certificate: If you need to revoke a certificate that was issued by a certificate authority, the AcmeClientSpi#revokeCertificate method can be used. For example, to revoke a certificate due to a key compromise, the following can be used: acmeClient. revokeCertificate(acmeAccount, false, certificateToRevoke, CRLReason. KEY_COMPROMISE);The first parameter is our AcmeAccount instance that contains the information associated with our account. The second parameter indicates whether or not the staging server URL should be used when communicating with thecertificate authority. The third parameter is the X509Certificate that you want to revoke. The fourth parameteris optional and indicates the reason for revoking the certificate. Take a look at CRLReasonto see the values that can be specified here. Updating a certificate authority account key: If you ever need to change the key that is associated with your certificate authority account, theAcmeClientSpi#changeAccountKeymethod can be used: acmeClient. changeAccountKey(acmeAccount, false);The first parameter is our AcmeAccount instance that contains the information associated with our account. The second parameter indicates whether or not the staging server URL should be used when communicating with thecertificate authority. Deactivating an account: If you need to deactivate a certificate authority account, the AcmeClientSpi#deactivateAccountmethod can be used. acmeClient. deactivateAccount(acmeAccount, false);The first parameter is our AcmeAccount instance that contains the information associated with our account. The second parameter indicates whether or not the staging server URL should be used when communicating with thecertificate authority. Summary: In this blog post, we&#8217;ve taken a detailed look at Elytron&#8217;s ACME client SPI. This SPI has already been integrated in WildFly,making it possible to automatically obtain and manage signed certificates using WildFly&#8217;s CLI. This blog post has describedhow Elytron&#8217;s ACME client SPI can also be used in other web server environments. " 
        
    } ,  {
        "id": 71,
        "url": "/wildfly-elytron/blog/server-side-sni-matching-with-wildfly/",
        "link": "",
        "title": "Server Side SNI Matching with WildFly",
        "author": "fjuma",
        "postDate": "April 22, 2020",
        "body": "For quite some time now, WildFly has provided support for server side Server Name Indication (SNI) matching. This allows a WildFly instance with multiple virtual hosts that share a single IP address to present thecorrect certificate depending on the server name specified by the client via the SNI extension. This blogpost is going to go through a complete example to show how to configure this. Example Project: First, clone the elytron-examples repo locally: git clone https://github. com/wildfly-security-incubator/elytron-examplescd elytron-examplesA WildFly CLI script that contains all of the commands used in this example can be found in theserver-ssl-sni-contextproject in the elytron-examples git repository. Virtual Host Configuration: We&#8217;re going to configure a WildFly instance with two virtual hosts: app1. com and app2. com. The first thingwe&#8217;re going to do is add a couple aliases for localhost in our /etc/hosts/ file: 127. 0. 0. 1 app1. com127. 0. 0. 1 app2. comNext, we&#8217;re going to add the following virtual host configuration to the Undertow subsystem: /subsystem=undertow/server=default-server/host=app1:add(alias=[ app1. com ],default-web-module=app1. war)/subsystem=undertow/server=default-server/host=app2:add(alias=[ app2. com ],default-web-module=app2. war)We&#8217;re now going to deploy the two web applications from our server-ssl-sni-context example project: cd $PATH_TO_ELYTRON_EXAMPLES/server-ssl-sni-context/app1mvn wildfly:deploycd $PATH_TO_ELYTRON_EXAMPLES/server-ssl-sni-context/app2mvn wildfly:deployWe can now access our two virtual hosts using http://app1. com:8080 and http://app2. com:8080. In the next few sections,we&#8217;re going to go through the steps needed to configure one-way SSL and provide support for SNI matching. Certificate Generation: We need a certificate for each virtual host that we have configured. Normally, you would obtain a signedcertificate from a trusted certificate authority for each virtual host. For this example, we&#8217;re simplygoing to generate and make use of self-signed certificates as shown in the following commands: /subsystem=elytron/key-store=serverKS:generate-key-pair(alias=app1,distinguished-name= CN=app1. com ,algorithm=RSA)/subsystem=elytron/key-store=serverKS:generate-key-pair(alias=app2,distinguished-name= CN=app2. com ,algorithm=RSA)/subsystem=elytron/key-store=serverKS:generate-key-pair(alias=localhost,distinguished-name= CN=localhost ,algorithm=RSA)Notice that we now have three different certificates: one that we want to use for app1. com, one that we want to use forapp2. com, and one that we want to use for localhost. SNI Matching Configuration: Now that we have configured our server keystore, our next step is to generate a few key managers that will be usedto select each of the above certificates: /subsystem=elytron/key-manager=app1KM:add(key-store=serverKS,credential-reference={clear-text=secret},alias-filter=app1)/subsystem=elytron/key-manager=app2KM:add(key-store=serverKS,credential-reference={clear-text=secret},alias-filter=app2)/subsystem=elytron/key-manager=localhostKM:add(key-store=serverKS,credential-reference={clear-text=secret},alias-filter=localhost)Notice that app1KM will always select the certificate we want to use for app1. com. Similarly, app2KM will alwaysselect the certificate we want to use for app2. com. Finally, localhostKM will always select the certificate we want to usefor localhost. Next, we&#8217;re going to configure some server SSL contexts that make use of each of the above key managers: /subsystem=elytron/server-ssl-context=app1SSC:add(key-manager=app1KM)/subsystem=elytron/server-ssl-context=app2SSC:add(key-manager=app2KM)/subsystem=elytron/server-ssl-context=localhostSSC:add(key-manager=localhostKM)As an example, if app1SSC is in use, it will make use of the app1KM key manager which means that it willselect the certificate we want to use for app1. com. Finally, we can now configure a server SSL SNI context that makes use of our server SSL contexts: /subsystem=elytron/server-ssl-sni-context=sniSSC:add(default-ssl-context=localhostSSC, host-context-map={app1\\. com=app1SSC,app2\\. com=app2SSC})The above server SSL SNI context will ensure the correct certificate is presented to the client based on the SNIextension provided by the client. If the client does not specify this extension or if the value does not matchany of the hostnames from our host-context-map, then the default-ssl-context will be used. We&#8217;re now going to update our HTTPS listener configuration in the Undertow subsystem so that it referencesour server SSL SNI context: batch/subsystem=undertow/server=default-server/https-listener=https:undefine-attribute(name=security-realm)/subsystem=undertow/server=default-server/https-listener=https:write-attribute(name=ssl-context,value=sniSSC)run-batchreloadAccess app1. com and app2. com via HTTPS: Now that we&#8217;ve enabled server side SNI matching, we can use our browser to access app1. com and app2. comvia HTTPS. Let&#8217;s first try to access https://app1. com:8443. Note that the browser is going to add the SNIextension with value app1. com in the ClientHello message it sends to the server at the beginning of theTLS handshake. Now, since the server&#8217;s certificate is self-signed, it won&#8217;t be trusted by your browser. You&#8217;ll need to manually confirm that this certificate is trusted or configure your browser to trust it. Inspect the certificate that was presented by the server. Notice that it&#8217;s the certificate for app1. com. Next, try accessing https://app2. com:8443. Inspect the certificate that was presented by the server. Noticethat this time, it&#8217;s the certificate for app2. com. Finally, try accessing https://localhost:8443. This time, the certificate presented by the server will bethe certificate for localhost. Summary: This blog post has shown how to configure server side SNI matching for WildFly. For more details, take a lookat the Elytron documentation. " 
        
    } ,  {
        "id": 72,
        "url": "/wildfly-elytron/blog/ws-elytron-client-integration/",
        "link": "",
        "title": "Web Services client integration with Elytron",
        "author": "dvilkola",
        "postDate": "March 18, 2020",
        "body": "It is now possible for Web Services client to automatically load and use authentication configuration from Elytron client to connect to a secured server. This blog post will give an introduction to this new feature. Scope of the integration: Elytron client must be on classpath during assigning of configurations for WS client in order for this integration to take place. WS client will automatically use username, password and SSL context configured in Elytron client. Credentials will be used for HTTP BASIC authentication or Username Token Profile authentication. Elytron client configuration was extended to include option that specifies which of these mechanisms should be used. Any existing configuration a client already had configured will not be re-written. Configuration specified by user in default WS client descriptor within the application (jaxws-client-config. xml) has precedence. Configure Elytron client: Elytron client allows for both use of an Elytron API and pre-defined configurations in the xml file (wildfly-config. xml) to enable remote clients to authenticate using Elytron. For more information please see the documentation. SSL context configuration did not change and WS client will use it automatically. Below is an example of wildfly-config. xml that contains configuration of mechanisms that WS client should use with Elytron client credentials: &lt;authentication-configurations&gt;  . . .   &lt;configuration&gt;    . . .     &lt;webservices&gt;      &lt;ws-security type= UsernameToken &gt;      &lt;set-http-mechanism name= BASIC /&gt;    &lt;/webservices&gt;    . . .   &lt;/configuration&gt;&lt;/authentication-configurations&gt;The &lt;webservices /&gt; element can optionally contain the following child elements: &lt;set-http-mechanism name= BASIC /&gt; This element is used to specify an HTTP mechanism that WS client should use to authenticate. Currently only the HTTP Basic authentication is supported and used as default. &lt;set-ws-security-type name= UsernameToken /&gt; This element is used to specify WS-Security type that WS client will use to authenticate with the server. Currently only Username Token Profile can be configured. It is also possible to configure these mechanisms programmatically: AuthenticationConfiguration ac = AuthenticationConfiguration. empty(). useWebServices(        Map. ofEntries(            entry( http-mechanism ,  BASIC ),            entry( ws-security-type ,  UsernameToken )        ));The mechanisms will take effect only if both username and password are configured in Elytron client. Use Web Services client: JBossWS API comes with facility classes that can be used for assigning of configurations when building a client. For more information, you can take a look at the documentation here. For integration to work it is necessary to use jbossws-cxf client, specifically CXFClientConfigurer class and its method setConfigProperties. Whenever this method is called, with or without other WS config files, Elytron client credentials and SSLContext will be used if present. Below are possible uses of this method: Service service = Service. create(wsdlURL, serviceName);Endpoint port = service. getPort(Endpoint. class);CXFClientConfigurer configurer = new CXFClientConfigurer();configurer. setConfigProperties(port, null, null);  // use null value if there is no other WS configurationport. echo( Kermit );. . . configurer. setConfigProperties(port,  META-INF/my-client-config. xml ,  Custom Client Config 3 );port. echo( Kermit );. . . configurer. setConfigProperties(port, null,  Container Custom Client Config );port. echo( Kermit );Example: Working example demonstrating this integration can be found here. In this example, two-way SSL is configured on the server. Additionally, HTTP BASIC authentication is required to connect to the server as well. Web Services client uses SSLContext and credentials from Elytron client to successfully connect to the server. Summary: This blog post has given an overview on how Web Services client can use Elytron client configuration when connecting to a secured server. For more information you can take a look at Elytron client documentation andWeb Services reference guide. " 
        
    } ,  {
        "id": 73,
        "url": "/wildfly-elytron/blog/tls-13-with-wildfly/",
        "link": "",
        "title": "TLS 1.3 with WildFly",
        "author": "fjuma",
        "postDate": "March 18, 2020",
        "body": "It is now possible to use TLS 1. 3 with WildFly when running against JDK 11 or higher. This blog post will give anintroduction to this new feature. Disabled by Default: The use of TLS 1. 3 is currently disabled by default with WildFly. This is because if JDK 11 is in use and if there is avery large number of TLS 1. 3 requests coming in, it is possible that a drop in performance (i. e. , throughput andresponse time) will occur compared to when using TLS 1. 2 with WildFly. The good news is that simply upgrading to newerJDK versions should improve performance. It is recommended to test for performance degradation prior to enablingTLS 1. 3 in a production environment. Enabling TLS 1. 3 on the Server Side: TLS 1. 3 can be enabled by configuring the new cipher-suite-names attribute in the SSL Context resource definitionin the Elytron subsystem. Let&#8217;s take a look at a complete example. Pre-requisite Configuration: As a first step, we&#8217;re going to enable one-way SSL for applications deployed to WildFly using thesecurity enable-ssl-http-server CLI command: security enable-ssl-http-server --interactivePlease provide required pieces of information to enable SSL:Certificate info:Key-store file name (default default-server. keystore): server. keystorePassword (blank generated): secretWhat is your first and last name? [Unknown]: localhostWhat is the name of your organizational unit? [Unknown]:What is the name of your organization? [Unknown]:What is the name of your City or Locality? [Unknown]:What is the name of your State or Province? [Unknown]:What is the two-letter country code for this unit? [Unknown]:Is CN=localhost, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown correct y/n [y]?yValidity (in days, blank default): 30Alias (blank generated): localhostEnable SSL Mutual Authentication y/n (blank n):nSSL options:key store file: server. keystoredistinguished name: CN=localhost, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown,C=Unknownpassword: secretvalidity: 30alias: localhostServer keystore file server. keystore, certificate file server. pem and server. csr file will be generated in server configuration directory. Do you confirm y/n :yServer reloaded. SSL enabled for default-serverssl-context is ssl-context-6881a025-6c31-4bfe-ba4b-d8e7ebdde133key-manager is key-manager-6881a025-6c31-4bfe-ba4b-d8e7ebdde133key-store  is key-store-6881a025-6c31-4bfe-ba4b-d8e7ebdde133As we can see from the output, the above command automatically generated a self-signed server certificate, added it to anewly created keystore, and added a new ssl-context resource, ssl-context-6881a025-6c31-4bfe-ba4b-d8e7ebdde133, tothe Elytron subsystem in order to enable one-way SSL for applications deployed to WildFly. Now, let&#8217;s try to access the WildFly landing page using curl: curl -v -k https://localhost:8443* SSL connection using TLSv1. 2 / ECDHE-RSA-AES256-GCM-SHA384* ALPN, server accepted to use h2* Server certificate:* subject: C=Unknown; ST=Unknown; L=Unknown; O=Unknown; OU=Unknown; CN=localhost* start date: Feb 28 19:39:26 2020 GMT* expire date: Mar 29 18:39:26 2020 GMT* issuer: C=Unknown; ST=Unknown; L=Unknown; O=Unknown; OU=Unknown; CN=localhost* SSL certificate verify result: self signed certificate (18), continuing anyway. Since the security enable-ssl-http-server command simply generated a self-signed server certificate fortesting purposes, this server certificate won&#8217;t be trusted by curl. This is why we specified the -k optionin the curl command. Notice that in the above output, we can see that the TLS 1. 2 protocol was used for the connectionand that the ECDHE-RSA-AES256-GCM-SHA384 cipher suite was used. Switching to TLS 1. 3: To enable TLS 1. 3, we just need to update our ssl-context configuration in the Elytron subsystem to specify thecipher-suite-names attribute. The format of this attribute is colon separated list of the TLS 1. 3 cipher suitesthat you would like to enable. We&#8217;re going to set this attribute to TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256: # This is only needed when the ssl-context is configured to use specific protocol version(s) other# than TLS 1. 3. In general, this is not needed when the protocols attribute is simply undefined. /subsystem=elytron/server-ssl-context=ssl-context-6881a025-6c31-4bfe-ba4b-d8e7ebdde133:write-attribute(name=protocols,value=[TLSv1. 3])/subsystem=elytron/server-ssl-context=ssl-context-6881a025-6c31-4bfe-ba4b-d8e7ebdde133:write-attribute(name=cipher-suite-names,value=TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256)reloadNow, let&#8217;s try to access the WildFly landing page using curl again: curl -v -k https://localhost:8443* SSL connection using TLSv1. 3 / TLS_AES_256_GCM_SHA384* ALPN, server accepted to use h2* Server certificate:* subject: C=Unknown; ST=Unknown; L=Unknown; O=Unknown; OU=Unknown; CN=localhost* start date: Feb 28 19:39:26 2020 GMT* expire date: Mar 29 18:39:26 2020 GMT* issuer: C=Unknown; ST=Unknown; L=Unknown; O=Unknown; OU=Unknown; CN=localhost* SSL certificate verify result: self signed certificate (18), continuing anyway. Notice that this time, we can see that the TLS 1. 3 protocol was used for the connection and that the TLS 1. 3TLS_AES_256_GCM_SHA384 cipher suite was used. Enabling TLS 1. 3 on the Client Side: When using the Elytron authentication client, it is now also possible to use TLS 1. 3 by configuring thecipher-suite names attribute in the ssl-context configuration. For more details on that, take a lookat the authentication client documentation. Summary: This blog post has given an overview on how TLS 1. 3 can be used with WildFly on both the server side and the clientside. For more details, take a look at the Elytron documentation. " 
        
    } ,  {
        "id": 74,
        "url": "/wildfly-elytron/blog/new-security-features-in-wildfly-19/",
        "link": "",
        "title": "New Security Features in WildFly 19",
        "author": "fjuma",
        "postDate": "March 18, 2020",
        "body": "This blog post highlights the new security features that have been included in WildFly 19. Support for MicroProfile JWT 1. 1: Support has been added for the Eclipse MicroProfile JWT RBAC1. 1. 1 specification with the addition of a new microprofile-jwt-smallrye subsystem. Traditionally, security fordeployments would depend on resources defined within the management model to access local or remote stores containingthe definitions of the identities. Now, with minimal configuration contained within a deployment, MicroProfile JWTprovides the ability for authenticated identities to be established from the contents of cryptographically signed JWTtokens received with each request. To get started with MicroProfile JWT, check out thisquickstart. Support for TLS 1. 3: It is now possible to use TLS 1. 3 with WildFly when running against JDK 11 or higher. However, there is an importantcaveat to be aware of. If JDK 11 is in use and if there is a very large number of TLS 1. 3 requests being made, it ispossible that a drop in performance (throughput and response time) will occur compared to when using TLS 1. 2 with WildFly. Simply upgrading to newer JDK versions should improve performance. For this reason, the use of TLS 1. 3 is currentlydisabled by default. It is recommended to test for performance degradation prior to enabling TLS 1. 3 in a productionenvironment. Take a look at this blog postto learn how to enable TLS 1. 3. Web Services Integration with Elytron: Elytron already provides an API and a configuration file that can be used to configure client side security for outgoingcalls. It is now possible to use this Elytron client configuration with Web Services deployments. Take a look at thisblog post to see how a WebServices client can make use of Elytron client configuration. Resolution of System Properties in Permission Files: It is now possible to enable/disable the resolution of system properties in the permissions. xml and jboss-permissions. xmlfiles. More details can be found here. Where to Find More Information: Be sure to check out our blog posts page, where we have all ourblog posts on Elytron features. If there is an Elytron topic you’d like to see a blog post on, feel free to let us knowon WildFly’s user forums. To learn more about Elytron, check out our new site. " 
        
    } ,  {
        "id": 75,
        "url": "/wildfly-elytron/blog/planned-security-features-for-wildfly-19/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/10/10/planned-security-features-for-wildfly-19",
        "title": "Planned Security Features for WildFly 19",
        "author": "fjuma",
        "postDate": "October 10, 2019",
        "body": "" 
        
    } ,  {
        "id": 76,
        "url": "/wildfly-elytron/blog/configuring-an-aggregate-realm-with-a-principal-transformer/",
        "link": "https://developer.jboss.org/people/aabdelsa/blog/2019/09/06/configuring-an-aggregate-realm-with-a-principal-transformer",
        "title": "Configuring an aggregate-realm with a principal-transformer",
        "author": "aabdelsa",
        "postDate": "September 06, 2019",
        "body": "" 
        
    } ,  {
        "id": 77,
        "url": "/wildfly-elytron/blog/support-for-masked-passwords-in-the-client-xml-configuration/",
        "link": "https://developer.jboss.org/people/aabdelsa/blog/2019/09/05/support-for-masked-passwords-in-the-client-xml-configuration",
        "title": "Support for masked passwords in the client XML configuration",
        "author": "aabdelsa",
        "postDate": "September 05, 2019",
        "body": "" 
        
    } ,  {
        "id": 78,
        "url": "/wildfly-elytron/blog/new-security-features-in-wildfly-18/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/09/05/new-security-features-in-wildfly-18",
        "title": "New Security Features in WildFly 18",
        "author": "fjuma",
        "postDate": "September 05, 2019",
        "body": "" 
        
    } ,  {
        "id": 79,
        "url": "/wildfly-elytron/blog/automatic-updates-of-credential-stores/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/09/05/automatic-updates-of-credential-stores",
        "title": "Upcoming support for automatic updates of credential stores",
        "author": "fjuma",
        "postDate": "September 05, 2019",
        "body": "" 
        
    } ,  {
        "id": 80,
        "url": "/wildfly-elytron/blog/enhanced-audit-logging-in-wildfly/",
        "link": "https://justinwildfly.blogspot.com/2019/08/enhanced-audit-logging-in-wildfly.html",
        "title": "Enhanced Audit Logging - Additional RFC Support and Reliability vs Speed Customization Update",
        "author": "jucook",
        "postDate": "August 30, 2019",
        "body": "" 
        
    } ,  {
        "id": 81,
        "url": "/wildfly-elytron/blog/wildfly-elytron-credential-store-apis/",
        "link": "https://darranl.blogspot.com/2019/06/wildfly-elytron-credential-store-apis.html",
        "title": "WildFly Elytron Credential Store APIs",
        "author": "darranl",
        "postDate": "June 26, 2019",
        "body": "" 
        
    } ,  {
        "id": 82,
        "url": "/wildfly-elytron/blog/using-elytron-certificate-based-authentication-with-authorization/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/06/14/using-elytron-certificate-based-authentication-with-authorization",
        "title": "Using Elytron certificate-based authentication with authorization",
        "author": "fjuma",
        "postDate": "June 14, 2019",
        "body": "" 
        
    } ,  {
        "id": 83,
        "url": "/wildfly-elytron/blog/wildfly-elytron-aggregation-of/",
        "link": "https://darranl.blogspot.com/2019/06/wildfly-elytron-aggregation-of.html",
        "title": "WildFly Elytron Aggregation of Attributes",
        "author": "darranl",
        "postDate": "June 12, 2019",
        "body": "" 
        
    } ,  {
        "id": 84,
        "url": "/wildfly-elytron/blog/security-features-for-wildfly-18/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/06/12/security-features-for-wildfly-18",
        "title": "Security Features for WildFly 18",
        "author": "fjuma",
        "postDate": "June 12, 2019",
        "body": "" 
        
    } ,  {
        "id": 85,
        "url": "/wildfly-elytron/blog/security-feature-development-for/",
        "link": "https://darranl.blogspot.com/2019/06/security-feature-development-for.html",
        "title": "Security Feature Development for WildFly 17",
        "author": "darranl",
        "postDate": "June 12, 2019",
        "body": "" 
        
    } ,  {
        "id": 86,
        "url": "/wildfly-elytron/blog/web-services-client-and-resteasy-client-integration-with-wildfly-elytron/",
        "link": "https://dvilkola.wordpress.com/2019/06/11/web-services-client-and-resteasy-client-integration-with-wildfly-elytron/",
        "title": "Web Services client and RESTEasy client integration with WildFly Elytron",
        "author": "dvilkola",
        "postDate": "June 11, 2019",
        "body": "" 
        
    } ,  {
        "id": 87,
        "url": "/wildfly-elytron/blog/upcoming-support-for-tls-13-with-wildfly/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/06/11/upcoming-support-for-tls-13-with-wildfly",
        "title": "Upcoming support for TLS 1.3 with WildFly",
        "author": "fjuma",
        "postDate": "June 11, 2019",
        "body": "" 
        
    } ,  {
        "id": 88,
        "url": "/wildfly-elytron/blog/support-for-masked-passwords-in-the-client-xml-configuration/",
        "link": "https://developer.jboss.org/people/aabdelsa/blog/2019/06/11/configuring-a-jdbc-security-realm-with-bcrypt-and-modular-crypt-password-mappers",
        "title": "Configuring a JDBC Security Realm with BCrypt and Modular Crypt Password Mappers",
        "author": "aabdelsa",
        "postDate": "June 11, 2019",
        "body": "" 
        
    } ,  {
        "id": 89,
        "url": "/wildfly-elytron/blog/obtain-and-manage-certificates-from-any-server-instance-that-implements-acme-specification-using-the-wildfly-cli/",
        "link": "https://dvilkola.wordpress.com/2019/06/11/obtain-and-manage-certificates-from-any-server-instance-that-implements-acme-specification-using-the-wildfly-cli/",
        "title": "Obtain and manage certificates from any server instance that implements ACME specification using the WildFly CLI",
        "author": "dvilkola",
        "postDate": "June 11, 2019",
        "body": "" 
        
    } ,  {
        "id": 90,
        "url": "/wildfly-elytron/blog/mapping-an-x509-cert-to-an-identity-using-a-subject-alt-name/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/06/11/mapping-an-x509-cert-to-an-identity-using-a-subject-alt-name",
        "title": "Mapping an X.509 certificate chain to an identity using a subject alternative name",
        "author": "fjuma",
        "postDate": "June 11, 2019",
        "body": "" 
        
    } ,  {
        "id": 91,
        "url": "/wildfly-elytron/blog/enhanced-audit-logging-in-wildfly/",
        "link": "https://justinwildfly.blogspot.com/2019/06/enhanced-audit-logging-in-wildfly.html",
        "title": "Enhanced Audit Logging in WildFly Elytron - RFC Support and Reliabiliity/Speed Customization",
        "author": "jucook",
        "postDate": "June 11, 2019",
        "body": "" 
        
    } ,  {
        "id": 92,
        "url": "/wildfly-elytron/blog/security-features-for-wildfly-17/",
        "link": "https://darranl.blogspot.com/2019/03/security-features-for-wildfly-17.html",
        "title": "Security Features for WildFly 17",
        "author": "darranl",
        "postDate": "March 05, 2019",
        "body": "" 
        
    } ,  {
        "id": 93,
        "url": "/wildfly-elytron/blog/whats-new-in-elytron-in-wildfly16/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/02/28/whats-new-in-elytron-in-wildfly-16",
        "title": "What's new in Elytron in WildFly 16",
        "author": "fjuma",
        "postDate": "February 28, 2019",
        "body": "" 
        
    } ,  {
        "id": 94,
        "url": "/wildfly-elytron/blog/http-basic-authentication-in-silent-mode-with-wildfly-elytron/",
        "link": "https://dvilkola.wordpress.com/2019/02/28/http-basic-authentication-in-silent-mode-with-wildfly-elytron/",
        "title": "HTTP Basic Authentication in silent mode with Wildfly Elytron",
        "author": "dvilkola",
        "postDate": "February 28, 2019",
        "body": "" 
        
    } ,  {
        "id": 95,
        "url": "/wildfly-elytron/blog/converting-legacy-properties-files-into/",
        "link": "https://justinwildfly.blogspot.com/2019/02/converting-legacy-propeties-files-into.html",
        "title": "Converting Legacy Properties Files into a FileSystemRealm with Elytron Tool",
        "author": "jucook",
        "postDate": "February 28, 2019",
        "body": "" 
        
    } ,  {
        "id": 96,
        "url": "/wildfly-elytron/blog/implementing-a-custom-elytron-principal-transformer/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/02/25/implementing-a-custom-elytron-principal-transformer",
        "title": "Implementing a custom Elytron principal transformer",
        "author": "fjuma",
        "postDate": "February 25, 2019",
        "body": "" 
        
    } ,  {
        "id": 97,
        "url": "/wildfly-elytron/blog/building-web-app-with-authorization-and-account-management-using-elytron-part-2/",
        "link": "https://dvilkola.wordpress.com/2019/02/25/building-web-app-with-authorization-and-account-management-using-elytron-part-2/",
        "title": "Building web app with authorization and account management using Elytron (Part 2)",
        "author": "dvilkola",
        "postDate": "February 25, 2019",
        "body": "" 
        
    } ,  {
        "id": 98,
        "url": "/wildfly-elytron/blog/building-a-web-app-with-authorization-and-account-management-using-elytron/",
        "link": "https://dvilkola.wordpress.com/2019/02/25/building-a-web-app-with-authorization-and-account-management-using-elytron/",
        "title": "Building a web app with authorization and account management using Elytron (Part 1)",
        "author": "dvilkola",
        "postDate": "February 25, 2019",
        "body": "" 
        
    } ,  {
        "id": 99,
        "url": "/wildfly-elytron/blog/using-wildfly-elytron-with-netty/",
        "link": "https://darranl.blogspot.com/2019/01/using-wildfly-elytron-with-netty.html",
        "title": "Using WildFly Elytron with the Netty HttpServerCodec",
        "author": "darranl",
        "postDate": "January 19, 2019",
        "body": "" 
        
    } ,  {
        "id": 100,
        "url": "/wildfly-elytron/blog/securing-an-embedded-jetty-server-using-elytron/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2019/01/07/securing-an-embedded-jetty-server-using-elytron",
        "title": "Securing an embedded Jetty server using Elytron",
        "author": "fjuma",
        "postDate": "January 07, 2019",
        "body": "" 
        
    } ,  {
        "id": 101,
        "url": "/wildfly-elytron/blog/dynamically-generating-keystores/",
        "link": "https://justinwildfly.blogspot.com/2018/11/dynamically-generating-keystores.html",
        "title": "Dynamically Generating KeyStores, TrustStores, and Certificates with WildFly Elytron",
        "author": "jucook",
        "postDate": "November 16, 2018",
        "body": "" 
        
    } ,  {
        "id": 102,
        "url": "/wildfly-elytron/blog/using-wildfly-elytron-jaspi-with/",
        "link": "https://darranl.blogspot.com/2018/10/using-wildfly-elytron-jaspi-with.html",
        "title": "Using WildFly Elytron JASPI with Standalone Undertow",
        "author": "darranl",
        "postDate": "October 18, 2018",
        "body": "" 
        
    } ,  {
        "id": 103,
        "url": "/wildfly-elytron/blog/wildfly-elytron-credential-store-next/",
        "link": "https://darranl.blogspot.com/2018/09/wildfly-elytron-credential-store-next.html",
        "title": "WildFly Elytron - Credential Store - Next Steps",
        "author": "darranl",
        "postDate": "September 26, 2018",
        "body": "" 
        
    } ,  {
        "id": 104,
        "url": "/wildfly-elytron/blog/reinitializing-trust-manager-through/",
        "link": "https://justinwildfly.blogspot.com/2018/08/reinitializing-trust-manager-through.html",
        "title": "Reinitializing a Trust Manager through a Two-Way SSL",
        "author": "jucook",
        "postDate": "August 31, 2018",
        "body": "" 
        
    } ,  {
        "id": 105,
        "url": "/wildfly-elytron/blog/obtaining-certificates-from-lets-encrypt-using-the-wildfly-cli/",
        "link": "",
        "title": "Obtaining and managing certificates from Let’s Encrypt using the WildFly CLI",
        "author": "fjuma",
        "postDate": "August 31, 2018",
        "body": "It is possible to obtain and manage certificates from the Let&#8217;s Encrypt certificate authority using the WildFly CLI. In particular, it is possible to get a certificate from Let&#8217;s Encrypt, revoke it if necessary, and check if it’s due for renewal. This blog post is going to give an overview of these new operations. Obtaining a certificate from Let&#8217;s EncryptUsing the security commandUsing Elytron subsystem commandsRevoking a certificate from Let&#8217;s EncryptChecking if a certificate is due for renewalUsing a CLI script to automate certificate renewalUpdating the contact URLs associated with your Let&#8217;s Encrypt accountChanging your Let&#8217;s Encrypt account keyDeactivating your Let&#8217;s Encrypt accountSummaryObtaining a certificate from Let&#8217;s Encrypt: First, make sure your WildFly server instance is publicly accessible using the domain name(s) you will be obtaininga certificate for from Let&#8217;s Encrypt. For example, if you are requesting a certificate for the domain name www. example. org , then  www. example. org  needs to be publicly accessible. This is because Let&#8217;s Encrypt will attemptto access this URL when attempting to validate that you really do own this domain name. WildFly itself will handleproving that you really do own this domain name. There are a couple ways to obtain a certificate from Let&#8217;s Encrypt using WildFly CLI commands. Using the security command: The simplest way to obtain and make use of a certificate from Let&#8217;s Encrypt is by using one of the securitywrapper commands as follows: security enable-ssl-http-server --interactive --lets-encryptsecurity enable-ssl-management --interactive --lets-encryptThese commands allow you to easily enable either one-way or two-way SSL for applications or managementinterfaces, respectively, using a certificate that will be obtained automatically from Let&#8217;s Encrypt. Let&#8217;s take a look at the security enable-ssl-http-server --interactive --lets-encrypt command: [standalone@localhost:9990 /] security enable-ssl-http-server --interactive --lets-encryptPlease provide required pieces of information to enable SSL:Let's Encrypt account key-store:File name (default accounts. keystore. jks):Password (blank generated):Let's Encrypt certificate authority account:Account name (default CertAuthorityAccount):Contact email(s) [admin@example. com,info@example. com]:Password (blank generated):Alias (blank generated):Certificate authority URL (default https://acme-v02. api. letsencrypt. org/directory):Let's Encrypt TOS (https://community. letsencrypt. org/tos)Do you agree to Let's Encrypt terms of service? y/n:yCertificate info:Key-store file name (default default-server. keystore):Password (blank generated):Your domain name(s) (must be accessible by the Let's Encrypt server at 80 &amp; 443 ports) [example. com,second. example. com]: www. example. orgAlias (blank generated):Enable SSL Mutual Authentication y/n (blank n):Let's Encrypt options:account key store name: account-key-store-b1f62709-d679-4e19-acf4-f5d286d481b8password: OAaMa6aIaccount keystore file accounts. keystore. jks will be generated in server configuration directory. Let's Encrypt certificate authority account name: CertAuthorityAccountcontact urls: []password: lSgY0ZoSalias: account-key-store-alias-b1f62709-d679-4e19-acf4-f5d286d481b8certificate authority URL: https://acme-v02. api. letsencrypt. org/directoryYou provided agreement to Let's Encrypt terms of service. SSL options:key store file: default-server. keystoredomain name: [www. mydomainname. com]password: iuApeaDHvalidity: 90alias: alias-b1f62709-d679-4e19-acf4-f5d286d481b8Certificate will be obtained from Let's Encrypt server and will be valid for 90 days. Server keystore file will be generated in server configuration directory. Do you confirm y/n :yAs we can see from the output, this command will first prompt you to specify the information neededto configure your Let&#8217;s Encrypt account. It will then ask for information related to the certificatethat you would like to obtain from Let&#8217;s Encrypt. This command will then automatically create your Let&#8217;sEncrypt account (if it doesn&#8217;t already exist), it will obtain a certificate from Let&#8217;s Encryptusing the domain name that you specified, and it will configure one-way SSL using this certificate. Using Elytron subsystem commands: It is also possible to obtain a certificate from Let&#8217;s Encrypt using Elytron subsystem commandsdirectly. Prerequisite configuration: First, configure a key-store in the Elytron subsystem that will be used to hold your server certificates. Note that the path to the keystore file doesn&#8217;t need to exist yet. /subsystem=elytron/key-store=serverKS:add(path=server. keystore. jks, relative-to=jboss. server. config. dir, credential-reference={clear-text=secret}, type=JKS)Show me the commands first: Obtaining certificates from Let&#8217;s Encrypt using Elytron subsystem commands requires a couple one-timeconfiguration steps. These commands are shown below. We&#8217;re going to go through each of these commands in more detail in the following sections. ### One-time configuration# Configure a Let’s Encrypt account/subsystem=elytron/key-store=accountsKS:add(path=accounts. keystore. jks,relative-to=jboss. server. config. dir,credential-reference={clear-text=secret},type=JKS)/subsystem=elytron/certificate-authority-account=myLetsEncryptAccount:add(alias=letsEncrypt,key-store=accountsKS,contact-urls=[mailto:admin@admin. org])### Now you’re ready to start obtaining and managing certificates# Obtain a certificate from Let’s Encrypt/subsystem=elytron/key-store=serverKS:obtain-certificate(alias=server,domain-names=[www. example. org],certificate-authority-account=myLetsEncryptAccount,agree-to-terms-of-service)# Revoke a certificate that was issued by Let’s Encrypt/subsystem=elytron/key-store=serverKS:revoke-certificate(alias=server,reason=keyCompromise,certificate-authority-account=myLetsEncryptAccount)# Check if a certificate is due for renewal in less than 30 days/subsystem=elytron/key-store=serverKS:should-renew-certificate(alias=server)Configuring a Let’s Encrypt account: Before obtaining your first certificate from Let&#8217;s Encrypt, a Let&#8217;s Encrypt account needs to be configured. First, configure a key-store in the Elytron subsystem that will be used to hold your Let&#8217;s Encrypt account key. The path to the keystore file doesn’t need to exist yet. /subsystem=elytron/key-store=accountsKS:add(path=accounts. keystore. jks,relative-to=jboss. server. config. dir,credential-reference={clear-text=secret},type=JKS)Now we can configure a Let&#8217;s Encrypt account that we will reference when obtaining certificates: /subsystem=elytron/certificate-authority-account=myLetsEncryptAccount:add(alias=letsEncrypt,key-store=accountsKS,contact-urls=[mailto:admin@admin. org])The above command results in the following configuration in the Elytron subsystem: &lt;subsystem xmlns= urn:wildfly:elytron:4. 0  final-providers= combined-providers  disallowed-providers= OracleUcrypto &gt;. . .   &lt;tls&gt;  . . .     &lt;certificate-authority-accounts&gt;      &lt;certificate-authority-account name= myLetsEncryptAccount  contact-urls= mailto:admin@admin. org &gt;        &lt;account-key key-store= accountsKS  alias= letsEncrypt /&gt;      &lt;/certificate-authority-account&gt;    &lt;/certificate-authority-accounts&gt;  . . .   &lt;/tls&gt;. . . &lt;/subsystem&gt;Notice that a certificate-authority-account has the following attributes and element: name - The name of the certificate authority account. contact-urls - An optional list of contact URLs that Let&#8217;s Encrypt can use to notify you about any issues with your account. account-key - Information about the account key that will be used when communicating with Let&#8217;s Encrypt. key-store - A reference to the Elytron key-store that will hold your Let&#8217;s Encrypt account key. alias - The alias in the referenced key-store that will contain your Let&#8217;s Encrypt account key. Obtaining a certificate from Let&#8217;s Encrypt: To obtain a certificate from Let&#8217;s Encrypt, the key-store obtain-certificate command can be used. Its syntax is as follows: obtain-certificate --alias= --domain-names= --certificate-authority-account= [--agree-to-terms-of-service=&lt;true,false&gt;] [--staging=&lt;true,false&gt;] [--algorithm=] [--key-size=] [--credential-reference=] Let&#8217;s take a closer look at the obtain-certificate operation&#8217;s parameters: alias - The alias in the key-store that will be used to store the certificate obtained from Let&#8217;s Encrypt. domain-names - The list of domain names to request a certificate for. certificate-authority-account - A reference to the certificate authority account information that should be used to obtain the certificate. agree-to-terms-of-service - Whether or not you agree to Let&#8217;s Encrypt&#8217;s terms of service (this only needs to be specified the first time you obtain a certificate from Let&#8217;s Encrypt with your certificate-authority-account). staging - Optional. Indicates whether or not Let&#8217;s Encrypt&#8217;s staging environment should be used to obtain the certificate. The default value is false. This should only be set to true for testing purposes. This should never be set to true in a production environment. algorithm - Optional. Indicates the key algorithm that should be used (RSA or EC). The default value is RSA. key-size - Optional. Indicates the key size that should be used. The default value is 2048. credential-reference - Optional. The credential-reference that should be used to protect the generated private key. The default value is the key-store password. The obtain-certificate command will use the referenced certificate-authority-account to create an account withLet&#8217;s Encrypt if one does not already exist. It will then request a certificate from Let&#8217;s Encrypt for the specified domain-names. In particular, the obtain-certificate operation will prove ownership of the requested domain names, generate a key pair,generate a certificate signing request (CSR) using the generated key pair and the requested domain names, and submit thisCSR to Let&#8217;s Encrypt. If successful, the obtain-certificate operation will retrieve the resultingcertificate chain from Let&#8217;s Encrypt and store it along with the generated PrivateKey under the given alias in the key-store. These changes will also be persisted to the file that backs the key-store. For example, to request a certificate from Let&#8217;s Encrypt for the domain name  www. example. org  using the  myLetsEncryptAccount certificate-authority-account, the following command could be used. The resulting certificate will be stored in the file that backsthe  serverKS  key-store under the alias  server . /subsystem=elytron/key-store=serverKS:obtain-certificate(alias=server,domain-names=[www. example. org],certificate-authority-account=myLetsEncryptAccount,agree-to-terms-of-service)You can now check the alias names in the key-store and confirm the new alias,  server , is listed: /subsystem=elytron/key-store=serverKS:read-aliases(){   outcome  =&gt;  success ,   result  =&gt; [ server ]}To make use of this server certificate that&#8217;s been issued by Let&#8217;s Encrypt for one-way or two-way SSL, this server key-storecan be used to create a key-manager in the Elytron subsystem and an ssl-context that references this key-manager canthen be created. More details about setting up one-way and two-way SSL can be found in the Elytron documentation. Now that we&#8217;ve seen the two main ways that certificates can be obtained from Let&#8217;s Encrypt using WildFly CLI commands, thenext sections will describe how to manage these certificates. Revoking a certificate from Let&#8217;s Encrypt: If you need to revoke a certificate that was issued by Let&#8217;s Encrypt, the revoke-certificate command can be used: /subsystem=elytron/key-store=serverKS:revoke-certificate(alias=server,reason=keyCompromise,certificate-authority-account=myLetsEncryptAccount)In the above example, alias identifies the certificate that should be revoked. The certificate-authority-account is areference to the certificate authority account information that should be used to revoke the certificate. The reason isoptional and indicates the reason for revocation. If provided, it must be a valid revocation string. Once the certificate has been successfully revoked, it will be deleted from the key-store. This change will also bepersisted to the file that backs the key-store. Checking if a certificate is due for renewal: The should-renew-certificate command can be used to check if a certificate is due for renewal. It returns true if thecertificate expires in less than the given number of days and false otherwise. Its output also indicates the number ofdays to expiry. In the following example, should-renew-certificate checks if the certificate stored under the alias server  expires in less than 15 days. /subsystem=elytron/key-store=serverKS:should-renew-certificate(alias=server,expiration=15){   outcome  =&gt;  success ,   result  =&gt; {     should-renew-certificate  =&gt; false,     days-to-expiry  =&gt; 89L  }}If the expiration parameter is not provided, it will default to 30 days, i. e. , should-renew-certificate will returntrue if the certificate expires in less than 30 days and false otherwise. Using a CLI script to automate certificate renewal: Certificates issued by Let&#8217;s Encrypt are valid for 90 days. Let&#8217;s Encrypt recommends renewing certificates every 60 days. You can automate renewal by first creating a CLI script that checks if a certificate is due for renewal and if so, usesthe obtain-certificate command to renew it. You could then create a cron job that runs say, twice daily, and executesthe CLI script. A simple example of such a CLI script can be found below: if (result. should-renew-certificate == true) of /subsystem=elytron/key-store=serverKS:should-renew-certificate(alias=server)  # certificate is due for renewal in less than 30 days, obtain a new certificate to replace the existing one in the key-store  /subsystem=elytron/key-store=serverKS:obtain-certificate(alias=server,domain-names=[www. example. org],certificate-authority-account=myLetsEncryptAccount,agree-to-terms-of-service)  # re-initialize your key-manager to ensure your new certificate will be used without needing to restart the server  /subsystem=elytron/key-manager=httpsKM:init()end-ifNotice that in the above script, after renewing the certificate, we can simply execute the key-manager init command inorder to ensure that the new certificate will be used by the key-manager from now on without needing to restart WildFly. Updating the contact URLs associated with your Let&#8217;s Encrypt account: To update the contact URLs that are associated with your Let&#8217;s Encrypt, the following commands can be used: /subsystem=elytron/certificate-authority-account=myLetsEncryptAccount:write-attribute(name=contact-urls,value=[mailto:newadmin@admin. org])reload/subsystem=elytron/certificate-authority-account=myLetsEncryptAccount:update-account()Changing your Let&#8217;s Encrypt account key: If you ever want to change the key that is associated with your Let&#8217;s Encrypt account (e. g. , in the event of a keycompromise), the change-account-key command can be used: /subsystem=elytron/certificate-authority-account=myLetsEncryptAccount:change-account-key()Deactivating your Let&#8217;s Encrypt account: If you ever need to deactivate your Let&#8217;s Encrypt account, the deactivate-account command can be used: /subsystem=elytron/certificate-authority-account=myLetsEncryptAccount:deactivate-account()Summary: This blog post has given an overview on how to obtain and manage certificates from the Let&#8217;s Encrypt certificate authority using the WildFly CLI. " 
        
    } ,  {
        "id": 106,
        "url": "/wildfly-elytron/blog/custom-realm/",
        "link": "https://hkalina.github.io/2018/06/06/custom-realm/",
        "title": "Creating custom security realm for WildFly Elytron",
        "author": "hkalina",
        "postDate": "June 06, 2018",
        "body": "" 
        
    } ,  {
        "id": 107,
        "url": "/wildfly-elytron/blog/configuring-permissions-using-elytron-in-wildfly-13/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2018/06/01/configuring-permissions-using-elytron-in-wildfly-13",
        "title": "Configuring permissions using Elytron in WildFly 13",
        "author": "fjuma",
        "postDate": "June 01, 2018",
        "body": "" 
        
    } ,  {
        "id": 108,
        "url": "/wildfly-elytron/blog/cert-basic/",
        "link": "https://hkalina.github.io/2018/05/30/cert-basic/",
        "title": "Certificate authentication with password fallback in Elytron",
        "author": "hkalina",
        "postDate": "May 30, 2018",
        "body": "" 
        
    } ,  {
        "id": 109,
        "url": "/wildfly-elytron/blog/manipulating-keystores-using-the-cli-in-wildfly-12/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2018/03/02/manipulating-keystores-using-the-cli-in-wildfly-12",
        "title": "Manipulating KeyStores using the CLI in WildFly 12",
        "author": "fjuma",
        "postDate": "March 02, 2018",
        "body": "" 
        
    } ,  {
        "id": 110,
        "url": "/wildfly-elytron/blog/wildfly-elytron-implementing-custom/",
        "link": "https://darranl.blogspot.com/2018/02/wildfly-elytron-implementing-custom.html",
        "title": "WildFly Elytron - Implementing a Custom HTTP Authentication Mechanism",
        "author": "darranl",
        "postDate": "February 08, 2018",
        "body": "" 
        
    } ,  {
        "id": 111,
        "url": "/wildfly-elytron/blog/filesystem-realm/",
        "link": "https://hkalina.github.io/2018/01/24/filesystem-realm/",
        "title": "Filesystem realm in WildFly Elytron",
        "author": "hkalina",
        "postDate": "January 24, 2018",
        "body": "" 
        
    } ,  {
        "id": 112,
        "url": "/wildfly-elytron/blog/kerberos/",
        "link": "https://hkalina.github.io/2018/01/02/kerberos/",
        "title": "Configuration of Kerberos with Elytron in WildFly",
        "author": "hkalina",
        "postDate": "January 02, 2018",
        "body": "" 
        
    } ,  {
        "id": 113,
        "url": "/wildfly-elytron/blog/gssproxy/",
        "link": "https://hkalina.github.io/2018/01/02/gssproxy/",
        "title": "Elytron and Kerberos using gssproxy",
        "author": "hkalina",
        "postDate": "January 02, 2018",
        "body": "" 
        
    } ,  {
        "id": 114,
        "url": "/wildfly-elytron/blog/keystore-reload/",
        "link": "https://hkalina.github.io/2017/10/13/keystore-reload/",
        "title": "SSL key switch without server restart",
        "author": "hkalina",
        "postDate": "October 13, 2017",
        "body": "" 
        
    } ,  {
        "id": 115,
        "url": "/wildfly-elytron/blog/OpenSSL-Support-In-Wildfly/",
        "link": "https://wildfly.org/news/2017/10/06/OpenSSL-Support-In-Wildfly/",
        "title": "OpenSSL support with WildFly",
        "author": "stuartwdouglas",
        "postDate": "October 06, 2017",
        "body": "" 
        
    } ,  {
        "id": 116,
        "url": "/wildfly-elytron/blog/how-to-use-an-elytron-sasl-plus-mechanism/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2017/09/28/how-to-use-an-elytron-sasl-plus-mechanism",
        "title": "How to use an Elytron SASL mechanism that supports channel binding",
        "author": "fjuma",
        "postDate": "September 28, 2017",
        "body": "" 
        
    } ,  {
        "id": 117,
        "url": "/wildfly-elytron/blog/wildfly-elytron-add-kerberos/",
        "link": "https://darranl.blogspot.com/2017/09/wildfly-elytron-add-kerberos.html",
        "title": "WildFly Elytron - Add Kerberos Authentication To Existing Web Application",
        "author": "darranl",
        "postDate": "September 26, 2017",
        "body": "" 
        
    } ,  {
        "id": 118,
        "url": "/wildfly-elytron/blog/using-wildfly-elytron-with-undertow/",
        "link": "https://darranl.blogspot.com/2017/09/using-wildfly-elytron-with-undertow.html",
        "title": "Using WildFly Elytron with Undertow Standalone",
        "author": "darranl",
        "postDate": "September 08, 2017",
        "body": "" 
        
    } ,  {
        "id": 119,
        "url": "/wildfly-elytron/blog/getting-started-with-ejbs-and-elytron-part-2/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2017/09/08/getting-started-with-ejbs-and-elytron-part-2",
        "title": "Getting started with EJBs and Elytron Part 2: EJB invocations from remote servers",
        "author": "fjuma",
        "postDate": "September 08, 2017",
        "body": "" 
        
    } ,  {
        "id": 120,
        "url": "/wildfly-elytron/blog/getting-started-with-ejbs-and-elytron-part-1/",
        "link": "https://developer.jboss.org/people/fjuma/blog/2017/09/08/getting-started-with-ejbs-and-elytron-part-1",
        "title": "Getting started with EJBs and Elytron Part 1: Securing EJBs and invoking them from remote clients",
        "author": "fjuma",
        "postDate": "September 08, 2017",
        "body": "" 
        
    } ,  {
        "id": 121,
        "url": "/wildfly-elytron/blog/wildfly-elytron-principal-transformers/",
        "link": "https://darranl.blogspot.com/2017/07/wildfly-elytron-principal-transformers.html",
        "title": "WildFly Elytron - Principal Transformers, Realm Mappings, and Principal Decoders",
        "author": "darranl",
        "postDate": "July 14, 2017",
        "body": "" 
        
    } ,  {
        "id": 122,
        "url": "/wildfly-elytron/blog/wildfly-elytron-ssl-configuration/",
        "link": "https://darranl.blogspot.com/2016/02/wildfly-elytron-ssl-configuration.html",
        "title": "WildFly Elytron - SSL Configuration",
        "author": "darranl",
        "postDate": "February 24, 2016",
        "body": "" 
        
    }   ];

    var idx = lunr(function () {
        this.ref('id')
        this.field('title')
        this.field('body')
        documents.forEach(function (doc) {
            this.add(doc)
        }, this)
    });

    function lunr_search(terms) {

        document.getElementById('lunrsearchresults').innerHTML = '<div></div>';

        if (terms) {

            document.getElementById('lunrsearchresults').innerHTML = document.getElementById('lunrsearchresults').innerHTML + "<p>Search results for '" + terms + "'</p>";
            document.getElementById('lunrsearchresults').innerHTML = document.getElementById('lunrsearchresults').innerHTML + "<ul class=search-result></ul>";

            mountResultHtml(terms);
        } else {
            location.assign(window.location.pathname);
        }

        return false;
    }

    function mountResultHtml(terms) {

        var term = terms.split(" ");

        var termToSearch = "";

        for (let index = 0; index < term.length; index++) {
            termToSearch = term[index] + " +"
        }

        var results = idx.search(termToSearch);

        if (results.length > 0) {

            for (var i = 0; i < results.length; i++) {

                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var link = documents[ref]['link'];
                var body = documents[ref]['body'].substring(0, 75) + '...';
                var postDate = documents[ref]['postDate'];
                var realUrl = link == '' ? url : link;

                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML +
                    "<div class='lunrsearchresult'>" +
                    "<span class='post-title grid__item width-12-12'>" +
                    "<a href= '" + realUrl + "'>" + title + "</a>" +
                    "</span>" +
                    "</div>";

                document.querySelector("#posts-div").innerHTML = "";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>No results found...</li>";
        }
    }

    function checkSearchTerm(term) {
        if (term == "") {
            location.assign(window.location.pathname);
        }
    }

</script>

<style>
    #lunrsearchresults {
        padding-top: 0.2rem;
    }

    .lunrsearchresult {
        padding-bottom: 1rem;
    }

    .lunrsearchresult .title {
        color: #d9230f;
    }

    .lunrsearchresult .url {
        color: silver;
    }

    .lunrsearchresult a {
        display: block;
        color: #777;
    }

    .lunrsearchresult a:hover,
    .lunrsearchresult a:focus {
        text-decoration: none;
    }

    .lunrsearchresult a:hover .title {
        text-decoration: underline;
    }
</style>


<form onSubmit="return lunr_search(document.getElementById('lunrsearch').value);" class="grid__item">
    <p><input type="text" class="form-control search-input" onkeyup="checkSearchTerm(this.value)" id="lunrsearch"
            name="q" value="" placeholder="Search..." /></p>
</form>
<div id="lunrsearchresults">
    <ul id="search-result" name="search-result" class="search-result"></ul>
</div>

    <div id="posts-div" name="posts-div">
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/case-principal-transformer/">Using case principal transformers in Elytron</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/abf96d05af53c494685384d382dba345">
            
            <p class="byline">By <a href="https://github.com/SoniaZaldana">Sonia Zaldana Calles</a>
              <br/>
              <small>January 12, 2021 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/principal-transformer"> #principal-transformer</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/case-principal-transformer/&title=Using case principal transformers in Elytron" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Using case principal transformers in Elytron&url=https://wildfly-security.github.io/wildfly-elytron/blog/case-principal-transformer/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/case-principal-transformer/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/case-principal-transformer/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Using case principal transformers in Elytron&amp;body=Using case principal transformers in Elytron https://wildfly-security.github.io/wildfly-elytron/blog/case-principal-transformer/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An overview of the new case principal transformer included in WildFly 22.</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/case-principal-transformer/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/tls-13-with-wildfly-openssl/">TLS 1.3 support for WildFly with OpenSSL</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/e07a676199f6ad0af96a61a691b114b3">
            
            <p class="byline">By <a href="https://github.com/fjuma">Farah Juma</a>
              <br/>
              <small>October 14, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/tls"> #tls</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/ssl"> #ssl</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/openssl"> #openssl</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/tls-13-with-wildfly-openssl/&title=TLS 1.3 support for WildFly with OpenSSL" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=TLS 1.3 support for WildFly with OpenSSL&url=https://wildfly-security.github.io/wildfly-elytron/blog/tls-13-with-wildfly-openssl/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/tls-13-with-wildfly-openssl/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/tls-13-with-wildfly-openssl/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=TLS 1.3 support for WildFly with OpenSSL&amp;body=TLS 1.3 support for WildFly with OpenSSL https://wildfly-security.github.io/wildfly-elytron/blog/tls-13-with-wildfly-openssl/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An overview of the new TLS 1.3 support included in WildFly 21.</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/tls-13-with-wildfly-openssl/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/ssh-auth-for-git-persistence/">SSH Authentication with Git Persistence</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/9e5eb1d1c78e5aa6a1eb8365464049c8">
            
            <p class="byline">By <a href="https://github.com/ashley-abdelsayed98">Ashley Abdel-Sayed</a>
              <br/>
              <small>October 14, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/client"> #client</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/ssh"> #ssh</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/git-persistence"> #git-persistence</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/ssh-auth-for-git-persistence/&title=SSH Authentication with Git Persistence" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=SSH Authentication with Git Persistence&url=https://wildfly-security.github.io/wildfly-elytron/blog/ssh-auth-for-git-persistence/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/ssh-auth-for-git-persistence/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/ssh-auth-for-git-persistence/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=SSH Authentication with Git Persistence&amp;body=SSH Authentication with Git Persistence https://wildfly-security.github.io/wildfly-elytron/blog/ssh-auth-for-git-persistence/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An overview on how to use SSH credentials with the Elytron client to connect to a git repository that manages the WildFly server configuration file history.</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/ssh-auth-for-git-persistence/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/resteasy-elytron-client-integration/">RESTEasy client integration with WildFly Elytron client</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/4336bee4b72f539ef5f8cc0d2c6026f5">
            
            <p class="byline">By <a href="https://github.com/Skyllarr">Diana Krepinska Vilkolakova</a>
              <br/>
              <small>October 14, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/resteasy"> #resteasy</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/client"> #client</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/bearer"> #bearer</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/token"> #token</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/basic"> #basic</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/authentication"> #authentication</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/ssl"> #ssl</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/tls"> #tls</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/resteasy-elytron-client-integration/&title=RESTEasy client integration with WildFly Elytron client" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=RESTEasy client integration with WildFly Elytron client&url=https://wildfly-security.github.io/wildfly-elytron/blog/resteasy-elytron-client-integration/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/resteasy-elytron-client-integration/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/resteasy-elytron-client-integration/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=RESTEasy client integration with WildFly Elytron client&amp;body=RESTEasy client integration with WildFly Elytron client https://wildfly-security.github.io/wildfly-elytron/blog/resteasy-elytron-client-integration/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An overview of the new RESTEasy client integration with WildFly Elytron client</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/resteasy-elytron-client-integration/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/new-security-features-in-wildfly-21/">New Security Features in WildFly 21</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/e07a676199f6ad0af96a61a691b114b3">
            
            <p class="byline">By <a href="https://github.com/fjuma">Farah Juma</a>
              <br/>
              <small>October 14, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/release"> #release</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/new-security-features-in-wildfly-21/&title=New Security Features in WildFly 21" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=New Security Features in WildFly 21&url=https://wildfly-security.github.io/wildfly-elytron/blog/new-security-features-in-wildfly-21/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/new-security-features-in-wildfly-21/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/new-security-features-in-wildfly-21/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=New Security Features in WildFly 21&amp;body=New Security Features in WildFly 21 https://wildfly-security.github.io/wildfly-elytron/blog/new-security-features-in-wildfly-21/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An overview of the new security features in WildFly 21.</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/new-security-features-in-wildfly-21/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/http-external-mechanism/">HTTP External Mechanism</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/9e5eb1d1c78e5aa6a1eb8365464049c8">
            
            <p class="byline">By <a href="https://github.com/ashley-abdelsayed98">Ashley Abdel-Sayed</a>
              <br/>
              <small>October 14, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/http"> #http</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/external"> #external</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/http-external-mechanism/&title=HTTP External Mechanism" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=HTTP External Mechanism&url=https://wildfly-security.github.io/wildfly-elytron/blog/http-external-mechanism/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/http-external-mechanism/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/http-external-mechanism/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=HTTP External Mechanism&amp;body=HTTP External Mechanism https://wildfly-security.github.io/wildfly-elytron/blog/http-external-mechanism/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>Overview of Elytron support for the HTTP External Mechanism</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/http-external-mechanism/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/distributed-and-failover-realms/">An overview of new security realm implementations</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
            <p class="byline">By <a href="https://github.com/nekdozjam">Martin Mazanek</a>
              <br/>
              <small>October 14, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/security-realm"> #security-realm</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/distributed-realm"> #distributed-realm</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/failover-realm"> #failover-realm</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/distributed-and-failover-realms/&title=An overview of new security realm implementations" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=An overview of new security realm implementations&url=https://wildfly-security.github.io/wildfly-elytron/blog/distributed-and-failover-realms/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/distributed-and-failover-realms/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/distributed-and-failover-realms/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=An overview of new security realm implementations&amp;body=An overview of new security realm implementations https://wildfly-security.github.io/wildfly-elytron/blog/distributed-and-failover-realms/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An overview of the new realm implementations in WildFly Elytron and WildFly 21.</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/distributed-and-failover-realms/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/anomaly-based-intrusion-detection-system/">Anomaly based Intrusion Detection System</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/1fe80158e423117f4c183179e0c32cb1">
            
            <p class="byline">By <a href="https://github.com/piyush-palta">Piyush Palta</a>
              <br/>
              <small>August 29, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/anomaly-detection"> #anomaly-detection</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/intrusion-detection"> #intrusion-detection</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/machine-learning"> #machine-learning</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/anomaly-based-intrusion-detection-system/&title=Anomaly based Intrusion Detection System" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Anomaly based Intrusion Detection System&url=https://wildfly-security.github.io/wildfly-elytron/blog/anomaly-based-intrusion-detection-system/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/anomaly-based-intrusion-detection-system/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/anomaly-based-intrusion-detection-system/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Anomaly based Intrusion Detection System&amp;body=Anomaly based Intrusion Detection System https://wildfly-security.github.io/wildfly-elytron/blog/anomaly-based-intrusion-detection-system/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An introduction to Anomaly based Intrusion Detection System</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/anomaly-based-intrusion-detection-system/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/introduction-rule-engine-and-blacklist-dump/">Introduction to Rule Engine & Blacklist IP Dump of Intrusion Detection System</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/1fe80158e423117f4c183179e0c32cb1">
            
            <p class="byline">By <a href="https://github.com/piyush-palta">Piyush Palta</a>
              <br/>
              <small>July 27, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/intrusion-detection"> #intrusion-detection</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/rule-engine"> #rule-engine</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/introduction-rule-engine-and-blacklist-dump/&title=Introduction to Rule Engine & Blacklist IP Dump of Intrusion Detection System" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Introduction to Rule Engine & Blacklist IP Dump of Intrusion Detection System&url=https://wildfly-security.github.io/wildfly-elytron/blog/introduction-rule-engine-and-blacklist-dump/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/introduction-rule-engine-and-blacklist-dump/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/introduction-rule-engine-and-blacklist-dump/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Introduction to Rule Engine & Blacklist IP Dump of Intrusion Detection System&amp;body=Introduction to Rule Engine & Blacklist IP Dump of Intrusion Detection System https://wildfly-security.github.io/wildfly-elytron/blog/introduction-rule-engine-and-blacklist-dump/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An overview of the Rule Engine and Blacklist IP Dump of Intrusion Detection System using Elytron's security events</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/introduction-rule-engine-and-blacklist-dump/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/architectural-overview-intrusion-detection-system/">An Introduction to Intrusion Detection System using Elytron</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/1fe80158e423117f4c183179e0c32cb1">
            
            <p class="byline">By <a href="https://github.com/piyush-palta">Piyush Palta</a>
              <br/>
              <small>June 30, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/security-events"> #security-events</a>
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/intrusion-detection"> #intrusion-detection</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/architectural-overview-intrusion-detection-system/&title=An Introduction to Intrusion Detection System using Elytron" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=An Introduction to Intrusion Detection System using Elytron&url=https://wildfly-security.github.io/wildfly-elytron/blog/architectural-overview-intrusion-detection-system/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/architectural-overview-intrusion-detection-system/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/architectural-overview-intrusion-detection-system/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=An Introduction to Intrusion Detection System using Elytron&amp;body=An Introduction to Intrusion Detection System using Elytron https://wildfly-security.github.io/wildfly-elytron/blog/architectural-overview-intrusion-detection-system/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An architectural overview of the Intrusion Detection System using Elytron's security events</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/architectural-overview-intrusion-detection-system/">Read More &rsaquo;</a></div>
        </div>
      
        
        <div class="blog-list-item grid-wrapper">
          <div class="post-title grid__item width-12-12">
            <a href="/wildfly-elytron/blog/regex-role-mapper/">Using regex role mapper in Elytron</a>
          </div>
          <div class="grid__item width-8-12 width-12-12-m byline-wrapper">
            
              <img class="headshot" src="https://www.gravatar.com/avatar/4336bee4b72f539ef5f8cc0d2c6026f5">
            
            <p class="byline">By <a href="https://github.com/Skyllarr">Diana Krepinska Vilkolakova</a>
              <br/>
              <small>June 16, 2020 |
                
                  
                    <a class="tags" href="/wildfly-elytron/blog/tag/role-mapper"> #role-mapper</a>
                  
              
              </small>
            </p>
          </div>
          
          <div class="grid__item width-4-12 width-12-12-m"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/&title=Using regex role mapper in Elytron" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fab fa-linkedin"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Using regex role mapper in Elytron&url=https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/&via=WildFlyAS&related=WildFlyAS" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="fab fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fab fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fab fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Using regex role mapper in Elytron&amp;body=Using regex role mapper in Elytron https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/" title="Share via Email" >
    <i class="fas fa-envelope-square"></i>
  </a>
</div>
</div>
          <div class="grid__item width-12-12">
            
              <p>An overview of the new regex role mapper included in WildFly 20.</p>
            
          </div>
          <div class="grid__item width-12-12"><a href="/wildfly-elytron/blog/regex-role-mapper/">Read More &rsaquo;</a></div>
        </div>
      
      
        <div class="paginator-btns">
          
            <a href="/wildfly-elytron/blog/page/5/" class="button-cta secondary">Newer Posts</a>
          
          
            <a href="/wildfly-elytron/blog/page/7/" class="button-cta secondary">Older Posts</a>
            
        </div>
      
    </div>

  </div>

  <div class="grid__item width-1-12 width-12-12-m"></div>

  <div class="grid__item width-2-12 width-12-12-m">
    <div class="grid__item width-2-12 align-self-center">
     <a href="/wildfly-elytron/feed.xml"><i class="fas fa-rss-square"></i></a>
    </div>
     <h3 class="tags-label">Tags</h3>
     
     
      
      
      <a href="/wildfly-elytron/blog/tag/acme">acme</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/adapter">adapter</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/aes">aes</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/algorithm">algorithm</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ama">ama</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/anomaly-detection">anomaly-detection</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/audit-logging">audit-logging</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/authentication">authentication</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/authorization">authorization</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/basic">basic</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/bearer">bearer</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/certificate">certificate</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/cli">cli</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/client">client</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/client-cert">client-cert</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/client-config">client-config</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/console">console</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/credential-store">credential-store</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/custom-component">custom-component</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/custom-principal">custom-principal</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/default-ssl-context">default-ssl-context</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/delegation">delegation</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/digest">digest</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/distributed-realm">distributed-realm</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/dynamic">dynamic</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ejb">ejb</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/encoding">encoding</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/encryption">encryption</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/expression">expression</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/external">external</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/factory">factory</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/failover-realm">failover-realm</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/faq">faq</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/filesystem-realm">filesystem-realm</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/galleon">galleon</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/galleon-pack">galleon-pack</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ghc">ghc</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ghc22">ghc22</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ghc23">ghc23</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/git-persistence">git-persistence</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/git-tips">git-tips</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/github">github</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/hacktoberfest">hacktoberfest</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/hash">hash</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/http">http</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/https">https</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/identity">identity</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/integrity">integrity</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/intrusion-detection">intrusion-detection</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/jaas">jaas</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/jaspi">jaspi</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/java">java</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/jetty">jetty</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/jvm">jvm</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/kerberos">kerberos</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/keycloak">keycloak</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/keystore">keystore</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ldap">ldap</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/lets-encrypt">lets-encrypt</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/login-context">login-context</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/login-module">login-module</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/machine-learning">machine-learning</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/management">management</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/management-model">management-model</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/migration">migration</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/netty">netty</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/oath2">oath2</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/oidc">oidc</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/openshift">openshift</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/opensource">opensource</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/opensourceday">opensourceday</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/openssl">openssl</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/osd">osd</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/peer">peer</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/permissions">permissions</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/planning">planning</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/principal">principal</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/principal-decoder">principal-decoder</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/principal-propagation">principal-propagation</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/principal-transformer">principal-transformer</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/properties">properties</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/provider">provider</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/realm">realm</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/realm-mapper">realm-mapper</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/recap">recap</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/release">release</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/remote">remote</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/resteasy">resteasy</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/rfc">rfc</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/role-mapper">role-mapper</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/rule-engine">rule-engine</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/saml">saml</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/sasl">sasl</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/security-events">security-events</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/security-realm">security-realm</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/sha-256">sha-256</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/sha-512-256">sha-512-256</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/sni">sni</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/spi">spi</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/spnego">spnego</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ssh">ssh</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ssl">ssl</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ssl-context">ssl-context</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/sso">sso</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/tls">tls</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/token">token</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/tool">tool</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/trust-manager">trust-manager</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/truststore">truststore</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/undertow">undertow</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/updates">updates</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/ux">ux</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/vault">vault</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/vlog">vlog</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/webservices">webservices</a></br>
     
      
      
      <a href="/wildfly-elytron/blog/tag/x509">x509</a></br>
     
   </div>
</div>

            </div>
        </div>
    </main>
</div>
</body>
</html>
